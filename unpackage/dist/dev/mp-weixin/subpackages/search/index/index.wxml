<base-container vue-id="1966b628-1" class="data-v-1f64c2c4" bind:__l="__l" vue-slots="{{['default']}}"><view class="search-container data-v-1f64c2c4"><view class="custom-header data-v-1f64c2c4"><view data-event-opts="{{[['tap',[['goBack',['$event']]]]]}}" class="back-btn data-v-1f64c2c4" bindtap="__e"><u-icon vue-id="{{('1966b628-2')+','+('1966b628-1')}}" name="arrow-left" color="#333" size="20" class="data-v-1f64c2c4" bind:__l="__l"></u-icon></view><view class="header-title data-v-1f64c2c4"><text class="data-v-1f64c2c4">搜索</text></view><view class="header-placeholder data-v-1f64c2c4"></view></view><view class="search-header data-v-1f64c2c4"><view class="search-input-wrapper data-v-1f64c2c4"><view class="search-icon data-v-1f64c2c4"><u-icon vue-id="{{('1966b628-3')+','+('1966b628-1')}}" name="search" color="#999" size="20" class="data-v-1f64c2c4" bind:__l="__l"></u-icon></view><input class="search-input data-v-1f64c2c4" placeholder="搜索商品" focus="{{true}}" data-event-opts="{{[['input',[['__set_model',['','searchKeyword','$event',[]]],['onSearchInput',['$event']]]],['confirm',[['onSearchConfirm',['$event']]]]]}}" value="{{searchKeyword}}" bindinput="__e" bindconfirm="__e"/><block wx:if="{{searchKeyword}}"><view data-event-opts="{{[['tap',[['clearSearch',['$event']]]]]}}" class="clear-icon data-v-1f64c2c4" bindtap="__e"><u-icon vue-id="{{('1966b628-4')+','+('1966b628-1')}}" name="close" color="#999" size="16" class="data-v-1f64c2c4" bind:__l="__l"></u-icon></view></block><block wx:if="{{searchKeyword}}"><view data-event-opts="{{[['tap',[['onSearchConfirm',['$event']]]]]}}" class="search-btn data-v-1f64c2c4" bindtap="__e"><text class="data-v-1f64c2c4">搜索</text></view></block></view></view><block wx:if="{{$root.g0}}"><view class="search-history data-v-1f64c2c4"><view class="section-header data-v-1f64c2c4"><text class="section-title data-v-1f64c2c4">搜索历史</text><view data-event-opts="{{[['tap',[['clearHistory',['$event']]]]]}}" class="clear-history data-v-1f64c2c4" bindtap="__e"><u-icon vue-id="{{('1966b628-5')+','+('1966b628-1')}}" name="trash" color="#999" size="16" class="data-v-1f64c2c4" bind:__l="__l"></u-icon></view></view><view class="history-list data-v-1f64c2c4"><block wx:for="{{searchHistory}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['searchByHistory',['$0'],[[['searchHistory','',index]]]]]]]}}" class="history-item data-v-1f64c2c4" bindtap="__e"><text class="history-text data-v-1f64c2c4">{{item}}</text><view data-event-opts="{{[['tap',[['deleteHistoryItem',[index]]]]]}}" class="delete-history data-v-1f64c2c4" catchtap="__e"><u-icon vue-id="{{('1966b628-6-'+index)+','+('1966b628-1')}}" name="close" color="#999" size="14" class="data-v-1f64c2c4" bind:__l="__l"></u-icon></view></view></block></view></view></block><block wx:if="{{$root.g1}}"><view class="search-results data-v-1f64c2c4"><view class="section-header data-v-1f64c2c4"><text class="section-title data-v-1f64c2c4">搜索结果</text><text class="result-count data-v-1f64c2c4">{{"共"+$root.g2+"条"}}</text></view><view class="result-list data-v-1f64c2c4"><block wx:if="{{loading}}"><view class="loading-container data-v-1f64c2c4"><u-loading-icon vue-id="{{('1966b628-7')+','+('1966b628-1')}}" mode="spinner" size="40" class="data-v-1f64c2c4" bind:__l="__l"></u-loading-icon><text class="loading-text data-v-1f64c2c4">搜索中...</text></view></block><block wx:for="{{searchResults}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['goToProductDetail',['$0'],[[['searchResults','',index]]]]]]]}}" class="result-item data-v-1f64c2c4" bindtap="__e"><image class="result-img data-v-1f64c2c4" src="{{item.img}}" mode="aspectFill"></image><view class="result-info data-v-1f64c2c4"><view class="result-header data-v-1f64c2c4"><view class="result-name data-v-1f64c2c4">{{item.name}}</view><view class="result-price-section data-v-1f64c2c4"><text class="result-price data-v-1f64c2c4">{{"¥"+item.price}}</text><block wx:if="{{item.originalPrice&&item.originalPrice>item.price}}"><text class="result-original-price data-v-1f64c2c4">{{"¥"+item.originalPrice}}</text></block></view></view><view class="result-desc data-v-1f64c2c4">{{item.desc}}</view><view class="result-stats data-v-1f64c2c4"><text class="stat-item data-v-1f64c2c4">{{"销量: "+(item.soldNum||0)}}</text></view></view></view></block></view></view></block><block wx:if="{{$root.g3}}"><view class="hot-search data-v-1f64c2c4"><view class="section-header data-v-1f64c2c4"><text class="section-title data-v-1f64c2c4">热门搜索</text></view><view class="hot-list data-v-1f64c2c4"><block wx:for="{{hotSearch}}" wx:for-item="item" wx:for-index="index" wx:key="index"><view data-event-opts="{{[['tap',[['searchByHot',['$0'],[[['hotSearch','',index]]]]]]]}}" class="hot-item data-v-1f64c2c4" bindtap="__e"><block wx:if="{{index===0}}"><view class="hot-rank rank-first data-v-1f64c2c4">1</view></block><block wx:else><block wx:if="{{index===1}}"><view class="hot-rank rank-second data-v-1f64c2c4">2</view></block><block wx:else><block wx:if="{{index===2}}"><view class="hot-rank rank-third data-v-1f64c2c4">3</view></block><block wx:else><view class="hot-rank rank-default data-v-1f64c2c4">{{''+(index+1)+''}}</view></block></block></block><text class="hot-text data-v-1f64c2c4">{{item}}</text></view></block></view></view></block></view></base-container>