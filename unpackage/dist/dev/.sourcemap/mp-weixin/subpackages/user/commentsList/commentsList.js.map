<<<<<<< Updated upstream
{"version":3,"sources":["uni-app:///main.js","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?5564","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?3ab7","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?7bd2","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?5627","uni-app:///subpackages/user/commentsList/commentsList.vue","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?5c21","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/user/commentsList/commentsList.vue?2081"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","statusBarHeight","loading","refreshing","loadingMore","hasMore","currentPage","pageSize","commentsList","statsData","userInfo","onLoad","methods","initPage","sys","getUserInfo","uni","title","icon","console","loadCommentsData","refresh","page","userId","res","mockData","list","stats","getMockCommentsData","setTimeout","id","goodsId","goodsName","goodsImage","goodsPrice","rating","content","images","createTime","merchantReply","totalCount","recentCount","resolve","onRefresh","onLoadMore","formatTime","previewImage","current","urls","goToProductDetail","url","goBack","delta"],"mappings":"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","file":"subpackages/user/commentsList/commentsList.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/user/commentsList/commentsList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./commentsList.vue?vue&type=template&id=71d9765b&scoped=true&\"\nvar renderjs\nimport script from \"./commentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71d9765b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/user/commentsList/commentsList.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=template&id=71d9765b&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uni_modules/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.commentsList.length\n  var l0 =\n    g0 > 0\n      ? _vm.__map(_vm.commentsList, function (comment, index) {\n          var $orig = _vm.__get_orig(comment)\n          var m0 = _vm.formatTime(comment.createTime)\n          var g1 = comment.images && comment.images.length > 0\n          return {\n            $orig: $orig,\n            m0: m0,\n            g1: g1,\n          }\n        })\n      : null\n  var g2 = !_vm.loading && _vm.commentsList.length === 0\n  var g3 = _vm.hasMore && _vm.commentsList.length > 0\n  var g4 = !_vm.hasMore && _vm.commentsList.length > 0\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"comments-list-page\">\n\t\t<!-- 状态栏 -->\n\t\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n\t\t\n\t\t<!-- 导航栏 -->\n\t\t<view class=\"nav-bar\">\n\t\t\t<view class=\"nav-content\">\n\t\t\t\t<view class=\"nav-left\" @click=\"goBack\">\n\t\t\t\t\t<u-icon name=\"arrow-left\" size=\"20\" color=\"#333\"></u-icon>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"nav-title\">我的评价</view>\n\t\t\t\t<view class=\"nav-right\"></view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 评论列表 -->\n\t\t<scroll-view class=\"comments-container\" scroll-y refresher-enabled :refresher-triggered=\"refreshing\"\n\t\t\t@refresherrefresh=\"onRefresh\" @scrolltolower=\"onLoadMore\">\n\t\t\t\n\t\t\t<!-- 评论统计 -->\n\t\t\t<view class=\"comments-stats\" v-if=\"statsData\">\n\t\t\t\t<view class=\"stats-card\">\n\t\t\t\t\t<view class=\"stats-item\">\n\t\t\t\t\t\t<text class=\"stats-number\">{{ statsData.totalCount }}</text>\n\t\t\t\t\t\t<text class=\"stats-label\">总评价</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"stats-divider\"></view>\n\t\t\t\t\t<view class=\"stats-item\">\n\t\t\t\t\t\t<text class=\"stats-number\">{{ statsData.recentCount }}</text>\n\t\t\t\t\t\t<text class=\"stats-label\">本月评价</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 评论列表 -->\n\t\t\t<view class=\"comments-list\" v-if=\"commentsList.length > 0\">\n\t\t\t\t<view class=\"comment-item\" v-for=\"(comment, index) in commentsList\" :key=\"index\">\n\t\t\t\t\t<!-- 商品信息 -->\n\t\t\t\t\t<view class=\"product-info\" @click=\"goToProductDetail(comment.goodsId)\">\n\t\t\t\t\t\t<image class=\"product-image\" :src=\"comment.goodsImage\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"product-details\">\n\t\t\t\t\t\t\t<text class=\"product-name\">{{ comment.goodsName }}</text>\n\t\t\t\t\t\t\t<view class=\"product-price\">\n\t\t\t\t\t\t\t\t<text class=\"price-symbol\">¥</text>\n\t\t\t\t\t\t\t\t<text class=\"price-value\">{{ comment.goodsPrice }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"nav-arrow\">\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" size=\"14\" color=\"#ccc\"></u-icon>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 评价内容 -->\n\t\t\t\t\t<view class=\"comment-content\">\n\t\t\t\t\t\t<!-- 评分和时间 -->\n\t\t\t\t\t\t<view class=\"comment-header\">\n\t\t\t\t\t\t\t<view class=\"rating-stars\">\n\t\t\t\t\t\t\t\t<u-icon v-for=\"star in 5\" :key=\"star\" name=\"star-fill\"\n\t\t\t\t\t\t\t\t\t:color=\"star <= comment.rating ? '#ffa500' : '#e0e0e0'\" size=\"16\"></u-icon>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"comment-time\">{{ formatTime(comment.createTime) }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 评价文字 -->\n\t\t\t\t\t\t<view class=\"comment-text\" v-if=\"comment.content\">\n\t\t\t\t\t\t\t<text>{{ comment.content }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 评价图片 -->\n\t\t\t\t\t\t<view class=\"comment-images\" v-if=\"comment.images && comment.images.length > 0\">\n\t\t\t\t\t\t\t<image v-for=\"(img, imgIndex) in comment.images\" :key=\"imgIndex\" class=\"comment-image\"\n\t\t\t\t\t\t\t\t:src=\"img\" mode=\"aspectFill\" @click=\"previewImage(comment.images, imgIndex)\">\n\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 商家回复 -->\n\t\t\t\t\t\t<view class=\"merchant-reply\" v-if=\"comment.merchantReply\">\n\t\t\t\t\t\t\t<view class=\"reply-header\">\n\t\t\t\t\t\t\t\t<text class=\"reply-label\">商家回复</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"reply-content\">\n\t\t\t\t\t\t\t\t<text>{{ comment.merchantReply }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 空状态 -->\n\t\t\t<view class=\"empty-state\" v-if=\"!loading && commentsList.length === 0\">\n\t\t\t\t<image class=\"empty-image\" src=\"/static/images/empty-comment.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"empty-text\">还没有评价记录</text>\n\t\t\t\t<text class=\"empty-tip\">快去购买商品并评价吧~</text>\n\t\t\t</view>\n\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"load-more\" v-if=\"hasMore && commentsList.length > 0\">\n\t\t\t\t<u-loading-icon v-if=\"loadingMore\"></u-loading-icon>\n\t\t\t\t<text>{{ loadingMore ? '加载中...' : '上拉加载更多' }}</text>\n\t\t\t</view>\n\n\t\t\t<!-- 没有更多 -->\n\t\t\t<view class=\"no-more\" v-if=\"!hasMore && commentsList.length > 0\">\n\t\t\t\t<text>没有更多评价了</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport { getUserCommentsList } from '@/api/goods'\n\t\n\texport default {\n\t\tname: 'CommentsList',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 系统信息\n\t\t\t\tstatusBarHeight: 0,\n\n\t\t\t\t// 数据状态\n\t\t\t\tloading: false,\n\t\t\t\trefreshing: false,\n\t\t\t\tloadingMore: false,\n\t\t\t\thasMore: true,\n\t\t\t\t\n\t\t\t\t// 分页\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tpageSize: 10,\n\n\t\t\t\t// 评论数据\n\t\t\t\tcommentsList: [],\n\t\t\t\tstatsData: null,\n\n\t\t\t\t// 用户信息\n\t\t\t\tuserInfo: null\n\t\t\t}\n\t\t},\n\n\t\tonLoad() {\n\t\t\tthis.initPage()\n\t\t},\n\n\t\tmethods: {\n\t\t\t// 初始化页面\n\t\t\tasync initPage() {\n\t\t\t\t// 获取系统信息\n\t\t\t\tconst sys = uni.getSystemInfoSync()\n\t\t\t\tthis.statusBarHeight = sys.statusBarHeight || 0\n\n\t\t\t\t// 获取用户信息\n\t\t\t\tthis.getUserInfo()\n\n\t\t\t\t// 加载数据\n\t\t\t\tawait this.loadCommentsData()\n\t\t\t},\n\n\t\t\t// 获取用户信息\n\t\t\tgetUserInfo() {\n\t\t\t\ttry {\n\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\t\t\tif (userInfo) {\n\t\t\t\t\t\tthis.userInfo = typeof userInfo === 'string' ? JSON.parse(userInfo) : userInfo\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 可以在这里跳转到登录页面\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取用户信息失败:', error)\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 加载评论数据\n\t\t\tasync loadCommentsData(refresh = false) {\n\t\t\t\tif (this.loading || this.loadingMore) return\n\n\t\t\t\tif (refresh) {\n\t\t\t\t\tthis.refreshing = true\n\t\t\t\t\tthis.currentPage = 1\n\t\t\t\t\tthis.hasMore = true\n\t\t\t\t} else if (this.currentPage === 1) {\n\t\t\t\t\tthis.loading = true\n\t\t\t\t} else {\n\t\t\t\t\tthis.loadingMore = true\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\t// TODO getUserCommentsList 会在这里使用\n\t\t\t\t\tconst res = await getUserCommentsList({\n\t\t\t\t\t\tpage: this.currentPage,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\tuserId: this.userInfo?.userId || this.userInfo?.id\n\t\t\t\t\t})\n\n\t\t\t\t\tlet mockData\n\t\t\t\t\tif (res.code === 200 && res.data) {\n\t\t\t\t\t\t// 使用真实API数据\n\t\t\t\t\t\tmockData = {\n\t\t\t\t\t\t\tlist: res.data.list || [],\n\t\t\t\t\t\t\tstats: res.data.stats || null\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 回退到模拟数据\n\t\t\t\t\t\tmockData = await this.getMockCommentsData()\n\t\t\t\t\t}\n\n\t\t\t\t\tif (refresh || this.currentPage === 1) {\n\t\t\t\t\t\tthis.commentsList = mockData.list\n\t\t\t\t\t\tthis.statsData = mockData.stats\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.commentsList.push(...mockData.list)\n\t\t\t\t\t}\n\n\t\t\t\t\t// 判断是否还有更多数据\n\t\t\t\t\tthis.hasMore = mockData.list.length >= this.pageSize\n\t\t\t\t\t\n\t\t\t\t\tif (this.hasMore) {\n\t\t\t\t\t\tthis.currentPage++\n\t\t\t\t\t}\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载评论数据失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载失败，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\tthis.refreshing = false\n\t\t\t\t\tthis.loadingMore = false\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 模拟评论数据\n\t\t\tasync getMockCommentsData() {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst mockComments = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\tgoodsId: '1001',\n\t\t\t\t\t\t\t\tgoodsName: '苹果iPhone 15 Pro Max 256GB 自然钛色',\n\t\t\t\t\t\t\t\tgoodsImage: 'https://img.alicdn.com/imgextra/i1/123456789/example1.jpg',\n\t\t\t\t\t\t\t\tgoodsPrice: 9999,\n\t\t\t\t\t\t\t\trating: 5,\n\t\t\t\t\t\t\t\tcontent: '手机非常好用，运行流畅，拍照效果很棒，值得推荐！',\n\t\t\t\t\t\t\t\timages: [\n\t\t\t\t\t\t\t\t\t'https://img.alicdn.com/imgextra/i1/123456789/review1.jpg',\n\t\t\t\t\t\t\t\t\t'https://img.alicdn.com/imgextra/i2/123456789/review2.jpg'\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tcreateTime: '2024-01-15 14:30:00',\n\t\t\t\t\t\t\t\tmerchantReply: '感谢您的好评，我们会继续努力为您提供优质的产品和服务！'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\t\t\tgoodsId: '1002',\n\t\t\t\t\t\t\t\tgoodsName: '华为Mate 60 Pro 12GB+512GB 雅川青',\n\t\t\t\t\t\t\t\tgoodsImage: 'https://img.alicdn.com/imgextra/i2/123456789/example2.jpg',\n\t\t\t\t\t\t\t\tgoodsPrice: 6999,\n\t\t\t\t\t\t\t\trating: 4,\n\t\t\t\t\t\t\t\tcontent: '整体不错，系统流畅，电池续航很好。',\n\t\t\t\t\t\t\t\timages: [],\n\t\t\t\t\t\t\t\tcreateTime: '2024-01-10 16:20:00',\n\t\t\t\t\t\t\t\tmerchantReply: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\n\t\t\t\t\t\tconst stats = {\n\t\t\t\t\t\t\ttotalCount: 25,\n\t\t\t\t\t\t\trecentCount: 8\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tlist: this.currentPage === 1 ? mockComments : [],\n\t\t\t\t\t\t\tstats: stats\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 800)\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 下拉刷新\n\t\t\tasync onRefresh() {\n\t\t\t\tawait this.loadCommentsData(true)\n\t\t\t},\n\n\t\t\t// 上拉加载更多\n\t\t\tasync onLoadMore() {\n\t\t\t\tif (this.hasMore && !this.loadingMore) {\n\t\t\t\t\tawait this.loadCommentsData()\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 格式化时间\n\t\t\tformatTime(timeStr) {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst time = new Date(timeStr)\n\t\t\t\tconst diff = now - time\n\t\t\t\tconst days = Math.floor(diff / (1000 * 60 * 60 * 24))\n\n\t\t\t\tif (days === 0) {\n\t\t\t\t\treturn '今天'\n\t\t\t\t} else if (days === 1) {\n\t\t\t\t\treturn '昨天'\n\t\t\t\t} else if (days < 30) {\n\t\t\t\t\treturn `${days}天前`\n\t\t\t\t} else {\n\t\t\t\t\treturn timeStr.split(' ')[0]\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 预览图片\n\t\t\tpreviewImage(images, index) {\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent: index,\n\t\t\t\t\turls: images\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 跳转到商品详情\n\t\t\tgoToProductDetail(goodsId) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/subpackages/goods/detail/detail?goodsId=${goodsId}`\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 返回上一页\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.comments-list-page {\n\t\theight: 100vh;\n\t\tbackground: #f5f5f5;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t/* 状态栏 */\n\t.status-bar {\n\t\tbackground: #fff;\n\t}\n\n\t/* 导航栏 */\n\t.nav-bar {\n\t\tbackground: #fff;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\n\t.nav-content {\n\t\theight: 88rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 0 30rpx;\n\t}\n\n\t.nav-left,\n\t.nav-right {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.nav-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #333;\n\t}\n\n\t/* 主要内容区域 */\n\t.comments-container {\n\t\tflex: 1;\n\t\theight: 0;\n\t}\n\n\t/* 评论统计 */\n\t.comments-stats {\n\t\tpadding: 30rpx;\n\t\tbackground: #f5f5f5;\n\t}\n\n\t.stats-card {\n\t\tbackground: #fff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 40rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 60rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.stats-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.stats-number {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #1890ff;\n\t}\n\n\t.stats-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t}\n\n\t.stats-divider {\n\t\twidth: 1rpx;\n\t\theight: 60rpx;\n\t\tbackground: #e9ecef;\n\t}\n\n\t/* 评论列表 */\n\t.comments-list {\n\t\tbackground: #fff;\n\t\tmargin: 0 30rpx 30rpx 30rpx;\n\t\tborder-radius: 16rpx;\n\t\toverflow: hidden;\n\t}\n\n\t.comment-item {\n\t\tborder-bottom: 1rpx solid #f8f9fa;\n\t\t\n\t\t&:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\t}\n\n\t/* 商品信息 */\n\t.product-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 30rpx;\n\t\tgap: 20rpx;\n\t\tbackground: #fafbfc;\n\t}\n\n\t.product-image {\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.product-details {\n\t\tflex: 1;\n\t}\n\n\t.product-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t\tline-height: 1.4;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 2;\n\t\t-webkit-box-orient: vertical;\n\t}\n\n\t.product-price {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\n\t\t.price-symbol {\n\t\t\tfont-size: 20rpx;\n\t\t\tcolor: #ff4d4f;\n\t\t\tmargin-right: 4rpx;\n\t\t}\n\n\t\t.price-value {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #ff4d4f;\n\t\t\tfont-weight: 600;\n\t\t}\n\t}\n\n\t.nav-arrow {\n\t\tpadding: 8rpx;\n\t}\n\n\t/* 评价内容 */\n\t.comment-content {\n\t\tpadding: 30rpx;\n\t}\n\n\t.comment-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.rating-stars {\n\t\tdisplay: flex;\n\t\tgap: 4rpx;\n\t}\n\n\t.comment-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.comment-text {\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\ttext {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #333;\n\t\t\tline-height: 1.6;\n\t\t}\n\t}\n\n\t.comment-images {\n\t\tdisplay: flex;\n\t\tgap: 16rpx;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.comment-image {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t/* 商家回复 */\n\t.merchant-reply {\n\t\tbackground: #f8f9fa;\n\t\tborder-radius: 12rpx;\n\t\tpadding: 20rpx;\n\t\tborder-left: 4rpx solid #1890ff;\n\t}\n\n\t.reply-header {\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.reply-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1890ff;\n\t\tfont-weight: 600;\n\t}\n\n\t.reply-content {\n\t\ttext {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #666;\n\t\t\tline-height: 1.5;\n\t\t}\n\t}\n\n\t/* 空状态 */\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 120rpx 60rpx;\n\t\ttext-align: center;\n\t}\n\n\t.empty-image {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tmargin-bottom: 40rpx;\n\t\topacity: 0.6;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #666;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999;\n\t\tdisplay: block;\n\t}\n\n\t/* 加载状态 */\n\t.load-more,\n\t.no-more {\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\n\t.load-more {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 16rpx;\n\t}\n</style>\n","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757855126564\n      var cssReload = require(\"C:/Users/zhao/Downloads/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":["uni-app:///main.js","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?2629","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?96af","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?22e2","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?d03e","uni-app:///subpackages/user/commentsList/commentsList.vue","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?e55f","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/user/commentsList/commentsList.vue?73e1"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","statusBarHeight","loading","refreshing","loadingMore","hasMore","currentPage","pageSize","commentsList","statsData","userInfo","onLoad","methods","initPage","sys","getUserInfo","uni","title","icon","console","loadCommentsData","refresh","page","userId","res","mockData","list","stats","getMockCommentsData","setTimeout","id","goodsId","goodsName","goodsImage","goodsPrice","rating","content","images","createTime","merchantReply","totalCount","recentCount","resolve","onRefresh","onLoadMore","formatTime","previewImage","current","urls","goToProductDetail","url","goBack","delta"],"mappings":"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","file":"subpackages/user/commentsList/commentsList.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/user/commentsList/commentsList.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./commentsList.vue?vue&type=template&id=71d9765b&scoped=true&\"\nvar renderjs\nimport script from \"./commentsList.vue?vue&type=script&lang=js&\"\nexport * from \"./commentsList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"71d9765b\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/user/commentsList/commentsList.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=template&id=71d9765b&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uLoadingIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-loading-icon/u-loading-icon\" */ \"@/uni_modules/uview-ui/components/u-loading-icon/u-loading-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = _vm.commentsList.length\n  var l0 =\n    g0 > 0\n      ? _vm.__map(_vm.commentsList, function (comment, index) {\n          var $orig = _vm.__get_orig(comment)\n          var m0 = _vm.formatTime(comment.createTime)\n          var g1 = comment.images && comment.images.length > 0\n          return {\n            $orig: $orig,\n            m0: m0,\n            g1: g1,\n          }\n        })\n      : null\n  var g2 = !_vm.loading && _vm.commentsList.length === 0\n  var g3 = _vm.hasMore && _vm.commentsList.length > 0\n  var g4 = !_vm.hasMore && _vm.commentsList.length > 0\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        l0: l0,\n        g2: g2,\n        g3: g3,\n        g4: g4,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=script&lang=js&\"","<template>\n\t<view class=\"comments-list-page\">\n\t\t<!-- 状态栏 -->\n\t\t<view class=\"status-bar\" :style=\"{ height: statusBarHeight + 'px' }\"></view>\n\t\t\n\t\t<!-- 导航栏 -->\n\t\t<view class=\"nav-bar\">\n\t\t\t<view class=\"nav-content\">\n\t\t\t\t<view class=\"nav-left\" @click=\"goBack\">\n\t\t\t\t\t<u-icon name=\"arrow-left\" size=\"20\" color=\"#333\"></u-icon>\n\t\t\t\t</view>\n\t\t\t\t<view class=\"nav-title\">我的评价</view>\n\t\t\t\t<view class=\"nav-right\"></view>\n\t\t\t</view>\n\t\t</view>\n\n\t\t<!-- 评论列表 -->\n\t\t<scroll-view class=\"comments-container\" scroll-y refresher-enabled :refresher-triggered=\"refreshing\"\n\t\t\t@refresherrefresh=\"onRefresh\" @scrolltolower=\"onLoadMore\">\n\t\t\t\n\t\t\t<!-- 评论统计 -->\n\t\t\t<view class=\"comments-stats\" v-if=\"statsData\">\n\t\t\t\t<view class=\"stats-card\">\n\t\t\t\t\t<view class=\"stats-item\">\n\t\t\t\t\t\t<text class=\"stats-number\">{{ statsData.totalCount }}</text>\n\t\t\t\t\t\t<text class=\"stats-label\">总评价</text>\n\t\t\t\t\t</view>\n\t\t\t\t\t<view class=\"stats-divider\"></view>\n\t\t\t\t\t<view class=\"stats-item\">\n\t\t\t\t\t\t<text class=\"stats-number\">{{ statsData.recentCount }}</text>\n\t\t\t\t\t\t<text class=\"stats-label\">本月评价</text>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 评论列表 -->\n\t\t\t<view class=\"comments-list\" v-if=\"commentsList.length > 0\">\n\t\t\t\t<view class=\"comment-item\" v-for=\"(comment, index) in commentsList\" :key=\"index\">\n\t\t\t\t\t<!-- 商品信息 -->\n\t\t\t\t\t<view class=\"product-info\" @click=\"goToProductDetail(comment.goodsId)\">\n\t\t\t\t\t\t<image class=\"product-image\" :src=\"comment.goodsImage\" mode=\"aspectFill\"></image>\n\t\t\t\t\t\t<view class=\"product-details\">\n\t\t\t\t\t\t\t<text class=\"product-name\">{{ comment.goodsName }}</text>\n\t\t\t\t\t\t\t<view class=\"product-price\">\n\t\t\t\t\t\t\t\t<text class=\"price-symbol\">¥</text>\n\t\t\t\t\t\t\t\t<text class=\"price-value\">{{ comment.goodsPrice }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t\t<view class=\"nav-arrow\">\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" size=\"14\" color=\"#ccc\"></u-icon>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\n\t\t\t\t\t<!-- 评价内容 -->\n\t\t\t\t\t<view class=\"comment-content\">\n\t\t\t\t\t\t<!-- 评分和时间 -->\n\t\t\t\t\t\t<view class=\"comment-header\">\n\t\t\t\t\t\t\t<view class=\"rating-stars\">\n\t\t\t\t\t\t\t\t<u-icon v-for=\"star in 5\" :key=\"star\" name=\"star-fill\"\n\t\t\t\t\t\t\t\t\t:color=\"star <= comment.rating ? '#ffa500' : '#e0e0e0'\" size=\"16\"></u-icon>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<text class=\"comment-time\">{{ formatTime(comment.createTime) }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 评价文字 -->\n\t\t\t\t\t\t<view class=\"comment-text\" v-if=\"comment.content\">\n\t\t\t\t\t\t\t<text>{{ comment.content }}</text>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 评价图片 -->\n\t\t\t\t\t\t<view class=\"comment-images\" v-if=\"comment.images && comment.images.length > 0\">\n\t\t\t\t\t\t\t<image v-for=\"(img, imgIndex) in comment.images\" :key=\"imgIndex\" class=\"comment-image\"\n\t\t\t\t\t\t\t\t:src=\"img\" mode=\"aspectFill\" @click=\"previewImage(comment.images, imgIndex)\">\n\t\t\t\t\t\t\t</image>\n\t\t\t\t\t\t</view>\n\n\t\t\t\t\t\t<!-- 商家回复 -->\n\t\t\t\t\t\t<view class=\"merchant-reply\" v-if=\"comment.merchantReply\">\n\t\t\t\t\t\t\t<view class=\"reply-header\">\n\t\t\t\t\t\t\t\t<text class=\"reply-label\">商家回复</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t\t<view class=\"reply-content\">\n\t\t\t\t\t\t\t\t<text>{{ comment.merchantReply }}</text>\n\t\t\t\t\t\t\t</view>\n\t\t\t\t\t\t</view>\n\t\t\t\t\t</view>\n\t\t\t\t</view>\n\t\t\t</view>\n\n\t\t\t<!-- 空状态 -->\n\t\t\t<view class=\"empty-state\" v-if=\"!loading && commentsList.length === 0\">\n\t\t\t\t<image class=\"empty-image\" src=\"/static/images/empty-comment.png\" mode=\"aspectFit\"></image>\n\t\t\t\t<text class=\"empty-text\">还没有评价记录</text>\n\t\t\t\t<text class=\"empty-tip\">快去购买商品并评价吧~</text>\n\t\t\t</view>\n\n\t\t\t<!-- 加载更多 -->\n\t\t\t<view class=\"load-more\" v-if=\"hasMore && commentsList.length > 0\">\n\t\t\t\t<u-loading-icon v-if=\"loadingMore\"></u-loading-icon>\n\t\t\t\t<text>{{ loadingMore ? '加载中...' : '上拉加载更多' }}</text>\n\t\t\t</view>\n\n\t\t\t<!-- 没有更多 -->\n\t\t\t<view class=\"no-more\" v-if=\"!hasMore && commentsList.length > 0\">\n\t\t\t\t<text>没有更多评价了</text>\n\t\t\t</view>\n\t\t</scroll-view>\n\t</view>\n</template>\n\n<script>\n\timport { getUserCommentsList } from '@/api/goods'\n\t\n\texport default {\n\t\tname: 'CommentsList',\n\t\tdata() {\n\t\t\treturn {\n\t\t\t\t// 系统信息\n\t\t\t\tstatusBarHeight: 0,\n\n\t\t\t\t// 数据状态\n\t\t\t\tloading: false,\n\t\t\t\trefreshing: false,\n\t\t\t\tloadingMore: false,\n\t\t\t\thasMore: true,\n\t\t\t\t\n\t\t\t\t// 分页\n\t\t\t\tcurrentPage: 1,\n\t\t\t\tpageSize: 10,\n\n\t\t\t\t// 评论数据\n\t\t\t\tcommentsList: [],\n\t\t\t\tstatsData: null,\n\n\t\t\t\t// 用户信息\n\t\t\t\tuserInfo: null\n\t\t\t}\n\t\t},\n\n\t\tonLoad() {\n\t\t\tthis.initPage()\n\t\t},\n\n\t\tmethods: {\n\t\t\t// 初始化页面\n\t\t\tasync initPage() {\n\t\t\t\t// 获取系统信息\n\t\t\t\tconst sys = uni.getSystemInfoSync()\n\t\t\t\tthis.statusBarHeight = sys.statusBarHeight || 0\n\n\t\t\t\t// 获取用户信息\n\t\t\t\tthis.getUserInfo()\n\n\t\t\t\t// 加载数据\n\t\t\t\tawait this.loadCommentsData()\n\t\t\t},\n\n\t\t\t// 获取用户信息\n\t\t\tgetUserInfo() {\n\t\t\t\ttry {\n\t\t\t\t\tconst userInfo = uni.getStorageSync('userInfo')\n\t\t\t\t\tif (userInfo) {\n\t\t\t\t\t\tthis.userInfo = typeof userInfo === 'string' ? JSON.parse(userInfo) : userInfo\n\t\t\t\t\t} else {\n\t\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\t\ttitle: '请先登录',\n\t\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t\t})\n\t\t\t\t\t\t// 可以在这里跳转到登录页面\n\t\t\t\t\t}\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('获取用户信息失败:', error)\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 加载评论数据\n\t\t\tasync loadCommentsData(refresh = false) {\n\t\t\t\tif (this.loading || this.loadingMore) return\n\n\t\t\t\tif (refresh) {\n\t\t\t\t\tthis.refreshing = true\n\t\t\t\t\tthis.currentPage = 1\n\t\t\t\t\tthis.hasMore = true\n\t\t\t\t} else if (this.currentPage === 1) {\n\t\t\t\t\tthis.loading = true\n\t\t\t\t} else {\n\t\t\t\t\tthis.loadingMore = true\n\t\t\t\t}\n\n\t\t\t\ttry {\n\t\t\t\t\t// TODO getUserCommentsList 会在这里使用\n\t\t\t\t\tconst res = await getUserCommentsList({\n\t\t\t\t\t\tpage: this.currentPage,\n\t\t\t\t\t\tpageSize: this.pageSize,\n\t\t\t\t\t\tuserId: this.userInfo?.userId || this.userInfo?.id\n\t\t\t\t\t})\n\n\t\t\t\t\tlet mockData\n\t\t\t\t\tif (res.code === 200 && res.data) {\n\t\t\t\t\t\t// 使用真实API数据\n\t\t\t\t\t\tmockData = {\n\t\t\t\t\t\t\tlist: res.data.list || [],\n\t\t\t\t\t\t\tstats: res.data.stats || null\n\t\t\t\t\t\t}\n\t\t\t\t\t} else {\n\t\t\t\t\t\t// 回退到模拟数据\n\t\t\t\t\t\tmockData = await this.getMockCommentsData()\n\t\t\t\t\t}\n\n\t\t\t\t\tif (refresh || this.currentPage === 1) {\n\t\t\t\t\t\tthis.commentsList = mockData.list\n\t\t\t\t\t\tthis.statsData = mockData.stats\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.commentsList.push(...mockData.list)\n\t\t\t\t\t}\n\n\t\t\t\t\t// 判断是否还有更多数据\n\t\t\t\t\tthis.hasMore = mockData.list.length >= this.pageSize\n\t\t\t\t\t\n\t\t\t\t\tif (this.hasMore) {\n\t\t\t\t\t\tthis.currentPage++\n\t\t\t\t\t}\n\n\t\t\t\t} catch (error) {\n\t\t\t\t\tconsole.error('加载评论数据失败:', error)\n\t\t\t\t\tuni.showToast({\n\t\t\t\t\t\ttitle: '加载失败，请重试',\n\t\t\t\t\t\ticon: 'none'\n\t\t\t\t\t})\n\t\t\t\t} finally {\n\t\t\t\t\tthis.loading = false\n\t\t\t\t\tthis.refreshing = false\n\t\t\t\t\tthis.loadingMore = false\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 模拟评论数据\n\t\t\tasync getMockCommentsData() {\n\t\t\t\treturn new Promise((resolve) => {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tconst mockComments = [\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 1,\n\t\t\t\t\t\t\t\tgoodsId: '1001',\n\t\t\t\t\t\t\t\tgoodsName: '苹果iPhone 15 Pro Max 256GB 自然钛色',\n\t\t\t\t\t\t\t\tgoodsImage: 'https://img.alicdn.com/imgextra/i1/123456789/example1.jpg',\n\t\t\t\t\t\t\t\tgoodsPrice: 9999,\n\t\t\t\t\t\t\t\trating: 5,\n\t\t\t\t\t\t\t\tcontent: '手机非常好用，运行流畅，拍照效果很棒，值得推荐！',\n\t\t\t\t\t\t\t\timages: [\n\t\t\t\t\t\t\t\t\t'https://img.alicdn.com/imgextra/i1/123456789/review1.jpg',\n\t\t\t\t\t\t\t\t\t'https://img.alicdn.com/imgextra/i2/123456789/review2.jpg'\n\t\t\t\t\t\t\t\t],\n\t\t\t\t\t\t\t\tcreateTime: '2024-01-15 14:30:00',\n\t\t\t\t\t\t\t\tmerchantReply: '感谢您的好评，我们会继续努力为您提供优质的产品和服务！'\n\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tid: 2,\n\t\t\t\t\t\t\t\tgoodsId: '1002',\n\t\t\t\t\t\t\t\tgoodsName: '华为Mate 60 Pro 12GB+512GB 雅川青',\n\t\t\t\t\t\t\t\tgoodsImage: 'https://img.alicdn.com/imgextra/i2/123456789/example2.jpg',\n\t\t\t\t\t\t\t\tgoodsPrice: 6999,\n\t\t\t\t\t\t\t\trating: 4,\n\t\t\t\t\t\t\t\tcontent: '整体不错，系统流畅，电池续航很好。',\n\t\t\t\t\t\t\t\timages: [],\n\t\t\t\t\t\t\t\tcreateTime: '2024-01-10 16:20:00',\n\t\t\t\t\t\t\t\tmerchantReply: null\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t]\n\n\t\t\t\t\t\tconst stats = {\n\t\t\t\t\t\t\ttotalCount: 25,\n\t\t\t\t\t\t\trecentCount: 8\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tresolve({\n\t\t\t\t\t\t\tlist: this.currentPage === 1 ? mockComments : [],\n\t\t\t\t\t\t\tstats: stats\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 800)\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 下拉刷新\n\t\t\tasync onRefresh() {\n\t\t\t\tawait this.loadCommentsData(true)\n\t\t\t},\n\n\t\t\t// 上拉加载更多\n\t\t\tasync onLoadMore() {\n\t\t\t\tif (this.hasMore && !this.loadingMore) {\n\t\t\t\t\tawait this.loadCommentsData()\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 格式化时间\n\t\t\tformatTime(timeStr) {\n\t\t\t\tconst now = new Date()\n\t\t\t\tconst time = new Date(timeStr)\n\t\t\t\tconst diff = now - time\n\t\t\t\tconst days = Math.floor(diff / (1000 * 60 * 60 * 24))\n\n\t\t\t\tif (days === 0) {\n\t\t\t\t\treturn '今天'\n\t\t\t\t} else if (days === 1) {\n\t\t\t\t\treturn '昨天'\n\t\t\t\t} else if (days < 30) {\n\t\t\t\t\treturn `${days}天前`\n\t\t\t\t} else {\n\t\t\t\t\treturn timeStr.split(' ')[0]\n\t\t\t\t}\n\t\t\t},\n\n\t\t\t// 预览图片\n\t\t\tpreviewImage(images, index) {\n\t\t\t\tuni.previewImage({\n\t\t\t\t\tcurrent: index,\n\t\t\t\t\turls: images\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 跳转到商品详情\n\t\t\tgoToProductDetail(goodsId) {\n\t\t\t\tuni.navigateTo({\n\t\t\t\t\turl: `/subpackages/goods/detail/detail?goodsId=${goodsId}`\n\t\t\t\t})\n\t\t\t},\n\n\t\t\t// 返回上一页\n\t\t\tgoBack() {\n\t\t\t\tuni.navigateBack({\n\t\t\t\t\tdelta: 1\n\t\t\t\t})\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n<style lang=\"scss\" scoped>\n\t.comments-list-page {\n\t\theight: 100vh;\n\t\tbackground: #f5f5f5;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\n\t/* 状态栏 */\n\t.status-bar {\n\t\tbackground: #fff;\n\t}\n\n\t/* 导航栏 */\n\t.nav-bar {\n\t\tbackground: #fff;\n\t\tborder-bottom: 1rpx solid #f0f0f0;\n\t}\n\n\t.nav-content {\n\t\theight: 88rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t\tpadding: 0 30rpx;\n\t}\n\n\t.nav-left,\n\t.nav-right {\n\t\twidth: 60rpx;\n\t\theight: 60rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n\n\t.nav-title {\n\t\tfont-size: 32rpx;\n\t\tfont-weight: 600;\n\t\tcolor: #333;\n\t}\n\n\t/* 主要内容区域 */\n\t.comments-container {\n\t\tflex: 1;\n\t\theight: 0;\n\t}\n\n\t/* 评论统计 */\n\t.comments-stats {\n\t\tpadding: 30rpx;\n\t\tbackground: #f5f5f5;\n\t}\n\n\t.stats-card {\n\t\tbackground: #fff;\n\t\tborder-radius: 16rpx;\n\t\tpadding: 40rpx;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 60rpx;\n\t\tbox-shadow: 0 4rpx 12rpx rgba(0, 0, 0, 0.05);\n\t}\n\n\t.stats-item {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tgap: 12rpx;\n\t}\n\n\t.stats-number {\n\t\tfont-size: 48rpx;\n\t\tfont-weight: 700;\n\t\tcolor: #1890ff;\n\t}\n\n\t.stats-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #666;\n\t}\n\n\t.stats-divider {\n\t\twidth: 1rpx;\n\t\theight: 60rpx;\n\t\tbackground: #e9ecef;\n\t}\n\n\t/* 评论列表 */\n\t.comments-list {\n\t\tbackground: #fff;\n\t\tmargin: 0 30rpx 30rpx 30rpx;\n\t\tborder-radius: 16rpx;\n\t\toverflow: hidden;\n\t}\n\n\t.comment-item {\n\t\tborder-bottom: 1rpx solid #f8f9fa;\n\t\t\n\t\t&:last-child {\n\t\t\tborder-bottom: none;\n\t\t}\n\t}\n\n\t/* 商品信息 */\n\t.product-info {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tpadding: 30rpx;\n\t\tgap: 20rpx;\n\t\tbackground: #fafbfc;\n\t}\n\n\t.product-image {\n\t\twidth: 120rpx;\n\t\theight: 120rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t.product-details {\n\t\tflex: 1;\n\t}\n\n\t.product-name {\n\t\tfont-size: 28rpx;\n\t\tcolor: #333;\n\t\tfont-weight: 600;\n\t\tline-height: 1.4;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t\toverflow: hidden;\n\t\ttext-overflow: ellipsis;\n\t\tdisplay: -webkit-box;\n\t\t-webkit-line-clamp: 2;\n\t\t-webkit-box-orient: vertical;\n\t}\n\n\t.product-price {\n\t\tdisplay: flex;\n\t\talign-items: baseline;\n\n\t\t.price-symbol {\n\t\t\tfont-size: 20rpx;\n\t\t\tcolor: #ff4d4f;\n\t\t\tmargin-right: 4rpx;\n\t\t}\n\n\t\t.price-value {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #ff4d4f;\n\t\t\tfont-weight: 600;\n\t\t}\n\t}\n\n\t.nav-arrow {\n\t\tpadding: 8rpx;\n\t}\n\n\t/* 评价内容 */\n\t.comment-content {\n\t\tpadding: 30rpx;\n\t}\n\n\t.comment-header {\n\t\tdisplay: flex;\n\t\tjustify-content: space-between;\n\t\talign-items: center;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.rating-stars {\n\t\tdisplay: flex;\n\t\tgap: 4rpx;\n\t}\n\n\t.comment-time {\n\t\tfont-size: 24rpx;\n\t\tcolor: #999;\n\t}\n\n\t.comment-text {\n\t\tmargin-bottom: 20rpx;\n\t\t\n\t\ttext {\n\t\t\tfont-size: 28rpx;\n\t\t\tcolor: #333;\n\t\t\tline-height: 1.6;\n\t\t}\n\t}\n\n\t.comment-images {\n\t\tdisplay: flex;\n\t\tgap: 16rpx;\n\t\tflex-wrap: wrap;\n\t\tmargin-bottom: 20rpx;\n\t}\n\n\t.comment-image {\n\t\twidth: 160rpx;\n\t\theight: 160rpx;\n\t\tborder-radius: 12rpx;\n\t}\n\n\t/* 商家回复 */\n\t.merchant-reply {\n\t\tbackground: #f8f9fa;\n\t\tborder-radius: 12rpx;\n\t\tpadding: 20rpx;\n\t\tborder-left: 4rpx solid #1890ff;\n\t}\n\n\t.reply-header {\n\t\tmargin-bottom: 12rpx;\n\t}\n\n\t.reply-label {\n\t\tfont-size: 24rpx;\n\t\tcolor: #1890ff;\n\t\tfont-weight: 600;\n\t}\n\n\t.reply-content {\n\t\ttext {\n\t\t\tfont-size: 26rpx;\n\t\t\tcolor: #666;\n\t\t\tline-height: 1.5;\n\t\t}\n\t}\n\n\t/* 空状态 */\n\t.empty-state {\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tpadding: 120rpx 60rpx;\n\t\ttext-align: center;\n\t}\n\n\t.empty-image {\n\t\twidth: 200rpx;\n\t\theight: 200rpx;\n\t\tmargin-bottom: 40rpx;\n\t\topacity: 0.6;\n\t}\n\n\t.empty-text {\n\t\tfont-size: 32rpx;\n\t\tcolor: #666;\n\t\tmargin-bottom: 16rpx;\n\t\tdisplay: block;\n\t}\n\n\t.empty-tip {\n\t\tfont-size: 26rpx;\n\t\tcolor: #999;\n\t\tdisplay: block;\n\t}\n\n\t/* 加载状态 */\n\t.load-more,\n\t.no-more {\n\t\tpadding: 40rpx;\n\t\ttext-align: center;\n\t\t\n\t\ttext {\n\t\t\tfont-size: 24rpx;\n\t\t\tcolor: #999;\n\t\t}\n\t}\n\n\t.load-more {\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tgap: 16rpx;\n\t}\n</style>\n","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./commentsList.vue?vue&type=style&index=0&id=71d9765b&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758547635658\n      var cssReload = require(\"D:/HbuilderDevTool/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> Stashed changes
