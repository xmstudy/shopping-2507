<<<<<<< Updated upstream
{"version":3,"sources":["uni-app:///main.js","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?724f","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?edb1","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?68ca","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?3402","uni-app:///subpackages/order/list/list.vue","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?2520","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/list/list.vue?fd3a"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","data","currentStatus","refreshing","loading","hasMore","page","pageSize","statusTabs","label","value","allOrders","computed","filteredOrders","onLoad","console","mounted","methods","goBack","uni","delta","copyOrderNumber","success","title","icon","duration","fail","showMoreOptions","itemList","switchStatus","getStatusText","getTotalQuantity","processOrderData","id","orderNumber","createTime","status","totalAmount","products","image","attributes","price","quantity","secondaryActions","primaryActions","formatTime","formatSpecs","getSecondaryActions","actions","type","text","getPrimaryActions","loadOrders","params","pageNum","response","orderList","newOrders","onRefresh","onLoadMore","handleAction","cancelOrder","content","payOrder","url","afterSale","orderId","orderItemId","orderStatus","map","join","confirmReceipt","res","setTimeout","reorder","viewLogistics","confirmOrder","reviewOrder","viewOrderDetail"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACwN;AACxN,gBAAgB,8NAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA61B,CAAgB,m2BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACyFj3B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAKA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA;MACA;MACA;QAAA;MAAA;IACA;EACA;EACAC;IACAC;;IAEA;IACA;MACA;MACAA;IACA;IACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;QACAA;MACA;IACA;;IAEA;IACA;IACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACAD;MACA;IACA;EACA;EACAE;IACA;IACAC;MACAC;QACAC;MACA;IACA;IAEA;IACAC;MACAF;QACAlB;QACAqB;UACAH;YACAI;YACAC;YACAC;UACA;QACA;QACAC;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;IAEA;IACAE;MACAR;QACAS;QACAN;UACA;YACA;YACAH;cACAI;cACAC;YACA;UACA;YACA;YACAL;cACAI;cACAC;YACA;UACA;QACA;MACA;IACA;IAEA;IACAK;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UAAA;YACAC;YACAvC;YACAwC;YACAC;YACAC;UACA;QAAA;QACAC;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACA;UACA;YACA;UACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;UAAA;UACAC;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACAF;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACAF;YACAC;YACAC;UACA;UACA;MAAA;MAEA;IACA;IAEA;IACAC;MACA;MACA;QACA;UAAA;UACAH;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;MAAA;MAEA;IACA;IAEA;IACAE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBAAA;gBAGAC;kBACAC;kBACA/C;gBACA,GAEA;gBACA;kBACA8C;gBACA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAE;gBACA;kBACAC;kBACAC;oBAAA;kBAAA;kBACA;oBACA;kBACA;oBACA;kBACA;;kBAEA;kBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA1C;gBACAI;kBACAI;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAkC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBAAA;gBAGAL;kBACAC;kBACA/C;gBACA,GAEA;gBACA;kBACA8C;gBACA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAE;gBAEA;kBACAC;kBACA;oBAAA;kBAAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAzC;gBACAI;kBACAI;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAmC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACAzC;YACAI;YACAC;UACA;MAAA;IAEA;IAEA;IACAqC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA1C;kBACAI;kBACAuC;kBACAxC;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BACA;gCACA;kCACA;kCACA;kCACA;kCACAH;oCACAI;oCACAC;kCACA;kCACA;kCACA;kCACA;kCACA;gCACA;kCACAL;oCACAI;oCACAC;kCACA;gCACA;8BACA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CACA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAuC;MACA;MACA5C;QACA6C;MACA;IACA;IAEA;IACAC;MACA;MACA;QACAC;QACAC;QACAC;MACA;;MAEA;MACA;QACA;QACAf;QACAA;QACAA;MACA;;MAEA;MACA,oCACAgB;QAAA;MAAA,GACAC;MAEAnD;QACA6C;MACA;IACA;IAEA;IACAO;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACApD;kBACAI;kBACAuC;kBACAxC;oBAAA;sBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BAAA,KACAkD;gCAAA;gCAAA;8BAAA;8BAAA;8BAEArD;gCACAI;8BACA;;8BAEA;8BAAA;8BAAA,OACA;gCACA2C;8BACA;4BAAA;8BAFAX;8BAAA,MAIAA;gCAAA;gCAAA;8BAAA;8BACApC;gCACAI;gCACAC;8BACA;8BACA;8BACAiD;gCACA;8BACA;8BAAA;8BAAA;4BAAA;8BAAA,MAEA;4BAAA;8BAAA;8BAAA;4BAAA;8BAAA;8BAAA;8BAGA1D;8BACAI;gCACAI;gCACAC;8BACA;4BAAA;8BAAA;8BAEAL;8BAAA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CAGA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAuD;MACAvD;QACAI;QACAC;MACA;IACA;IAEA;IACAmD;MACAxD;QACA6C;MACA;IACA;IAEA;IACAY;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAzD;kBACAI;kBACAuC;kBACAxC;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BACA;gCACA;kCACA;kCACA;kCACA;kCACAH;oCACAI;oCACAC;kCACA;kCACA;kCACA;kCACA;kCACA;gCACA;kCACAL;oCACAI;oCACAC;kCACA;gCACA;8BACA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CACA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAqD;MACA1D;QACA6C;MACA;IACA;IAEA;IACAc;MACA3D;QACA6C;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;ACzqBA;AAAA;AAAA;AAAA;AAA4mD,CAAgB,8iDAAG,EAAC,C;;;;;;;;;;;ACAhoD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpackages/order/list/list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/order/list/list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=1ddf5cee&scoped=true&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ddf5cee\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/order/list/list.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=template&id=1ddf5cee&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.filteredOrders, function (order, index) {\n    var $orig = _vm.__get_orig(order)\n    var m0 = _vm.getStatusText(order.status)\n    var m1 = _vm.getTotalQuantity(order.products)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-wrapper\">\r\n\t\t<view class=\"order-list-container\">\r\n\t\t\t<!-- 固定头部区域 -->\r\n\t\t\t<view class=\"fixed-header pt-safe\">\r\n\t\t\t\t<!-- 状态切换标签 -->\r\n\t\t\t\t<view class=\"status-tabs\">\r\n\t\t\t\t\t<scroll-view class=\"tabs-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t\t\t<view class=\"tabs-content\">\r\n\t\t\t\t\t\t\t<view class=\"tab-item\" v-for=\"(tab, index) in statusTabs\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t:class=\"{ active: currentStatus === tab.value }\" @click=\"switchStatus(tab.value)\">\r\n\t\t\t\t\t\t\t\t<text>{{ tab.label }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 订单列表区域 -->\r\n\t\t\t<scroll-view class=\"order-list-scroll\" scroll-y=\"true\" refresher-enabled=\"true\"\r\n\t\t\t\t:refresher-triggered=\"refreshing\" @refresherrefresh=\"onRefresh\" @scrolltolower=\"onLoadMore\"\r\n\t\t\t\t:lower-threshold=\"100\" :scroll-anchoring=\"true\" :enhanced=\"true\" :bounces=\"false\">\r\n\t\t\t\t<view class=\"order-list\">\r\n\t\t\t\t\t<view class=\"order-item\" v-for=\"(order, index) in filteredOrders\" :key=\"order.id\"\r\n\t\t\t\t\t\t@click=\"viewOrderDetail(order)\">\r\n\t\t\t\t\t\t<!-- 订单头部 -->\r\n\t\t\t\t\t\t<view class=\"order-header\">\r\n\t\t\t\t\t\t\t<view class=\"order-info\">\r\n\t\t\t\t\t\t\t\t<view class=\"order-number-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"order-number\">订单号：{{ order.orderNumber }}</text>\r\n\t\t\t\t\t\t\t\t<u-icon name=\"file-text-fill\" color=\"#999\" size=\"14\"\r\n\t\t\t\t\t\t\t\t\t@click.stop=\"copyOrderNumber(order.orderNumber)\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"order-time\">{{ order.createTime }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"order-status\">\r\n\t\t\t\t\t\t\t\t<text>{{ getStatusText(order.status) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 商品信息区域 -->\r\n\t\t\t\t\t\t<view class=\"product-section\">\r\n\t\t\t\t\t\t\t<view class=\"product-item\" v-for=\"(product, pIndex) in order.products\" :key=\"pIndex\">\r\n\t\t\t\t\t\t\t\t<image class=\"product-img\" :src=\"product.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-name\">{{ product.name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-attr\">{{ product.attributes }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-bottom\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"product-price\">¥{{ product.price }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"product-quantity\">×{{ product.quantity }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 订单底部 -->\r\n\t\t\t\t\t\t<view class=\"order-footer\">\r\n\t\t\t\t\t\t\t<view class=\"order-total\">\r\n\t\t\t\t\t\t\t\t<text>共{{ getTotalQuantity(order.products) }}件商品</text>\r\n\t\t\t\t\t\t\t\t<text class=\"total-price\">合计：¥{{ order.totalAmount }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action-buttons\">\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn secondary\" v-for=\"action in order.secondaryActions\"\r\n\t\t\t\t\t\t\t\t\t:key=\"action.type\" @click.stop=\"handleAction(action.type, order)\">\r\n\t\t\t\t\t\t\t\t\t<text>{{ action.text }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn primary\" v-for=\"action in order.primaryActions\"\r\n\t\t\t\t\t\t\t\t\t:key=\"action.type\" @click.stop=\"handleAction(action.type, order)\">\r\n\t\t\t\t\t\t\t\t\t<text>{{ action.text }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 加载更多提示 -->\r\n\t\t\t\t\t<view class=\"load-more\" v-if=\"hasMore\">\r\n\t\t\t\t\t\t<text v-if=\"loading\">加载中...</text>\r\n\t\t\t\t\t\t<text v-else>上拉加载更多</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"no-more\" v-else>\r\n\t\t\t\t\t\t<text>没有更多订单了</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport {\r\n\t\tfetchOrderList,\r\n\t\tfetchOrderComplete\r\n\t} from '@/api/orders'\r\n\r\n\texport default {\r\n\t\tname: 'OrderList',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentStatus: 'all',\r\n\t\t\t\trefreshing: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tstatusTabs: [{\r\n\t\t\t\t\t\tlabel: '全部',\r\n\t\t\t\t\t\tvalue: 'all'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待付款',\r\n\t\t\t\t\t\tvalue: '10'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待发货',\r\n\t\t\t\t\t\tvalue: '20'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待收货',\r\n\t\t\t\t\t\tvalue: '30'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '已完成',\r\n\t\t\t\t\t\tvalue: '40'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tallOrders: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tfilteredOrders() {\r\n\t\t\t\tif (this.currentStatus === 'all') {\r\n\t\t\t\t\treturn this.allOrders\r\n\t\t\t\t}\r\n\t\t\t\treturn this.allOrders.filter(order => order.status == this.currentStatus)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log('订单列表页面接收到参数:', options)\r\n\t\t\t\r\n\t\t\t// 处理从mine页面传递的参数\r\n\t\t\tif (options.status) {\r\n\t\t\t\tthis.currentStatus = options.status\r\n\t\t\t\tconsole.log('设置当前状态为:', this.currentStatus)\r\n\t\t\t}\r\n\t\t\tif (options.tab) {\r\n\t\t\t\t// 根据tab参数设置当前状态\r\n\t\t\t\tconst tabStatusMap = {\r\n\t\t\t\t\t'pending': '10',\r\n\t\t\t\t\t'processing': '20',\r\n\t\t\t\t\t'shipped': '30',\r\n\t\t\t\t\t'completed': '40'\r\n\t\t\t\t}\r\n\t\t\t\tif (tabStatusMap[options.tab]) {\r\n\t\t\t\t\tthis.currentStatus = tabStatusMap[options.tab]\r\n\t\t\t\t\tconsole.log('根据tab设置当前状态为:', this.currentStatus)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t// 重置分页参数\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.hasMore = true\r\n\t\t\tthis.allOrders = []\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 延迟加载，确保状态设置完成\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tconsole.log('mounted时的当前状态:', this.currentStatus)\r\n\t\t\t\tthis.loadOrders()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 返回上一页\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 复制订单号\r\n\t\t\tcopyOrderNumber(orderNumber) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: orderNumber,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单号已复制',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '复制失败',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 显示更多选项\r\n\t\t\tshowMoreOptions() {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['搜索订单', '联系客服'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\t// 搜索订单\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '搜索功能开发中',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\r\n\t\t\t\t\t\t\t// 联系客服\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '客服功能开发中',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 切换状态\r\n\t\t\tswitchStatus(status) {\r\n\t\t\t\tthis.currentStatus = status\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.allOrders = [] // 清空当前列表\r\n\t\t\t\tthis.loadOrders()\r\n\t\t\t},\r\n\r\n\t\t\t// 获取状态文本\r\n\t\t\tgetStatusText(status) {\r\n\t\t\t\tconst statusMap = {\r\n\t\t\t\t\t'10': '待付款',\r\n\t\t\t\t\t'20': '待发货',\r\n\t\t\t\t\t'30': '待收货',\r\n\t\t\t\t\t'40': '已完成',\r\n\t\t\t\t\t'50': '已取消'\r\n\t\t\t\t}\r\n\t\t\t\treturn statusMap[status] || '未知状态'\r\n\t\t\t},\r\n\r\n\t\t\t// 获取商品总数量\r\n\t\t\tgetTotalQuantity(products) {\r\n\t\t\t\treturn products.reduce((total, product) => total + product.quantity, 0)\r\n\t\t\t},\r\n\r\n\t\t\t// 处理API返回的订单数据\r\n\t\t\tprocessOrderData(orderData) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: orderData.orderId,\r\n\t\t\t\t\torderNumber: orderData.orderId,\r\n\t\t\t\t\tcreateTime: this.formatTime(orderData.createTime),\r\n\t\t\t\t\tstatus: orderData.status,\r\n\t\t\t\t\ttotalAmount: parseFloat(orderData.flowPrice || 0).toFixed(2),\r\n\t\t\t\t\tproducts: (orderData.orderItems || []).map(goods => ({\r\n\t\t\t\t\t\timage: goods.goodsImage || '',\r\n\t\t\t\t\t\tname: goods.goodsName || '商品名称',\r\n\t\t\t\t\t\tattributes: this.formatSpecs(goods.specs),\r\n\t\t\t\t\t\tprice: parseFloat(goods.unitPrice || 0).toFixed(2),\r\n\t\t\t\t\t\tquantity: goods.goodsNum || 1\r\n\t\t\t\t\t})),\r\n\t\t\t\t\tsecondaryActions: this.getSecondaryActions(orderData.status),\r\n\t\t\t\t\tprimaryActions: this.getPrimaryActions(orderData.status)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(timeStr) {\r\n\t\t\t\tif (!timeStr) return ''\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst date = new Date(timeStr)\r\n\t\t\t\t\tconst year = date.getFullYear()\r\n\t\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\r\n\t\t\t\t\tconst day = String(date.getDate()).padStart(2, '0')\r\n\t\t\t\t\tconst hours = String(date.getHours()).padStart(2, '0')\r\n\t\t\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0')\r\n\t\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treturn timeStr\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化规格信息\r\n\t\t\tformatSpecs(specs) {\r\n\t\t\t\tif (!specs) return ''\r\n\t\t\t\tif (typeof specs === 'string') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst specsArray = JSON.parse(specs)\r\n\t\t\t\t\t\tif (Array.isArray(specsArray)) {\r\n\t\t\t\t\t\t\treturn specsArray.join(' | ')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn specs\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\treturn specs\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(specs)) {\r\n\t\t\t\t\treturn specs.join(' | ')\r\n\t\t\t\t}\r\n\t\t\t\treturn String(specs)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取次要操作按钮\r\n\t\t\tgetSecondaryActions(status) {\r\n\t\t\t\tconst actions = []\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase '10': // 待付款\r\n\t\t\t\t\tcase 10: // 待付款\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\t\t\ttext: '取消订单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '20': // 待发货\r\n\t\t\t\t\tcase 20: // 待发货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '30': // 待收货\r\n\t\t\t\t\tcase 30: // 待收货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'logistics',\r\n\t\t\t\t\t\t\ttext: '查看物流'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'confirmReceipt',\r\n\t\t\t\t\t\t\ttext: '确认收货'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '40': // 已完成\r\n\t\t\t\t\tcase 40: // 已完成\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'reorder',\r\n\t\t\t\t\t\t\ttext: '再来一单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 根据业务需求，已完成状态也可以申请售后（比如在收货后7天内）\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'all': // 全部状态\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'logistics',\r\n\t\t\t\t\t\t\ttext: '查看物流'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\treturn actions\r\n\t\t\t},\r\n\r\n\t\t\t// 获取主要操作按钮\r\n\t\t\tgetPrimaryActions(status) {\r\n\t\t\t\tconst actions = []\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase '10': // 待付款\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'pay',\r\n\t\t\t\t\t\t\ttext: '继续付款'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '20': // 待发货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'reorder',\r\n\t\t\t\t\t\t\ttext: '再来一单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '30': // 待收货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'confirm',\r\n\t\t\t\t\t\t\ttext: '确认收货'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '40': // 已完成\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'review',\r\n\t\t\t\t\t\t\ttext: '去评价'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\treturn actions\r\n\t\t\t},\r\n\r\n\t\t\t// 加载订单数据\r\n\t\t\tasync loadOrders() {\r\n\t\t\t\tif (this.loading) return\r\n\r\n\t\t\t\tthis.loading = true\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tpageNum: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果不是全部状态，添加状态过滤\r\n\t\t\t\t\tif (this.currentStatus !== 'all') {\r\n\t\t\t\t\t\tparams.status = this.currentStatus\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderList 会在这里使用\r\n\t\t\t\t\tconst response = await fetchOrderList(params)\r\n\t\t\t\t\tif (response.code === 200 && response.rows.length) {\r\n\t\t\t\t\t\tconst orderList = response.rows || []\r\n\t\t\t\t\t\tconst newOrders = orderList.map(order => this.processOrderData(order))\r\n\t\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\t\tthis.allOrders = newOrders\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.allOrders = [...this.allOrders, ...newOrders]\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 判断是否还有更多数据\r\n\t\t\t\t\t\tif (newOrders.length < this.pageSize) {\r\n\t\t\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch orders:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '加载订单失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\t// 3秒超时自动关闭\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.page++\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 下拉刷新\r\n\t\t\tasync onRefresh() {\r\n\t\t\t\tthis.refreshing = true\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.hasMore = true\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tpageNum: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果不是全部状态，添加状态过滤\r\n\t\t\t\t\tif (this.currentStatus !== 'all') {\r\n\t\t\t\t\t\tparams.status = this.currentStatus\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderList 会在这里使用\r\n\t\t\t\t\tconst response = await fetchOrderList(params)\r\n\r\n\t\t\t\t\tif (response.code === 200 && response.data) {\r\n\t\t\t\t\t\tconst orderList = response.data.rows || response.data.list || response.data.records || []\r\n\t\t\t\t\t\tthis.allOrders = orderList.map(order => this.processOrderData(order))\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to refresh orders:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '刷新订单失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.refreshing = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 上拉加载更多\r\n\t\t\tonLoadMore() {\r\n\t\t\t\tif (this.hasMore && !this.loading) {\r\n\t\t\t\t\tthis.loadOrders()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 处理按钮点击\r\n\t\t\thandleAction(actionType, order) {\r\n\t\t\t\tswitch (actionType) {\r\n\t\t\t\t\tcase 'cancel':\r\n\t\t\t\t\t\tthis.cancelOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'pay':\r\n\t\t\t\t\t\tthis.payOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'afterSale':\r\n\t\t\t\t\t\tthis.afterSale(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'reorder':\r\n\t\t\t\t\t\tthis.reorder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'logistics':\r\n\t\t\t\t\t\tthis.viewLogistics(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'confirm':\r\n\t\t\t\t\t\tthis.confirmOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'confirmReceipt':\r\n\t\t\t\t\t\tthis.confirmReceipt(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'review':\r\n\t\t\t\t\t\tthis.reviewOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '功能开发中',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 取消订单\r\n\t\t\tasync cancelOrder(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认取消',\r\n\t\t\t\t\tcontent: '确定要取消这个订单吗？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// TODO 取消订单接口 会在这里使用\r\n\t\t\t\t\t\t\t\t// const response = await cancelOrderApi(order.id)\r\n\t\t\t\t\t\t\t\t// if (response.code === 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '订单已取消',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.onRefresh() // 刷新订单列表\r\n\t\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t\t//\tuni.showToast({ title: response.msg || '取消订单失败', icon: 'none' })\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '取消订单失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 继续付款\r\n\t\t\tpayOrder(order) {\r\n\t\t\t\t// 跳转到订单详情页面进行支付\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/detail/detail?orderId=${order.id}&orderNumber=${order.orderNumber}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 申请售后\r\n\t\t\tafterSale(order) {\r\n\t\t\t\t// 构建跳转参数\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\torderId: order.orderNumber,\r\n\t\t\t\t\torderItemId: order.id,\r\n\t\t\t\t\torderStatus: order.status\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果有商品信息，也传递过去\r\n\t\t\t\tif (order.products && order.products.length > 0) {\r\n\t\t\t\t\tconst product = order.products[0] // 取第一个商品\r\n\t\t\t\t\tparams.productName = encodeURIComponent(product.name)\r\n\t\t\t\t\tparams.productImage = encodeURIComponent(product.image)\r\n\t\t\t\t\tparams.productPrice = product.price\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 构建URL参数\r\n\t\t\t\tconst urlParams = Object.keys(params)\r\n\t\t\t\t\t.map(key => `${key}=${params[key]}`)\r\n\t\t\t\t\t.join('&')\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/afterSale/afterSale?${urlParams}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 确认收货\r\n\t\t\tasync confirmReceipt(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认收货',\r\n\t\t\t\t\tcontent: '确认已收到商品吗？确认后订单将完成。',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: '处理中...'\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t// TODO fetchOrderComplete 会在这里使用\r\n\t\t\t\t\t\t\t\tconst response = await fetchOrderComplete({\r\n\t\t\t\t\t\t\t\t\torderId: order.orderNumber || order.id\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '确认收货成功',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t// 刷新订单列表\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onRefresh()\r\n\t\t\t\t\t\t\t\t\t}, 200)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthrow new Error(response.msg || '确认收货失败')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('确认收货失败:', error)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: error.message || '确认收货失败，请重试',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 再来一单\r\n\t\t\treorder(order) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '添加到购物车',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看物流\r\n\t\t\tviewLogistics(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/order/logistics/logistics?orderId=' + order.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 确认收货\r\n\t\t\tasync confirmOrder(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认收货',\r\n\t\t\t\t\tcontent: '确认已收到商品吗？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// TODO 确认收货接口 会在这里使用\r\n\t\t\t\t\t\t\t\t// const response = await confirmReceiptApi(order.id)\r\n\t\t\t\t\t\t\t\t// if (response.code === 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '确认收货成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.onRefresh() // 刷新订单列表\r\n\t\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t\t//\tuni.showToast({ title: response.msg || '确认收货失败', icon: 'none' })\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '确认收货失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 去评价\r\n\t\t\treviewOrder(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/order/evaluate/evaluate'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看订单详情\r\n\t\t\tviewOrderDetail(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/ViewOrderInfo/ViewOrderInfo?orderId=${order.orderNumber || order.id}`\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/* 页面包装器 - 替代BaseContainer */\r\n\t.page-wrapper {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);\r\n\t\tposition: relative;\r\n\t\tpadding-top: env(safe-area-inset-top);\r\n\t\t/* 顶部安全距离 */\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\t/* 底部安全距离 */\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.order-list-container {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: transparent;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\t/* 防止容器滚动 */\r\n\t}\r\n\r\n\t/* 固定头部区域 */\r\n\t.fixed-header {\r\n\t\tposition: fixed;\r\n\t\ttop: constant(safe-area-inset-top);\r\n\t\t/* 兼容 iOS < 11.2 */\r\n\t\ttop: env(safe-area-inset-top);\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 100;\r\n\t\tbackground: rgba(255, 255, 255, 0.95);\r\n\t\tbackdrop-filter: blur(20rpx);\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\t}\r\n\r\n\t/* 页面头部 */\r\n\t.page-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t.header-left,\r\n\t\t.header-right {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.header-title {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 状态切换标签 */\r\n\t.status-tabs {\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\tposition: relative;\r\n\r\n\t\t.tabs-scroll {\r\n\t\t\twhite-space: nowrap;\r\n\t\t}\r\n\r\n\t\t.tabs-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t}\r\n\r\n\t\t.tab-item {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 24rpx 32rpx;\r\n\t\t\tmargin-right: 40rpx;\r\n\t\t\twhite-space: nowrap;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\ttransition: color 0.3s;\r\n\t\t\t}\r\n\r\n\t\t\t&.active {\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: #89D600;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 4rpx;\r\n\t\t\t\t\tbackground: #89D600;\r\n\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-right: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 订单列表滚动区域 */\r\n\t.order-list-scroll {\r\n\t\tflex: 1;\r\n\t\tbackground: transparent;\r\n\t\tmargin-top: 90rpx;\r\n\t\t/* 为固定头部和安全区域留出空间 */\r\n\t\theight: calc(100vh - 180rpx - env(safe-area-inset-top) - env(safe-area-inset-bottom));\r\n\t\t/* 减去固定头部和安全区域的高度 */\r\n\t\toverflow: hidden;\r\n\t\t/* 防止触发外部滚动 */\r\n\t}\r\n\r\n\t.order-list {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t/* 订单卡片 */\r\n\t.order-item {\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\t\tbackdrop-filter: blur(10rpx);\r\n\r\n\t\t.order-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.order-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmin-width: 0;\r\n\r\n\t\t\t\t.order-number-row {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 8rpx;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-number {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmax-width: 400rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-time {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.order-status {\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.product-section {\r\n\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t.product-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-img {\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmin-height: 120rpx;\r\n\r\n\t\t\t\t\t.product-name {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tline-height: 1.4;\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-attr {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-bottom {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t.product-price {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.product-quantity {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.order-total {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.total-price {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.action-buttons {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t/* 允许换行 */\r\n\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t.action-btn {\r\n\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\tpadding: 0 32rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t/* 防止按钮被压缩 */\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.secondary {\r\n\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\tborder: 2rpx solid #ddd;\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.primary {\r\n\t\t\t\t\t\tbackground: #89D600;\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 加载更多提示 */\r\n\t.load-more,\r\n\t.no-more {\r\n\t\ttext-align: center;\r\n\t\tpadding: 40rpx 0;\r\n\r\n\t\ttext {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 页面全局样式 */\r\n\tpage {\r\n\t\tbackground: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t}\r\n</style>","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757855126491\n      var cssReload = require(\"C:/Users/zhao/Downloads/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":["uni-app:///main.js","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?c5f9","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?5a08","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?a0d6","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?0a63","uni-app:///subpackages/order/list/list.vue","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?f5a5","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/list/list.vue?e4fe"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","components","IconComVue","name","data","currentStatus","refreshing","loading","hasMore","page","pageSize","statusTabs","label","value","allOrders","computed","filteredOrders","onLoad","console","mounted","methods","goBack","uni","delta","copyOrderNumber","success","title","icon","duration","fail","showMoreOptions","itemList","switchStatus","getStatusText","getTotalQuantity","processOrderData","id","orderNumber","createTime","status","totalAmount","products","image","attributes","price","quantity","secondaryActions","primaryActions","formatTime","formatSpecs","getSecondaryActions","actions","type","text","getPrimaryActions","loadOrders","params","pageNum","response","orderList","newOrders","onRefresh","records","onLoadMore","handleAction","cancelOrder","content","res","setTimeout","payOrder","url","afterSale","orderId","orderItemId","orderStatus","map","join","confirmReceipt","reorder","viewLogistics","confirmOrder","reviewOrder","viewOrderDetail","updateOrderStatus"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC2K;AAC3K,gBAAgB,qLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,MAAM;AACN;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,spBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC2FhpB;AAIA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;IACAC;EACA;EACAC;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,GACA;QACAD;QACAC;MACA,EACA;MACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA;MACA;MACA;QAAA;MAAA;IACA;EACA;EACAC;IACAC;;IAEA;IACA;MACA;MACAA;IACA;IACA;MACA;MACA;QACA;QACA;QACA;QACA;MACA;MACA;QACA;QACAA;MACA;IACA;;IAEA;IACA;IACA;IACA;EACA;EACAC;IAAA;IACA;IACA;MACAD;MACA;IACA;EACA;EACAE;IACA;IACAC;MACAC;QACAC;MACA;IACA;IAEA;IACAC;MACAF;QACAlB;QACAqB;UACAH;YACAI;YACAC;YACAC;UACA;QACA;QACAC;UACAP;YACAI;YACAC;YACAC;UACA;QACA;MACA;IACA;IAEA;IACAE;MACAR;QACAS;QACAN;UACA;YACA;YACAH;cACAI;cACAC;YACA;UACA;YACA;YACAL;cACAI;cACAC;YACA;UACA;QACA;MACA;IACA;IAEA;IACAK;MACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QACA;QACA;QACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QAAA;MAAA;IACA;IAEA;IACAC;MAAA;MACA;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;UAAA;YACAC;YACAvC;YACAwC;YACAC;YACAC;UACA;QAAA;QACAC;QACAC;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;UACA;UACA;YACA;UACA;UACA;QACA;UACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;QACA;QACA;UAAA;UACAC;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACAF;YACAC;YACAC;UACA;UACA;QACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACAF;YACAC;YACAC;UACA;UACA;MAAA;MAEA;IACA;IAEA;IACAC;MACA;MACA;QACA;UAAA;UACAH;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;QACA;UAAA;UACAF;YACAC;YACAC;UACA;UACA;MAAA;MAEA;IACA;IAEA;IACAE;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,KACA;kBAAA;kBAAA;gBAAA;gBAAA;cAAA;gBAEA;gBAAA;gBAGAC;kBACAC;kBACA/C;gBACA,GAEA;gBACA;kBACA8C;gBACA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAE;gBACA;kBACAC;kBACAC;oBAAA;kBAAA;kBACA;oBACA;kBACA;oBACA;kBACA;;kBAEA;kBACA;oBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEA1C;gBACAI;kBACAI;kBACAC;gBACA;cAAA;gBAAA;gBAEA;gBACA;gBACA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAkC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBACA;gBAAA;gBAGAL;kBACAC;kBACA/C;gBACA,GAEA;gBACA;kBACA8C;gBACA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAE;gBAEA;kBACA;kBACAC,2VACAG;kBACA;oBAAA;kBAAA;;kBAEA;kBACA;;kBAEA;kBACA;oBACA;kBACA;oBACA;kBACA;gBACA;kBACA;kBACA;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGA5C;gBACAI;kBACAI;kBACAC;gBACA;gBACA;gBACA;gBACA;cAAA;gBAAA;gBAEA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAoC;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA;UACA;QACA;UACA1C;YACAI;YACAC;UACA;MAAA;IAEA;IAEA;IACAsC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA3C;kBACAI;kBACAwC;kBACAzC;oBAAA;sBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BAAA,KACA0C;gCAAA;gCAAA;8BAAA;8BAAA;8BAEA7C;gCACAI;8BACA;8BAEAR;;8BAEA;8BAAA;8BAAA,OACA;4BAAA;8BAAAwC;8BAEAxC;8BAEA;gCACAI;kCACAI;kCACAC;gCACA;;gCAEA;gCACA;;gCAEA;gCACAyC;kCACA;gCACA;8BACA;gCACA9C;kCACAI;kCACAC;gCACA;8BACA;8BAAA;8BAAA;4BAAA;8BAAA;8BAAA;8BAEAT;8BACAI;gCACAI;gCACAC;8BACA;4BAAA;8BAAA;8BAEAL;8BAAA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CAGA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA+C;MACA;MACA/C;QACAgD;MACA;IACA;IAEA;IACAC;MACA;MACA;QACAC;QACAC;QACAC;MACA;;MAEA;MACA;QACA;QACAlB;QACAA;QACAA;MACA;;MAEA;MACA,oCACAmB;QAAA;MAAA,GACAC;MAEAtD;QACAgD;MACA;IACA;IAEA;IACAO;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACAvD;kBACAI;kBACAwC;kBACAzC;oBAAA;sBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BAAA,KACA0C;gCAAA;gCAAA;8BAAA;8BAAA;8BAEA7C;gCACAI;8BACA;8BAEAR;;8BAEA;8BAAA;8BAAA,OACA;gCACAsD;8BACA;4BAAA;8BAFAd;8BAIAxC;8BAAA,MAEAwC;gCAAA;gCAAA;8BAAA;8BACApC;gCACAI;gCACAC;8BACA;;8BAEA;8BACA;;8BAEA;8BACAyC;gCACA;8BACA;8BAAA;8BAAA;4BAAA;8BAAA,MAEA;4BAAA;8BAAA;8BAAA;4BAAA;8BAAA;8BAAA;8BAGAlD;8BACAI;gCACAI;gCACAC;8BACA;4BAAA;8BAAA;8BAEAL;8BAAA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CAGA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAwD;MACAxD;QACAI;QACAC;MACA;IACA;IAEA;IACAoD;MACAzD;QACAgD;MACA;IACA;IAEA;IACAU;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA1D;kBACAI;kBACAwC;kBACAzC;oBAAA;sBAAA;wBAAA;0BAAA;4BAAA;8BACA;gCACA;kCACA;kCACA;kCACA;kCACAH;oCACAI;oCACAC;kCACA;kCACA;kCACA;kCACA;kCACA;gCACA;kCACAL;oCACAI;oCACAC;kCACA;gCACA;8BACA;4BAAA;4BAAA;8BAAA;0BAAA;wBAAA;sBAAA;oBAAA,CACA;oBAAA;sBAAA;oBAAA;oBAAA;kBAAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACAsD;MACA3D;QACAgD;MACA;IACA;IAEA;IACAY;MACA5D;QACAgD;MACA;IACA;IAEA;IACAa;MACA;QAAA;MAAA;MACA;QACA;QACA;;QAEA;QACA;QACA;;QAEA;QACA;QAEAjE;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AClvBA;AAAA;AAAA;AAAA;AAAutC,CAAgB,6rCAAG,EAAC,C;;;;;;;;;;;ACA3uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpackages/order/list/list.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/order/list/list.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./list.vue?vue&type=template&id=1ddf5cee&scoped=true&\"\nvar renderjs\nimport script from \"./list.vue?vue&type=script&lang=js&\"\nexport * from \"./list.vue?vue&type=script&lang=js&\"\nimport style0 from \"./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"1ddf5cee\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/order/list/list.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=template&id=1ddf5cee&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var l0 = _vm.__map(_vm.filteredOrders, function (order, index) {\n    var $orig = _vm.__get_orig(order)\n    var m0 = _vm.getStatusText(order.status)\n    var m1 = _vm.getTotalQuantity(order.products)\n    return {\n      $orig: $orig,\n      m0: m0,\n      m1: m1,\n    }\n  })\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        l0: l0,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"page-wrapper\">\r\n\t\t<view class=\"order-list-container\">\r\n\t\t\t<!-- 固定头部区域 -->\r\n\t\t\t<view class=\"fixed-header pt-safe\">\r\n\t\t\t\t<!-- 状态切换标签 -->\r\n\t\t\t\t<view class=\"status-tabs\">\r\n\t\t\t\t\t<scroll-view class=\"tabs-scroll\" scroll-x=\"true\" show-scrollbar=\"false\">\r\n\t\t\t\t\t\t<view class=\"tabs-content\">\r\n\t\t\t\t\t\t\t<view class=\"tab-item\" v-for=\"(tab, index) in statusTabs\" :key=\"index\"\r\n\t\t\t\t\t\t\t\t:class=\"{ active: currentStatus === tab.value }\" @click=\"switchStatus(tab.value)\">\r\n\t\t\t\t\t\t\t\t<text>{{ tab.label }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</scroll-view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 订单列表区域 -->\r\n\t\t\t<scroll-view class=\"order-list-scroll\" scroll-y=\"true\" refresher-enabled=\"true\"\r\n\t\t\t\t:refresher-triggered=\"refreshing\" @refresherrefresh=\"onRefresh\" @scrolltolower=\"onLoadMore\"\r\n\t\t\t\t:lower-threshold=\"100\" :scroll-anchoring=\"true\" :enhanced=\"true\" :bounces=\"false\">\r\n\t\t\t\t<view class=\"order-list\">\r\n\t\t\t\t\t<view class=\"order-item\" v-for=\"(order, index) in filteredOrders\" :key=\"order.id\"\r\n\t\t\t\t\t\t@click=\"viewOrderDetail(order)\">\r\n\t\t\t\t\t\t<!-- 订单头部 -->\r\n\t\t\t\t\t\t<view class=\"order-header\">\r\n\t\t\t\t\t\t\t<view class=\"order-info\">\r\n\t\t\t\t\t\t\t\t<view class=\"order-number-row\">\r\n\t\t\t\t\t\t\t\t\t<text class=\"order-number\">订单号：{{ order.orderNumber }}</text>\r\n\t\t\t\t\t\t\t\t\t<u-icon name=\"file-text-fill\" color=\"#999\" size=\"14\"\r\n\t\t\t\t\t\t\t\t\t\t@click.stop=\"copyOrderNumber(order.orderNumber)\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<text class=\"order-time\">{{ order.createTime }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"order-status\">\r\n\t\t\t\t\t\t\t\t<text>{{ getStatusText(order.status) }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 商品信息区域 -->\r\n\t\t\t\t\t\t<view class=\"product-section\">\r\n\t\t\t\t\t\t\t<view class=\"product-item\" v-for=\"(product, pIndex) in order.products\" :key=\"pIndex\">\r\n\t\t\t\t\t\t\t\t<image class=\"product-img\" :src=\"product.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-name\">{{ product.name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-attr\">{{ product.attributes }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"product-bottom\">\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"product-price\">¥{{ product.price }}</view>\r\n\t\t\t\t\t\t\t\t\t\t<view class=\"product-quantity\">×{{ product.quantity }}</view>\r\n\t\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t\t<!-- 订单底部 -->\r\n\t\t\t\t\t\t<view class=\"order-footer\">\r\n\t\t\t\t\t\t\t<view class=\"order-total\">\r\n\t\t\t\t\t\t\t\t<text>共{{ getTotalQuantity(order.products) }}件商品</text>\r\n\t\t\t\t\t\t\t\t<text class=\"total-price\">合计：¥{{ order.totalAmount }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"action-buttons\">\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn secondary\" v-for=\"action in order.secondaryActions\"\r\n\t\t\t\t\t\t\t\t\t:key=\"action.type\" @click.stop=\"handleAction(action.type, order)\">\r\n\t\t\t\t\t\t\t\t\t<text>{{ action.text }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"action-btn primary\" v-for=\"action in order.primaryActions\"\r\n\t\t\t\t\t\t\t\t\t:key=\"action.type\" @click.stop=\"handleAction(action.type, order)\">\r\n\t\t\t\t\t\t\t\t\t<text>{{ action.text }}</text>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<!-- 加载更多提示 -->\r\n\t\t\t\t\t<view class=\"load-more\" v-if=\"hasMore\">\r\n\t\t\t\t\t\t<text v-if=\"loading\">加载中...</text>\r\n\t\t\t\t\t\t<text v-else>上拉加载更多</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"no-more\" v-else>\r\n\t\t\t\t\t\t<text>没有更多订单了</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</scroll-view>\r\n\t\t\t<IconComVue />\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport IconComVue from '../../../components/IconCom.vue'\r\n\timport {\r\n\t\tfetchOrderList,\r\n\t\tfetchOrderComplete,\r\n\t\tfetchOrderCancel\r\n\t} from '@/api/orders'\r\n\r\n\texport default {\r\n\t\tcomponents: {\r\n\t\t\tIconComVue\r\n\t\t},\r\n\t\tname: 'OrderList',\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tcurrentStatus: 'all',\r\n\t\t\t\trefreshing: false,\r\n\t\t\t\tloading: false,\r\n\t\t\t\thasMore: true,\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tpageSize: 10,\r\n\t\t\t\tstatusTabs: [{\r\n\t\t\t\t\t\tlabel: '全部',\r\n\t\t\t\t\t\tvalue: 'all'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待付款',\r\n\t\t\t\t\t\tvalue: '10'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待发货',\r\n\t\t\t\t\t\tvalue: '20'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '待收货',\r\n\t\t\t\t\t\tvalue: '30'\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tlabel: '已完成',\r\n\t\t\t\t\t\tvalue: '40'\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tallOrders: []\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tfilteredOrders() {\r\n\t\t\t\tif (this.currentStatus === 'all') {\r\n\t\t\t\t\treturn this.allOrders\r\n\t\t\t\t}\r\n\t\t\t\treturn this.allOrders.filter(order => order.status == this.currentStatus)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\tconsole.log('订单列表页面接收到参数:', options)\r\n\r\n\t\t\t// 处理从mine页面传递的参数\r\n\t\t\tif (options.status) {\r\n\t\t\t\tthis.currentStatus = options.status\r\n\t\t\t\tconsole.log('设置当前状态为:', this.currentStatus)\r\n\t\t\t}\r\n\t\t\tif (options.tab) {\r\n\t\t\t\t// 根据tab参数设置当前状态\r\n\t\t\t\tconst tabStatusMap = {\r\n\t\t\t\t\t'pending': '10',\r\n\t\t\t\t\t'processing': '20',\r\n\t\t\t\t\t'shipped': '30',\r\n\t\t\t\t\t'completed': '40'\r\n\t\t\t\t}\r\n\t\t\t\tif (tabStatusMap[options.tab]) {\r\n\t\t\t\t\tthis.currentStatus = tabStatusMap[options.tab]\r\n\t\t\t\t\tconsole.log('根据tab设置当前状态为:', this.currentStatus)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t// 重置分页参数\r\n\t\t\tthis.page = 1\r\n\t\t\tthis.hasMore = true\r\n\t\t\tthis.allOrders = []\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 延迟加载，确保状态设置完成\r\n\t\t\tthis.$nextTick(() => {\r\n\t\t\t\tconsole.log('mounted时的当前状态:', this.currentStatus)\r\n\t\t\t\tthis.loadOrders()\r\n\t\t\t})\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 返回上一页\r\n\t\t\tgoBack() {\r\n\t\t\t\tuni.navigateBack({\r\n\t\t\t\t\tdelta: 1\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 复制订单号\r\n\t\t\tcopyOrderNumber(orderNumber) {\r\n\t\t\t\tuni.setClipboardData({\r\n\t\t\t\t\tdata: orderNumber,\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单号已复制',\r\n\t\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t},\r\n\t\t\t\t\tfail: () => {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '复制失败',\r\n\t\t\t\t\t\t\ticon: 'none',\r\n\t\t\t\t\t\t\tduration: 1500\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 显示更多选项\r\n\t\t\tshowMoreOptions() {\r\n\t\t\t\tuni.showActionSheet({\r\n\t\t\t\t\titemList: ['搜索订单', '联系客服'],\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tif (res.tapIndex === 0) {\r\n\t\t\t\t\t\t\t// 搜索订单\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '搜索功能开发中',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t} else if (res.tapIndex === 1) {\r\n\t\t\t\t\t\t\t// 联系客服\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '客服功能开发中',\r\n\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 切换状态\r\n\t\t\tswitchStatus(status) {\r\n\t\t\t\tthis.currentStatus = status\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.hasMore = true\r\n\t\t\t\tthis.allOrders = [] // 清空当前列表\r\n\t\t\t\tthis.loadOrders()\r\n\t\t\t},\r\n\r\n\t\t\t// 获取状态文本\r\n\t\t\tgetStatusText(status) {\r\n\t\t\t\tconst statusMap = {\r\n\t\t\t\t\t'10': '待付款',\r\n\t\t\t\t\t'20': '待发货',\r\n\t\t\t\t\t'30': '待收货',\r\n\t\t\t\t\t'40': '已完成',\r\n\t\t\t\t\t'50': '已取消'\r\n\t\t\t\t}\r\n\t\t\t\treturn statusMap[status] || '未知状态'\r\n\t\t\t},\r\n\r\n\t\t\t// 获取商品总数量\r\n\t\t\tgetTotalQuantity(products) {\r\n\t\t\t\treturn products.reduce((total, product) => total + product.quantity, 0)\r\n\t\t\t},\r\n\r\n\t\t\t// 处理API返回的订单数据\r\n\t\t\tprocessOrderData(orderData) {\r\n\t\t\t\treturn {\r\n\t\t\t\t\tid: orderData.orderId,\r\n\t\t\t\t\torderNumber: orderData.orderId,\r\n\t\t\t\t\tcreateTime: this.formatTime(orderData.createTime),\r\n\t\t\t\t\tstatus: orderData.status,\r\n\t\t\t\t\ttotalAmount: parseFloat(orderData.flowPrice || 0).toFixed(2),\r\n\t\t\t\t\tproducts: (orderData.orderItems || []).map(goods => ({\r\n\t\t\t\t\t\timage: goods.goodsImage || '',\r\n\t\t\t\t\t\tname: goods.goodsName || '商品名称',\r\n\t\t\t\t\t\tattributes: this.formatSpecs(goods.specs),\r\n\t\t\t\t\t\tprice: parseFloat(goods.unitPrice || 0).toFixed(2),\r\n\t\t\t\t\t\tquantity: goods.goodsNum || 1\r\n\t\t\t\t\t})),\r\n\t\t\t\t\tsecondaryActions: this.getSecondaryActions(orderData.status),\r\n\t\t\t\t\tprimaryActions: this.getPrimaryActions(orderData.status)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化时间\r\n\t\t\tformatTime(timeStr) {\r\n\t\t\t\tif (!timeStr) return ''\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst date = new Date(timeStr)\r\n\t\t\t\t\tconst year = date.getFullYear()\r\n\t\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\r\n\t\t\t\t\tconst day = String(date.getDate()).padStart(2, '0')\r\n\t\t\t\t\tconst hours = String(date.getHours()).padStart(2, '0')\r\n\t\t\t\t\tconst minutes = String(date.getMinutes()).padStart(2, '0')\r\n\t\t\t\t\treturn `${year}-${month}-${day} ${hours}:${minutes}`\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treturn timeStr\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化规格信息\r\n\t\t\tformatSpecs(specs) {\r\n\t\t\t\tif (!specs) return ''\r\n\t\t\t\tif (typeof specs === 'string') {\r\n\t\t\t\t\ttry {\r\n\t\t\t\t\t\tconst specsArray = JSON.parse(specs)\r\n\t\t\t\t\t\tif (Array.isArray(specsArray)) {\r\n\t\t\t\t\t\t\treturn specsArray.join(' | ')\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\treturn specs\r\n\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\treturn specs\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tif (Array.isArray(specs)) {\r\n\t\t\t\t\treturn specs.join(' | ')\r\n\t\t\t\t}\r\n\t\t\t\treturn String(specs)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取次要操作按钮\r\n\t\t\tgetSecondaryActions(status) {\r\n\t\t\t\tconst actions = []\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase '10': // 待付款\r\n\t\t\t\t\tcase 10: // 待付款\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'cancel',\r\n\t\t\t\t\t\t\ttext: '取消订单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '20': // 待发货\r\n\t\t\t\t\tcase 20: // 待发货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '30': // 待收货\r\n\t\t\t\t\tcase 30: // 待收货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'logistics',\r\n\t\t\t\t\t\t\ttext: '查看物流'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'confirmReceipt',\r\n\t\t\t\t\t\t\ttext: '确认收货'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '40': // 已完成\r\n\t\t\t\t\tcase 40: // 已完成\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'reorder',\r\n\t\t\t\t\t\t\ttext: '再来一单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 根据业务需求，已完成状态也可以申请售后（比如在收货后7天内）\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'all': // 全部状态\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'logistics',\r\n\t\t\t\t\t\t\ttext: '查看物流'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'afterSale',\r\n\t\t\t\t\t\t\ttext: '申请售后'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\treturn actions\r\n\t\t\t},\r\n\r\n\t\t\t// 获取主要操作按钮\r\n\t\t\tgetPrimaryActions(status) {\r\n\t\t\t\tconst actions = []\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase '10': // 待付款\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'pay',\r\n\t\t\t\t\t\t\ttext: '继续付款'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '20': // 待发货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'reorder',\r\n\t\t\t\t\t\t\ttext: '再来一单'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '30': // 待收货\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'confirm',\r\n\t\t\t\t\t\t\ttext: '确认收货'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase '40': // 已完成\r\n\t\t\t\t\t\tactions.push({\r\n\t\t\t\t\t\t\ttype: 'review',\r\n\t\t\t\t\t\t\ttext: '去评价'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\t\t\t\treturn actions\r\n\t\t\t},\r\n\r\n\t\t\t// 加载订单数据\r\n\t\t\tasync loadOrders() {\r\n\t\t\t\tif (this.loading) return\r\n\r\n\t\t\t\tthis.loading = true\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tpageNum: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果不是全部状态，添加状态过滤\r\n\t\t\t\t\tif (this.currentStatus !== 'all') {\r\n\t\t\t\t\t\tparams.status = this.currentStatus\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderList 会在这里使用\r\n\t\t\t\t\tconst response = await fetchOrderList(params)\r\n\t\t\t\t\tif (response.code === 200 && response.rows.length) {\r\n\t\t\t\t\t\tconst orderList = response.rows || []\r\n\t\t\t\t\t\tconst newOrders = orderList.map(order => this.processOrderData(order))\r\n\t\t\t\t\t\tif (this.page === 1) {\r\n\t\t\t\t\t\t\tthis.allOrders = newOrders\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.allOrders = [...this.allOrders, ...newOrders]\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t// 判断是否还有更多数据\r\n\t\t\t\t\t\tif (newOrders.length < this.pageSize) {\r\n\t\t\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to fetch orders:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '加载订单失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t} finally {\r\n\t\t\t\t\t// 3秒超时自动关闭\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tthis.page++\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 下拉刷新\r\n\t\t\tasync onRefresh() {\r\n\t\t\t\tthis.refreshing = true\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.hasMore = true\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst params = {\r\n\t\t\t\t\t\tpageNum: this.page,\r\n\t\t\t\t\t\tpageSize: this.pageSize\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果不是全部状态，添加状态过滤\r\n\t\t\t\t\tif (this.currentStatus !== 'all') {\r\n\t\t\t\t\t\tparams.status = this.currentStatus\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderList 会在这里使用\r\n\t\t\t\t\tconst response = await fetchOrderList(params)\r\n\r\n\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t// 统一数据结构处理，与loadOrders方法保持一致\r\n\t\t\t\t\t\tconst orderList = response.rows || response.data?.rows || response.data?.list || response.data\r\n\t\t\t\t\t\t\t?.records || []\r\n\t\t\t\t\t\tthis.allOrders = orderList.map(order => this.processOrderData(order))\r\n\r\n\t\t\t\t\t\t// 重置分页状态\r\n\t\t\t\t\t\tthis.page = 2 // 下次加载从第2页开始\r\n\r\n\t\t\t\t\t\t// 判断是否还有更多数据\r\n\t\t\t\t\t\tif (orderList.length < this.pageSize) {\r\n\t\t\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.hasMore = true\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 如果请求失败，清空列表\r\n\t\t\t\t\t\tthis.allOrders = []\r\n\t\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('Failed to refresh orders:', error)\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '刷新订单失败',\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t\t// 网络错误时也清空列表，避免显示旧数据\r\n\t\t\t\t\tthis.allOrders = []\r\n\t\t\t\t\tthis.hasMore = false\r\n\t\t\t\t} finally {\r\n\t\t\t\t\tthis.refreshing = false\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 上拉加载更多\r\n\t\t\tonLoadMore() {\r\n\t\t\t\tif (this.hasMore && !this.loading) {\r\n\t\t\t\t\tthis.loadOrders()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 处理按钮点击\r\n\t\t\thandleAction(actionType, order) {\r\n\t\t\t\tswitch (actionType) {\r\n\t\t\t\t\tcase 'cancel':\r\n\t\t\t\t\t\tthis.cancelOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'pay':\r\n\t\t\t\t\t\tthis.payOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'afterSale':\r\n\t\t\t\t\t\tthis.afterSale(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'reorder':\r\n\t\t\t\t\t\tthis.reorder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'logistics':\r\n\t\t\t\t\t\tthis.viewLogistics(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'confirm':\r\n\t\t\t\t\t\tthis.confirmOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'confirmReceipt':\r\n\t\t\t\t\t\tthis.confirmReceipt(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'review':\r\n\t\t\t\t\t\tthis.reviewOrder(order)\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '功能开发中',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 取消订单\r\n\t\t\tasync cancelOrder(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认取消',\r\n\t\t\t\t\tcontent: '确定要取消这个订单吗？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: '取消中...'\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('取消订单 - 订单ID:', order.id, '订单号:', order.orderNumber)\r\n\r\n\t\t\t\t\t\t\t\t// TODO 取消订单接口 会在这里使用\r\n\t\t\t\t\t\t\t\tconst response = await fetchOrderCancel(order.id)\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('取消订单 - API响应:', response)\r\n\r\n\t\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '订单已取消',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t// 立即更新本地订单状态，提供更好的用户体验\r\n\t\t\t\t\t\t\t\t\tthis.updateOrderStatus(order.id, '50') // 50 = 已取消\r\n\r\n\t\t\t\t\t\t\t\t\t// 同时延迟刷新，确保服务器状态已更新\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onRefresh()\r\n\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: response.msg || '取消订单失败',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('取消订单失败:', error)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '取消订单失败，请重试',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 继续付款\r\n\t\t\tpayOrder(order) {\r\n\t\t\t\t// 跳转到订单详情页面进行支付\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/detail/detail?orderId=${order.id}&orderNumber=${order.orderNumber}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 申请售后\r\n\t\t\tafterSale(order) {\r\n\t\t\t\t// 构建跳转参数\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\torderId: order.orderNumber,\r\n\t\t\t\t\torderItemId: order.id,\r\n\t\t\t\t\torderStatus: order.status\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 如果有商品信息，也传递过去\r\n\t\t\t\tif (order.products && order.products.length > 0) {\r\n\t\t\t\t\tconst product = order.products[0] // 取第一个商品\r\n\t\t\t\t\tparams.productName = encodeURIComponent(product.name)\r\n\t\t\t\t\tparams.productImage = encodeURIComponent(product.image)\r\n\t\t\t\t\tparams.productPrice = product.price\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 构建URL参数\r\n\t\t\t\tconst urlParams = Object.keys(params)\r\n\t\t\t\t\t.map(key => `${key}=${params[key]}`)\r\n\t\t\t\t\t.join('&')\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/afterSale/afterSale?${urlParams}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 确认收货\r\n\t\t\tasync confirmReceipt(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认收货',\r\n\t\t\t\t\tcontent: '确认已收到商品吗？确认后订单将完成。',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tuni.showLoading({\r\n\t\t\t\t\t\t\t\t\ttitle: '处理中...'\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('确认收货 - 订单ID:', order.id, '订单号:', order.orderNumber)\r\n\r\n\t\t\t\t\t\t\t\t// TODO fetchOrderComplete 会在这里使用\r\n\t\t\t\t\t\t\t\tconst response = await fetchOrderComplete({\r\n\t\t\t\t\t\t\t\t\torderId: order.orderNumber || order.id\r\n\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\tconsole.log('确认收货 - API响应:', response)\r\n\r\n\t\t\t\t\t\t\t\tif (response.code === 200) {\r\n\t\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\t\ttitle: '确认收货成功',\r\n\t\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t// 立即更新本地订单状态，提供更好的用户体验\r\n\t\t\t\t\t\t\t\t\tthis.updateOrderStatus(order.id, '40') // 40 = 已完成\r\n\r\n\t\t\t\t\t\t\t\t\t// 延迟刷新订单列表，确保服务器状态已更新\r\n\t\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\t\tthis.onRefresh()\r\n\t\t\t\t\t\t\t\t\t}, 500)\r\n\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\tthrow new Error(response.msg || '确认收货失败')\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tconsole.error('确认收货失败:', error)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: error.message || '确认收货失败，请重试',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t} finally {\r\n\t\t\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 再来一单\r\n\t\t\treorder(order) {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '添加到购物车',\r\n\t\t\t\t\ticon: 'success'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看物流\r\n\t\t\tviewLogistics(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/order/logistics/logistics?orderId=' + order.id\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 确认收货\r\n\t\t\tasync confirmOrder(order) {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '确认收货',\r\n\t\t\t\t\tcontent: '确认已收到商品吗？',\r\n\t\t\t\t\tsuccess: async (res) => {\r\n\t\t\t\t\t\tif (res.confirm) {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\t// TODO 确认收货接口 会在这里使用\r\n\t\t\t\t\t\t\t\t// const response = await confirmReceiptApi(order.id)\r\n\t\t\t\t\t\t\t\t// if (response.code === 200) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '确认收货成功',\r\n\t\t\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\tthis.onRefresh() // 刷新订单列表\r\n\t\t\t\t\t\t\t\t// } else {\r\n\t\t\t\t\t\t\t\t//\tuni.showToast({ title: response.msg || '确认收货失败', icon: 'none' })\r\n\t\t\t\t\t\t\t\t// }\r\n\t\t\t\t\t\t\t} catch (error) {\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '确认收货失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 去评价\r\n\t\t\treviewOrder(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/order/evaluate/evaluate'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 查看订单详情\r\n\t\t\tviewOrderDetail(order) {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/ViewOrderInfo/ViewOrderInfo?orderId=${order.orderNumber || order.id}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 立即更新本地订单状态（提供更好的用户体验）\r\n\t\t\tupdateOrderStatus(orderId, newStatus) {\r\n\t\t\t\tconst orderIndex = this.allOrders.findIndex(order => order.id === orderId)\r\n\t\t\t\tif (orderIndex !== -1) {\r\n\t\t\t\t\t// 更新订单状态\r\n\t\t\t\t\tthis.allOrders[orderIndex].status = newStatus\r\n\r\n\t\t\t\t\t// 重新计算按钮显示\r\n\t\t\t\t\tthis.allOrders[orderIndex].secondaryActions = this.getSecondaryActions(newStatus)\r\n\t\t\t\t\tthis.allOrders[orderIndex].primaryActions = this.getPrimaryActions(newStatus)\r\n\r\n\t\t\t\t\t// 强制更新视图\r\n\t\t\t\t\tthis.$forceUpdate()\r\n\r\n\t\t\t\t\tconsole.log(`本地订单状态已更新: ${orderId} -> ${newStatus}`)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t/* 页面包装器 - 替代BaseContainer */\r\n\t.page-wrapper {\r\n\t\tmin-height: 100vh;\r\n\t\tbackground: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);\r\n\t\tposition: relative;\r\n\t\tpadding-top: env(safe-area-inset-top);\r\n\t\t/* 顶部安全距离 */\r\n\t\tpadding-bottom: env(safe-area-inset-bottom);\r\n\t\t/* 底部安全距离 */\r\n\t\tbox-sizing: border-box;\r\n\t}\r\n\r\n\t.order-list-container {\r\n\t\theight: 100vh;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: transparent;\r\n\t\tposition: relative;\r\n\t\toverflow: hidden;\r\n\t\t/* 防止容器滚动 */\r\n\t}\r\n\r\n\t/* 固定头部区域 */\r\n\t.fixed-header {\r\n\t\tposition: fixed;\r\n\t\ttop: constant(safe-area-inset-top);\r\n\t\t/* 兼容 iOS < 11.2 */\r\n\t\ttop: env(safe-area-inset-top);\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 100;\r\n\t\tbackground: rgba(255, 255, 255, 0.95);\r\n\t\tbackdrop-filter: blur(20rpx);\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\t}\r\n\r\n\t/* 页面头部 */\r\n\t.page-header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t.header-left,\r\n\t\t.header-right {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.header-title {\r\n\t\t\tflex: 1;\r\n\t\t\ttext-align: center;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 状态切换标签 */\r\n\t.status-tabs {\r\n\t\tbackground: #fff;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\tposition: relative;\r\n\r\n\t\t.tabs-scroll {\r\n\t\t\twhite-space: nowrap;\r\n\t\t}\r\n\r\n\t\t.tabs-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\tpadding: 0 24rpx;\r\n\t\t}\r\n\r\n\t\t.tab-item {\r\n\t\t\tposition: relative;\r\n\t\t\tpadding: 24rpx 32rpx;\r\n\t\t\tmargin-right: 40rpx;\r\n\t\t\twhite-space: nowrap;\r\n\r\n\t\t\ttext {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\ttransition: color 0.3s;\r\n\t\t\t}\r\n\r\n\t\t\t&.active {\r\n\t\t\t\ttext {\r\n\t\t\t\t\tcolor: #89D600;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&::after {\r\n\t\t\t\t\tcontent: '';\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbottom: 0;\r\n\t\t\t\t\tleft: 50%;\r\n\t\t\t\t\ttransform: translateX(-50%);\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 4rpx;\r\n\t\t\t\t\tbackground: #89D600;\r\n\t\t\t\t\tborder-radius: 2rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-right: 0;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 订单列表滚动区域 */\r\n\t.order-list-scroll {\r\n\t\tflex: 1;\r\n\t\tbackground: transparent;\r\n\t\tmargin-top: 90rpx;\r\n\t\t/* 为固定头部和安全区域留出空间 */\r\n\t\theight: calc(100vh - 180rpx - env(safe-area-inset-top) - env(safe-area-inset-bottom));\r\n\t\t/* 减去固定头部和安全区域的高度 */\r\n\t\toverflow: hidden;\r\n\t\t/* 防止触发外部滚动 */\r\n\t}\r\n\r\n\t.order-list {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t/* 订单卡片 */\r\n\t.order-item {\r\n\t\tbackground: rgba(255, 255, 255, 0.9);\r\n\t\tborder-radius: 12rpx;\r\n\t\tmargin-bottom: 20rpx;\r\n\t\toverflow: hidden;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\t\tbackdrop-filter: blur(10rpx);\r\n\r\n\t\t.order-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.order-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmin-width: 0;\r\n\r\n\t\t\t\t.order-number-row {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 8rpx;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-number {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmax-width: 400rpx;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\ttext-overflow: ellipsis;\r\n\t\t\t\t\twhite-space: nowrap;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-time {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.order-status {\r\n\t\t\t\tflex-shrink: 0;\r\n\t\t\t\twhite-space: nowrap;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #999;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.product-section {\r\n\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t.product-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: flex-start;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tmargin-bottom: 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-img {\r\n\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\theight: 120rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-info {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tflex-direction: column;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tmin-height: 120rpx;\r\n\r\n\t\t\t\t\t.product-name {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\tline-height: 1.4;\r\n\t\t\t\t\t\tdisplay: -webkit-box;\r\n\t\t\t\t\t\t-webkit-line-clamp: 2;\r\n\t\t\t\t\t\t-webkit-box-orient: vertical;\r\n\t\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-attr {\r\n\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-bottom {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t\t.product-price {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.product-quantity {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.order-total {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: space-between;\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\ttext {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.total-price {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.action-buttons {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tjustify-content: flex-end;\r\n\t\t\t\tflex-wrap: wrap;\r\n\t\t\t\t/* 允许换行 */\r\n\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t.action-btn {\r\n\t\t\t\t\theight: 72rpx;\r\n\t\t\t\t\tpadding: 0 32rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tflex-shrink: 0;\r\n\t\t\t\t\t/* 防止按钮被压缩 */\r\n\r\n\t\t\t\t\ttext {\r\n\t\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.secondary {\r\n\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\tborder: 2rpx solid #ddd;\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.primary {\r\n\t\t\t\t\t\tbackground: #89D600;\r\n\r\n\t\t\t\t\t\ttext {\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 加载更多提示 */\r\n\t.load-more,\r\n\t.no-more {\r\n\t\ttext-align: center;\r\n\t\tpadding: 40rpx 0;\r\n\r\n\t\ttext {\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 页面全局样式 */\r\n\tpage {\r\n\t\tbackground: linear-gradient(135deg, #f5f5f5 0%, #ffffff 100%);\r\n\t\theight: 100vh;\r\n\t\toverflow: hidden;\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./list.vue?vue&type=style&index=0&id=1ddf5cee&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758547635899\n      var cssReload = require(\"D:/HbuilderDevTool/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> Stashed changes
