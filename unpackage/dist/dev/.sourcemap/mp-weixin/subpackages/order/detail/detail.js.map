<<<<<<< Updated upstream
{"version":3,"sources":["uni-app:///main.js","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?4f1f","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?49d3","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?5b9a","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?eecd","uni-app:///subpackages/order/detail/detail.vue","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?99ff","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/subpackages/order/detail/detail.vue?bc68"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","BaseContainer","data","showCoupon","showPayment","showPaymentSuccess","paymentAmount","orderData","loading","selectedAddress","shippingFee","discountAmount","totalAmount","productInfo","productList","availableCoupons","selectedCoupons","paymentMethods","desc","icon","selected","selectedPayment","computed","goodsTotalPrice","couponDiscount","totalPrice","couponText","couponTextClass","totalDiscount","selectedDiscount","onLoad","console","onShow","globalData","setTimeout","onUnload","methods","getOrderPreview","requestData","goodsList","orderType","promotionId","uni","title","url","res","updateOrderPreview","image","description","price","quantity","unitPrice","id","phone","consigneePhone","province","city","district","detail","isDefault","amount","label","dateRange","note","originalData","formatSpecs","formatCouponDateRange","year","month","day","selectAddress","addAddress","updateAddress","address","showCouponModal","closeCouponModal","toggleCoupon","updateSelectedCoupons","confirmCouponSelection","showPaymentModal","closePaymentModal","selectPayment","payment","confirmPaymentSelection","confirmOrder","createOrder","deliveryType","memberAddressId","isCart","flowPrice","memberRemark","memberCouponId","errorMessage","processPayment","orderInfo","handleWechatPay","paymentMethod","orderId","provider","appId","timeStamp","nonceStr","package","signType","paySign","success","fail","handleBankTransfer","handleOtherPayment","paymentSuccess","handleOverlayClick","handlePaymentSuccessClose","handlePaymentSuccessConfirm","getSelectedSkuId"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AACwN;AACxN,gBAAgB,8NAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACnDA;AAAA;AAAA;AAAA;AAA+1B,CAAgB,q2BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACyRn3B;AACA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;EACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;QACAlB;QACAmB;QACAC;QACAC;MACA,GACA;QACArB;QACAmB;QACAC;QACAC;MACA,EACA;MACAC;QACAtB;QACAmB;QACAC;MACA;IACA;EACA;EACAG;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA;MACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;MACA;QACA;QACA;MACA;QACAC;MACA;IACA;EACA;EACAC;IAAA;IACAD;IACAA;;IAEA;IACA;MACA;MACAE;IACA;;IAEA;IACA;MACA;MACAA;;MAEA;MACAC;QACA;MACA;IACA;MACA;MACAA;QACA;MACA;IACA;MACA;MACAH;MACA;IACA;EACA;EACAI;IACA;IACAF;EACA;EACAG;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;kBACAC;kBACAC;kBAAA;kBACAC;gBACA,GAEA;;gBACAV;gBACAA;gBAAA,KACAE;kBAAA;kBAAA;gBAAA;gBACAK;kBACAC;kBACAC;kBACAC;gBACA;gBACAR;gBAAA;gBAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBACAK;kBACAC;kBACAC;kBACAC;gBACA;gBAAA;gBAAA;cAAA;gBAEA;gBACA;gBACAC;kBACAC;kBACAxB;gBACA;gBACAe;kBACAQ;oBACAE;kBACA;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAKA;cAAA;gBAAAC;gBAEA;kBACA;kBACA;gBACA;kBACA;kBACA;kBACAH;oBACAC;oBACAxB;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAY;gBACA;gBACA;gBACAW;kBACAC;kBACAxB;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA2B;MAAA;MACA;MACA;QACA;QACA;UAAA;YACAC;YACAhD;YACAiD;YACAC;YACAC;YACAC;UACA;QAAA;;QAEA;QACA;QACA;UACAJ;UACAhD;UACAiD;UACAC;UACAC;QACA;MACA;;MAEA;MACA;QACAX;QACAd;QACAe;QACAC;MACA;;MAEA;MACA;QAEA;UACAW;UACArD;UACAsD,mFACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;;QAEA;QACA;UACA;UACA;YACA;YACA;YACA;UACA;QACA;MACA;;MAEA;MACA;QACA;UAAA;YACAP;YACAQ;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACA3C;YACA;YACA4C;UACA;QAAA;MACA;QACA;QACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;QACA;QACA;MACA;;MAEA;MACA;IACA;IAGA;IACAC;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QAEA;QACA;;QAEA;QACA;UACAC;UACAC;UACAC;QACA;;QAEA;QACA;UACA;QACA;;QAEA;QACA;QACA;QAEA;UACA;QACA;UACA;QACA;MACA;QACAtC;QACA;MACA;IACA;IAEAuC;MACA;MACA5B;QACAE;MACA;IACA;IAEA2B;MACA;MACA7B;QACAE;MACA;IACA;IAEA;IACA4B;MACAzC;MACA;MACA,qDACA0C;QACApB;MAAA,EACA;MACA;MACA;MACApB;MACA;IACA;IACAyC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA1C;UACAC;UACAxB;QACA;QACA;MACA;;MAEA;MACA;QACAuB;UACAC;UACAxB;QACA;QACA;MACA;;MAEA;MACA;QACAuB;UACAC;UACAxB;QACA;QACA;MACA;;MAEA;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACAuB;cACAC;cACAxB;YACA;YACA;UACA;QACA;;QAEA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;QACAuB;UACAC;UACAxB;QACA;QACA;MACA;;MAEA;MACA;QACAuB;UACAC;UACAxB;QACA;QACA;MACA;;MAEA;MACA;QACAuB;UACAC;UACAxB;QACA;QACA;MACA;MAEAuB;QACAC;MACA;;MAEA;MACA;IACA;IAEA;IACA0C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACA9E;kBACAgC;kBACA+C;kBAAA;kBACAC;kBAAA;kBACAC;kBAAA;kBACAC;kBAAA;kBACAjD;kBAAA;kBACAkD;kBAAA;kBACAC,mFACA;kBAAA;kBACAlD;gBACA,GAEA;gBAAA;gBAAA,OACA;cAAA;gBAAAI;gBAEAd;gBACAA;gBAAA,MAEAc;kBAAA;kBAAA;gBAAA;gBACAH;gBACA;gBACA;gBAAA,IACAG;kBAAA;kBAAA;gBAAA;gBACAH;kBACAC;kBACAxB;gBACA;gBAAA;cAAA;gBAIA;gBAAA;gBAAA;cAAA;gBAEAuB;gBACAA;kBACAC;kBACAxB;gBACA;gBACA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAF;gBACAW;;gBAEA;gBACAkD;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAlD;kBACAC;kBACAxB;gBACA;;gBAEA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA4D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,IAGAC;kBAAA;kBAAA;gBAAA;gBACApD;kBACAC;kBACAxB;gBACA;gBAAA;cAAA;gBAIAY;;gBAEA;gBAAA,eACA;gBAAA,kCACA,8BAGA;gBAAA;cAAA;gBAAA;gBAAA,OAFA;cAAA;gBAAA;cAAA;gBAAA;gBAAA,OAGA;cAAA;gBAAA;cAAA;gBAAA;gBAAA,OAIA;cAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAIAA;;gBAEA;gBACA6D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAlD;kBACAC;kBACAxB;gBACA;;gBAEA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA8D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEAhE;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;kBACAiE;kBAAA;kBACAC;gBACA;cAAA;gBAHApD;gBAIA;kBACA;kBACAH;oBACAwD;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;sBACA1E;sBACA;oBACA;oBACA2E;sBACA3E;sBACAW;wBACAC;wBACAxB;sBACA;sBACA;sBACAe;wBACAQ;sBACA;;sBAEA;sBACAT;sBACAA;oBACA;kBACA;gBACA;kBACAS;oBACAC;oBACAxB;kBACA;kBACA;kBACAe;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;;gBAEA;gBACA6D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAlD;kBACAC;kBACAxB;gBACA;;gBAEA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA0E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA5E;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;kBACAiE;kBAAA;kBACAC;gBACA;cAAA;gBAHApD;gBAKA;kBACAH;oBACAC;oBACAxB;kBACA;;kBAEA;kBACA;gBACA;kBACAuB;oBACAC;oBACAxB;kBACA;kBACA;kBACAe;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;;gBAEA;gBACA6D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAlD;kBACAC;kBACAxB;gBACA;;gBAEA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA2E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA7E;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;kBACAiE;kBAAA;kBACAC;gBACA;cAAA;gBAHApD;gBAKA;kBACAH;oBACAC;oBACAxB;kBACA;;kBAEA;kBACA;gBACA;kBACAuB;oBACAC;oBACAxB;kBACA;kBACA;kBACAe;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;;gBAEA;gBACA6D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAlD;kBACAC;kBACAxB;gBACA;;gBAEA;gBACAe;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA4E;MACA9E;MACA;MACA;MACA;IACA;IAEA;IACA+E;MACA;IAAA,CACA;IAEA;IACAC;MACA;MACA;MACA9E;MACAA;MACA;MACAS;QACAE;MACA;IACA;IAEA;IACAoE;MACA;MACA;MACA/E;MACAA;MACA;MACAS;QACAE;MACA;IACA;IAEA;IACAqE;MACA;QACA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9oCA;AAAA;AAAA;AAAA;AAA8mD,CAAgB,gjDAAG,EAAC,C;;;;;;;;;;;ACAloD;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpackages/order/detail/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/order/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=08f7b1ce&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08f7b1ce\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/order/detail/detail.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=08f7b1ce&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.loading ? _vm.productList && _vm.productList.length > 0 : null\n  var g1 = !_vm.loading ? _vm.goodsTotalPrice.toFixed(2) : null\n  var g2 = _vm.availableCoupons.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"order-detail-container\" :class=\"{ 'popup-open': showCoupon || showPayment }\">\r\n\t\t\t<!-- Loading Skeleton -->\r\n\t\t\t<view v-if=\"loading\" class=\"skeleton-container\">\r\n\t\t\t\t<!-- Address Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-address\">\r\n\t\t\t\t\t<view class=\"skeleton-address-content\">\r\n\t\t\t\t\t\t<view class=\"skeleton-address-info\">\r\n\t\t\t\t\t\t\t<view class=\"skeleton-address-user\">\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-name\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-phone\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-address-detail\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"skeleton-arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Product Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-product\">\r\n\t\t\t\t\t<view class=\"skeleton-product-card\" v-for=\"i in 2\" :key=\"i\">\r\n\t\t\t\t\t\t<view class=\"skeleton-product-img\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-product-info\">\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-name\"></view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-desc\"></view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-product-price\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-product-quantity\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Price Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-price\">\r\n\t\t\t\t\t<view class=\"skeleton-price-item\" v-for=\"i in 4\" :key=\"i\">\r\n\t\t\t\t\t\t<view class=\"skeleton-price-label\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-price-value\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Payment Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-payment\">\r\n\t\t\t\t\t<view class=\"skeleton-payment-title\"></view>\r\n\t\t\t\t\t<view class=\"skeleton-payment-method\">\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-icon\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-name\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Content -->\r\n\t\t\t<view v-else>\r\n\t\t\t\t<!-- Address Section -->\r\n\t\t\t\t<view class=\"address-section\" @click=\"selectAddress\" v-if=\"selectedAddress\">\r\n\t\t\t\t\t<view class=\"address-content\">\r\n\t\t\t\t\t\t<view class=\"address-info\">\r\n\t\t\t\t\t\t\t<view class=\"address-user\">\r\n\t\t\t\t\t\t\t\t<text class=\"user-name\">{{ selectedAddress.name }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"user-phone\">{{ selectedAddress.phone }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"address-detail\">\r\n\t\t\t\t\t\t\t\t{{ selectedAddress.province }}{{ selectedAddress.city }}{{ selectedAddress.district }}{{ selectedAddress.detail }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"address-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- No Address Section -->\r\n\t\t\t\t<view class=\"no-address-section\" @click=\"addAddress\" v-else>\r\n\t\t\t\t\t<view class=\"no-address-content\">\r\n\t\t\t\t\t\t<view class=\"no-address-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"map\" color=\"#999\" size=\"40\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"no-address-info\">\r\n\t\t\t\t\t\t\t<view class=\"no-address-title\">请添加收货地址</view>\r\n\t\t\t\t\t\t\t<view class=\"no-address-desc\">选择您的收货地址以便配送</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"no-address-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"#89D600\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Product Info Section -->\r\n\t\t\t\t<view class=\"product-section\" v-if=\"productList && productList.length > 0\">\r\n\t\t\t\t\t<view class=\"product-card\" v-for=\"(product, index) in productList\" :key=\"index\">\r\n\t\t\t\t\t\t<image class=\"product-img\" :src=\"product.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t\t<view class=\"product-name\">{{ product.name }}</view>\r\n\t\t\t\t\t\t\t<view class=\"product-desc\">{{ product.description }}</view>\r\n\t\t\t\t\t\t\t<view class=\"product-bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"product-price\">¥{{ product.price }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"product-quantity\">×{{ product.quantity }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Price Breakdown -->\r\n\t\t\t\t<view class=\"price-section\">\r\n\t\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">运费</text>\r\n\t\t\t\t\t\t<text class=\"price-value\">¥{{ shippingFee }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">商品小计</text>\r\n\t\t\t\t\t\t<text class=\"price-value\">¥{{ goodsTotalPrice.toFixed(2) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item coupon-item\" @click=\"showCouponModal\">\r\n\t\t\t\t\t\t<text class=\"price-label\">优惠券</text>\r\n\t\t\t\t\t\t<view class=\"coupon-info\">\r\n\t\t\t\t\t\t\t<text class=\"coupon-text\" :class=\"couponTextClass\">{{ couponText }}</text>\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item total-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">合计</text>\r\n\t\t\t\t\t\t<text class=\"price-value total-price\">¥{{ totalPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Payment Method -->\r\n\t\t\t\t<view class=\"payment-section\" @click=\"showPaymentModal\">\r\n\t\t\t\t\t<view class=\"section-title\">支付方式</view>\r\n\t\t\t\t\t<view class=\"payment-method\">\r\n\t\t\t\t\t\t<view class=\"payment-info\">\r\n\t\t\t\t\t\t\t<u-icon class=\"payment-icon\" :name=\"selectedPayment.icon\" color=\"#07C160\"\r\n\t\t\t\t\t\t\t\tsize=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t<text class=\"payment-name\">{{ selectedPayment.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"payment-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Bottom Bar -->\r\n\t\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t\t<view class=\"total-info\">\r\n\t\t\t\t\t\t<text class=\"total-label\">合计：</text>\r\n\t\t\t\t\t\t<text class=\"total-amount\">¥{{ totalPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"buy-button\" @click=\"confirmOrder\">\r\n\t\t\t\t\t\t立即购买\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Coupon Selection Modal -->\r\n\r\n\t\t\t<u-popup :show=\"showCoupon\" mode=\"bottom\" :round=\"20\" height=\"70%\" @close=\"closeCouponModal\"\r\n\t\t\t\t:mask-close-able=\"true\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t\t<view class=\"coupon-modal\">\r\n\t\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t\t<view class=\"modal-title\">优惠券</view>\r\n\t\t\t\t\t\t<view class=\"modal-subtitle\">\r\n\t\t\t\t\t\t\t优惠券可叠加使用，一共{{ availableCoupons.length }}张优惠券，可抵扣<span\r\n\t\t\t\t\t\t\t\tclass=\"discount-amount\">¥{{ selectedDiscount }}</span></view>\r\n\t\t\t\t\t\t<view class=\"modal-close\" @click=\"closeCouponModal\">\r\n\t\t\t\t\t\t\t<u-icon name=\"close\" color=\"#999\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"coupon-list\">\r\n\t\t\t\t\t\t<view class=\"coupon-item\" v-for=\"(coupon, index) in availableCoupons\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"coupon-content\" @click=\"toggleCoupon(index)\">\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-left\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-amount\">\r\n\t\t\t\t\t\t\t\t\t\t¥{{ coupon.originalData ? coupon.originalData.price : coupon.amount }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-center\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-label\">{{ coupon.label }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-date\">{{ coupon.dateRange }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-note\">{{ coupon.note }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-right\">\r\n\t\t\t\t\t\t\t\t\t<u-icon :name=\"coupon.selected ? 'checkmark-circle-fill' : 'checkmark-circle'\"\r\n\t\t\t\t\t\t\t\t\t\t:color=\"coupon.selected ? '#89D600' : '#ddd'\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t\t<view class=\"confirm-button\" @click=\"confirmCouponSelection\">\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\r\n\t\t<!-- Payment Method Modal -->\r\n\t\t<u-popup :show=\"showPayment\" mode=\"bottom\" :round=\"20\" height=\"50%\" @close=\"closePaymentModal\"\r\n\t\t\t:mask-close-able=\"true\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t<view class=\"payment-modal\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<view class=\"modal-title\">支付方式</view>\r\n\t\t\t\t\t<view class=\"modal-close\" @click=\"closePaymentModal\">\r\n\t\t\t\t\t\t<u-icon name=\"close\" color=\"#999\" size=\"32\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"payment-list\">\r\n\t\t\t\t\t<view class=\"payment-item\" v-for=\"(payment, index) in paymentMethods\" :key=\"index\"\r\n\t\t\t\t\t\t@click=\"selectPayment(index)\">\r\n\t\t\t\t\t\t<view class=\"payment-content\">\r\n\t\t\t\t\t\t\t<view class=\"payment-left\">\r\n\t\t\t\t\t\t\t\t<u-icon class=\"payment-icon\" :name=\"payment.icon\"\r\n\t\t\t\t\t\t\t\t\t:color=\"payment.name === '微信支付' ? '#07C160' : '#1E88E5'\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t\t<view class=\"payment-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"payment-name\">{{ payment.name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"payment-desc\">{{ payment.desc }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"payment-right\">\r\n\t\t\t\t\t\t\t\t<u-icon :name=\"payment.selected ? 'checkmark' : 'checkmark'\"\r\n\t\t\t\t\t\t\t\t\t:color=\"payment.selected ? '#89D600' : '#ddd'\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t<view class=\"confirm-button\" @click=\"confirmPaymentSelection\">\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t\r\n\t\t<!-- 支付成功弹窗 -->\r\n\t\t<view class=\"payment-success-modal-overlay\" :class=\"{ 'show': showPaymentSuccess }\" @click=\"handleOverlayClick\" v-if=\"showPaymentSuccess\">\r\n\t\t\t<view class=\"payment-success-modal\" @click.stop>\r\n\t\t\t\t<!-- 成功图标 -->\r\n\t\t\t\t<view class=\"success-icon\">\r\n\t\t\t\t\t<view class=\"success-circle\">\r\n\t\t\t\t\t\t<view class=\"success-check\">\r\n\t\t\t\t\t\t\t<view class=\"check-line check-line1\"></view>\r\n\t\t\t\t\t\t\t<view class=\"check-line check-line2\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t<view class=\"modal-title\">支付成功</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 金额信息 -->\r\n\t\t\t\t<view class=\"amount-info\">\r\n\t\t\t\t\t<text class=\"amount-label\">支付金额</text>\r\n\t\t\t\t\t<text class=\"amount-value\">¥{{ paymentAmount }}</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 感谢信息 -->\r\n\t\t\t\t<view class=\"thank-message\">\r\n\t\t\t\t\t<text class=\"thank-text\">感谢您的购买！</text>\r\n\t\t\t\t\t<text class=\"delivery-text\">我们将尽快为您发货</text>\r\n\t\t\t\t</view>\r\n\t\t\t\t\r\n\t\t\t\t<!-- 按钮组 -->\r\n\t\t\t\t<view class=\"button-group\">\r\n\t\t\t\t\t<view class=\"button secondary-button\" @click=\"handlePaymentSuccessClose\">\r\n\t\t\t\t\t\t继续购物\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"button primary-button\" @click=\"handlePaymentSuccessConfirm\">\r\n\t\t\t\t\t\t查看订单\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport BaseContainer from '@/components/BaseWrapper.vue'\r\n\timport globalData from '@/utils/globalData.js'\r\n\timport {\r\n\t\tfetchOrderCreate,\r\n\t\tfetchOrderPay,\r\n\t\tfetchOrderPreview\r\n\t} from '@/api/orders'\r\n\r\n\texport default {\r\n\t\tname: 'OrderDetail',\r\n\t\tcomponents: {\r\n\t\t\tBaseContainer\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowCoupon: false,\r\n\t\t\t\tshowPayment: false,\r\n\t\t\t\tshowPaymentSuccess: false, // 支付成功弹窗显示状态\r\n\t\t\t\tpaymentAmount: '0.00', // 支付金额\r\n\t\t\t\torderData: null, // 存储订单数据\r\n\t\t\t\tloading: true, // 加载状态\r\n\t\t\t\tselectedAddress: null, // 选中的地址\r\n\t\t\t\tshippingFee: 0, // 运费\r\n\t\t\t\tdiscountAmount: 0, // 折扣金额\r\n\t\t\t\ttotalAmount: 0, // 总金额\r\n\t\t\t\tproductInfo: null, // 单个商品信息（兼容旧版本）\r\n\t\t\t\tproductList: [], // 多商品列表\r\n\t\t\t\tavailableCoupons: [], // 可用优惠券\r\n\t\t\t\tselectedCoupons: [],\r\n\t\t\t\tpaymentMethods: [{\r\n\t\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\t\tdesc: '推荐使用微信支付',\r\n\t\t\t\t\t\ticon: 'weixin-fill',\r\n\t\t\t\t\t\tselected: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '对公转账',\r\n\t\t\t\t\t\tdesc: '企业用户推荐',\r\n\t\t\t\t\t\ticon: 'plus-people-fill',\r\n\t\t\t\t\t\tselected: false\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tselectedPayment: {\r\n\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\tdesc: '推荐使用微信支付',\r\n\t\t\t\t\ticon: 'weixin-fill'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 计算商品价格合计\r\n\t\t\tgoodsTotalPrice() {\r\n\t\t\t\tif (this.orderData && this.orderData.goodsList && this.orderData.goodsList.length > 0) {\r\n\t\t\t\t\treturn this.orderData.goodsList.reduce((sum, goods) => {\r\n\t\t\t\t\t\tconst price = parseFloat(goods.goodsPrice || 0)\r\n\t\t\t\t\t\tconst quantity = parseInt(goods.goodsNum || 1)\r\n\t\t\t\t\t\treturn sum + (price * quantity)\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t}\r\n\t\t\t\t// 如果没有订单数据，使用产品列表计算\r\n\t\t\t\tif (this.productList && this.productList.length > 0) {\r\n\t\t\t\t\treturn this.productList.reduce((sum, product) => {\r\n\t\t\t\t\t\tconst unitPrice = parseFloat(product.unitPrice || 0)\r\n\t\t\t\t\t\tconst quantity = parseInt(product.quantity || 1)\r\n\t\t\t\t\t\treturn sum + (unitPrice * quantity)\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t}\r\n\t\t\t\t// 兼容旧版本 - 使用单个商品信息\r\n\t\t\t\tif (this.productInfo) {\r\n\t\t\t\t\treturn parseFloat(this.productInfo.price || 0)\r\n\t\t\t\t}\r\n\t\t\t\treturn 0\r\n\t\t\t},\r\n\t\t\t// 计算优惠券折扣总额\r\n\t\t\tcouponDiscount() {\r\n\t\t\t\treturn this.selectedCoupons.reduce((sum, coupon) => {\r\n\t\t\t\t\t// 兼容新旧数据格式\r\n\t\t\t\t\tconst amount = coupon.originalData ? coupon.originalData.price : parseFloat(coupon.amount)\r\n\t\t\t\t\treturn sum + amount\r\n\t\t\t\t}, 0)\r\n\t\t\t},\r\n\t\t\ttotalPrice() {\r\n\t\t\t\t// 商品价格合计 + 运费 - 优惠券折扣\r\n\t\t\t\tconst goodsTotal = this.goodsTotalPrice\r\n\t\t\t\tconst shippingFee = parseFloat(this.shippingFee || 0)\r\n\t\t\t\tconst couponDiscount = this.couponDiscount\r\n\r\n\t\t\t\treturn (goodsTotal + shippingFee - couponDiscount).toFixed(2)\r\n\t\t\t},\r\n\t\t\tcouponText() {\r\n\t\t\t\tif (this.selectedCoupons.length === 0) {\r\n\t\t\t\t\treturn `${this.availableCoupons.length}张可用`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `- ¥${this.couponDiscount.toFixed(1)}`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcouponTextClass() {\r\n\t\t\t\treturn this.selectedCoupons.length > 0 ? 'discount-highlight' : ''\r\n\t\t\t},\r\n\t\t\ttotalDiscount() {\r\n\t\t\t\treturn this.availableCoupons.reduce((sum, coupon) => {\r\n\t\t\t\t\t// 兼容新旧数据格式\r\n\t\t\t\t\tconst amount = coupon.originalData ? coupon.originalData.price : parseFloat(coupon.amount)\r\n\t\t\t\t\treturn sum + amount\r\n\t\t\t\t}, 0).toFixed(1)\r\n\t\t\t},\r\n\t\t\tselectedDiscount() {\r\n\t\t\t\treturn this.couponDiscount.toFixed(1)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t// 处理从外部传递过来的订单数据\r\n\t\t\tif (options.orderData) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst orderData = JSON.parse(decodeURIComponent(options.orderData))\r\n\t\t\t\t\tthis.orderData = orderData // 存储订单数据\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('解析订单数据失败:', error)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconsole.log('onShow - globalData:', globalData);\r\n\t\t\tconsole.log('onShow - this.orderData:', this.orderData);\r\n\r\n\t\t\t// 检查是否有全局地址数据\r\n\t\t\tif (globalData.selectedAddress) {\r\n\t\t\t\tthis.selectedAddress = globalData.selectedAddress\r\n\t\t\t\tglobalData.selectedAddress = null // 用完即清空\r\n\t\t\t}\r\n\r\n\t\t\t// 检查是否有全局订单数据需要处理\r\n\t\t\tif (globalData.orderData && (!this.orderData || !this.orderData.goodsList)) {\r\n\t\t\t\tthis.orderData = globalData.orderData\r\n\t\t\t\tglobalData.orderData = null // 用完即清空\r\n\r\n\t\t\t\t// 有全局订单数据时，需要获取订单预览来补充完整信息\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getOrderPreview()\r\n\t\t\t\t}, 100)\r\n\t\t\t} else if (!this.orderData || !this.orderData.goodsList) {\r\n\t\t\t\t// 没有任何订单数据时，获取订单预览\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getOrderPreview()\r\n\t\t\t\t}, 100)\r\n\t\t\t} else {\r\n\t\t\t\t// 如果已经有完整的订单数据，直接结束loading状态\r\n\t\t\t\tconsole.log('已有完整订单数据，直接结束loading')\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// 页面卸载时清理全局数据\r\n\t\t\tglobalData.selectedAddress = null\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取订单预览数据\r\n\t\t\tasync getOrderPreview() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 构建请求参数\r\n\t\t\t\t\tlet requestData = {\r\n\t\t\t\t\t\tgoodsList: [],\r\n\t\t\t\t\t\torderType: 1, // 默认普通订单\r\n\t\t\t\t\t\tpromotionId: null // 默认无促销活动\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果有全局订单数据，使用它\r\n\t\t\t\t\tconsole.log('getOrderPreview - globalData.orderData:', globalData.orderData);\r\n\t\t\t\t\tconsole.log('getOrderPreview - this.orderData:', this.orderData);\r\n\t\t\t\t\tif (globalData.orderData) {\r\n\t\t\t\t\t\trequestData = {\r\n\t\t\t\t\t\t\tgoodsList: globalData.orderData.goodsList || [],\r\n\t\t\t\t\t\t\torderType: globalData.orderData.orderType || 1,\r\n\t\t\t\t\t\t\tpromotionId: globalData.orderData.promotionId || null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tglobalData.orderData = null // 用完即清空\r\n\t\t\t\t\t} else if (this.orderData && this.orderData.goodsList) {\r\n\t\t\t\t\t\t// 如果有本地订单数据，使用它\r\n\t\t\t\t\t\trequestData = {\r\n\t\t\t\t\t\t\tgoodsList: this.orderData.goodsList || [],\r\n\t\t\t\t\t\t\torderType: this.orderData.orderType || 1,\r\n\t\t\t\t\t\t\tpromotionId: this.orderData.promotionId || null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 没有订单数据，结束loading并提示跳转\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单数据已失效',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderPreview 会在这里使用\r\n\t\t\t\t\tconst res = await fetchOrderPreview(requestData)\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// 更新页面数据\r\n\t\t\t\t\t\tthis.updateOrderPreview(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 接口失败时也要结束loading\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '获取订单预览失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取订单预览失败:', error)\r\n\t\t\t\t\t// 网络错误时也要结束loading\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络错误，请重试',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 更新订单预览信息\r\n\t\t\tupdateOrderPreview(data) {\r\n\t\t\t\t// 更新商品信息 - 处理多个商品\r\n\t\t\t\tif (data.goodsList && data.goodsList.length > 0) {\r\n\t\t\t\t\t// 构建商品列表\r\n\t\t\t\t\tthis.productList = data.goodsList.map(goods => ({\r\n\t\t\t\t\t\timage: goods.goodsImage || '/static/images/home.png',\r\n\t\t\t\t\t\tname: goods.goodsName || '商品名称',\r\n\t\t\t\t\t\tdescription: `${this.formatSpecs(goods.specs) || '默认规格'} | 单价 ¥${goods.goodsPrice || '0'}`,\r\n\t\t\t\t\t\tprice: (goods.goodsPrice * goods.goodsNum).toFixed(2),\r\n\t\t\t\t\t\tquantity: goods.goodsNum || 1,\r\n\t\t\t\t\t\tunitPrice: goods.goodsPrice || 0\r\n\t\t\t\t\t}))\r\n\r\n\t\t\t\t\t// 兼容旧版本 - 保留第一个商品的信息\r\n\t\t\t\t\tconst firstGoods = data.goodsList[0]\r\n\t\t\t\t\tthis.productInfo = {\r\n\t\t\t\t\t\timage: firstGoods.goodsImage || '/static/images/home.png',\r\n\t\t\t\t\t\tname: firstGoods.goodsName || '雷波青茶',\r\n\t\t\t\t\t\tdescription: `${this.formatSpecs(firstGoods.specs) || '10斤装'} | ${firstGoods.goodsPrice || '199.9'}元`,\r\n\t\t\t\t\t\tprice: (firstGoods.goodsPrice * firstGoods.goodsNum).toString(),\r\n\t\t\t\t\t\tquantity: firstGoods.goodsNum || 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 存储完整的商品列表（用于后续创建订单）\r\n\t\t\t\tthis.orderData = {\r\n\t\t\t\t\tgoodsList: data.goodsList,\r\n\t\t\t\t\ttotalPrice: data.totalAmount,\r\n\t\t\t\t\torderType: data.orderType || 1,\r\n\t\t\t\t\tpromotionId: data.promotionId || null\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 只有在没有地址数据时才更新地址，避免覆盖用户已选择的地址\r\n\t\t\t\tif (data.memberAddress && (!this.selectedAddress || !this.selectedAddress.id)) {\r\n\r\n\t\t\t\t\tthis.selectedAddress = {\r\n\t\t\t\t\t\tid: data.memberAddress.id,\r\n\t\t\t\t\t\tname: data.memberAddress.name || data.memberAddress.consigneeName,\r\n\t\t\t\t\t\tphone: data.memberAddress.mobile || data.memberAddress.phone || data.memberAddress\r\n\t\t\t\t\t\t\t.consigneePhone,\r\n\t\t\t\t\t\tprovince: data.memberAddress.province || '',\r\n\t\t\t\t\t\tcity: data.memberAddress.city || '',\r\n\t\t\t\t\t\tdistrict: data.memberAddress.district || '',\r\n\t\t\t\t\t\tdetail: data.memberAddress.detail || data.memberAddress.consigneeAddress || '',\r\n\t\t\t\t\t\tisDefault: data.memberAddress.isDefault || false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果有地址路径，解析省市区\r\n\t\t\t\t\tif (data.memberAddress.consigneeAddressPath) {\r\n\t\t\t\t\t\tconst addressParts = data.memberAddress.consigneeAddressPath.split(',')\r\n\t\t\t\t\t\tif (addressParts.length >= 3) {\r\n\t\t\t\t\t\t\tthis.selectedAddress.province = addressParts[0]\r\n\t\t\t\t\t\t\tthis.selectedAddress.city = addressParts[1]\r\n\t\t\t\t\t\t\tthis.selectedAddress.district = addressParts[2]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 更新优惠券列表 - 处理真实的优惠券数据格式\r\n\t\t\t\tif (data.coupons && Array.isArray(data.coupons)) {\r\n\t\t\t\t\tthis.availableCoupons = data.coupons.map(coupon => ({\r\n\t\t\t\t\t\tid: coupon.id,\r\n\t\t\t\t\t\tamount: coupon.price.toString(), // 面额\r\n\t\t\t\t\t\tlabel: coupon.couponName, // 优惠券名称\r\n\t\t\t\t\t\tdateRange: this.formatCouponDateRange(coupon.endTime), // 过期时间\r\n\t\t\t\t\t\tnote: `满${coupon.useAmount}可用`, // 使用条件\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t\t// 保存原始数据用于后续处理\r\n\t\t\t\t\t\toriginalData: coupon\r\n\t\t\t\t\t}))\r\n\t\t\t\t} else if (data.availableCoupons) {\r\n\t\t\t\t\t// 兼容旧格式\r\n\t\t\t\t\tthis.availableCoupons = data.availableCoupons\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 更新运费\r\n\t\t\t\tthis.shippingFee = data.shippingFee || 0\r\n\r\n\t\t\t\t// 更新折扣金额\r\n\t\t\t\tthis.discountAmount = data.discountAmount || 0\r\n\r\n\t\t\t\t// 更新总金额\r\n\t\t\t\tthis.totalAmount = data.totalAmount || 0\r\n\r\n\t\t\t\t// 更新已选优惠券\r\n\t\t\t\tif (data.selectedCoupons) {\r\n\t\t\t\t\tthis.selectedCoupons = data.selectedCoupons\r\n\t\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 数据加载完成，隐藏骨架屏\r\n\t\t\t\tthis.loading = false\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 格式化规格显示\r\n\t\t\tformatSpecs(specs) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst specsArray = JSON.parse(specs)\r\n\t\t\t\t\treturn specsArray.join(' / ')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treturn specs\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化优惠券日期范围\r\n\t\t\tformatCouponDateRange(endTime) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!endTime) return '有效期未知'\r\n\r\n\t\t\t\t\tconst endDate = new Date(endTime)\r\n\t\t\t\t\tconst now = new Date()\r\n\r\n\t\t\t\t\t// 格式化结束时间\r\n\t\t\t\t\tconst endDateStr = endDate.toLocaleDateString('zh-CN', {\r\n\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\t\tday: '2-digit'\r\n\t\t\t\t\t}).replace(/\\//g, '.')\r\n\r\n\t\t\t\t\t// 如果已过期，显示过期\r\n\t\t\t\t\tif (endDate < now) {\r\n\t\t\t\t\t\treturn `已过期 (${endDateStr})`\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 计算剩余天数\r\n\t\t\t\t\tconst diffTime = endDate - now\r\n\t\t\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n\r\n\t\t\t\t\tif (diffDays <= 7) {\r\n\t\t\t\t\t\treturn `即将过期 (${endDateStr})`\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn `有效期至 ${endDateStr}`\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('格式化优惠券日期失败:', error)\r\n\t\t\t\t\treturn '有效期未知'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tselectAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，标记为从订单页面进入\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list?from=order'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\taddAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，用于添加新地址\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list?from=order'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 更新地址信息\r\n\t\t\tupdateAddress(address) {\r\n\t\t\t\tconsole.log('地址更新:', address);\r\n\t\t\t\t// 确保使用 mobile 字段作为电话\r\n\t\t\t\tconst updatedAddress = {\r\n\t\t\t\t\t...address,\r\n\t\t\t\t\tphone: address.mobile || address.phone\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedAddress = updatedAddress\r\n\t\t\t\t// 将地址数据存储到全局，确保页面切换时数据不丢失\r\n\t\t\t\tglobalData.selectedAddress = updatedAddress\r\n\t\t\t\t// 地址更新后不自动调用预览接口，保持用户修改的地址\r\n\t\t\t},\r\n\t\t\tshowCouponModal() {\r\n\t\t\t\tthis.showCoupon = true\r\n\t\t\t},\r\n\t\t\tcloseCouponModal() {\r\n\t\t\t\tthis.showCoupon = false\r\n\t\t\t},\r\n\t\t\ttoggleCoupon(index) {\r\n\t\t\t\tthis.availableCoupons[index].selected = !this.availableCoupons[index].selected\r\n\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t},\r\n\t\t\tupdateSelectedCoupons() {\r\n\t\t\t\tthis.selectedCoupons = this.availableCoupons.filter(coupon => coupon.selected)\r\n\t\t\t},\r\n\t\t\tconfirmCouponSelection() {\r\n\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t\tthis.closeCouponModal()\r\n\t\t\t\t// 优惠券选择后不自动调用预览接口，保持用户选择\r\n\t\t\t},\r\n\t\t\tshowPaymentModal() {\r\n\t\t\t\tthis.showPayment = true\r\n\t\t\t},\r\n\t\t\tclosePaymentModal() {\r\n\t\t\t\tthis.showPayment = false\r\n\t\t\t},\r\n\t\t\tselectPayment(index) {\r\n\t\t\t\t// 重置所有支付方式的选择状态\r\n\t\t\t\tthis.paymentMethods.forEach((payment, i) => {\r\n\t\t\t\t\tpayment.selected = i === index\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmPaymentSelection() {\r\n\t\t\t\t// 更新选中的支付方式\r\n\t\t\t\tconst selectedPayment = this.paymentMethods.find(payment => payment.selected)\r\n\t\t\t\tif (selectedPayment) {\r\n\t\t\t\t\tthis.selectedPayment = selectedPayment\r\n\t\t\t\t}\r\n\t\t\t\tthis.closePaymentModal()\r\n\t\t\t},\r\n\t\t\tconfirmOrder() {\r\n\t\t\t\t// 验证地址\r\n\t\t\t\tif (!this.selectedAddress || !this.selectedAddress.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择收货地址',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证支付方式\r\n\t\t\t\tif (!this.selectedPayment) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证订单数据\r\n\t\t\t\tif (!this.orderData || !this.orderData.goodsList || this.orderData.goodsList.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单数据无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证商品数据\r\n\t\t\t\tfor (let goods of this.orderData.goodsList) {\r\n\t\t\t\t\tif (!goods.skuId || !goods.goodsNum || goods.goodsNum <= 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '商品数据无效',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证总价\r\n\t\t\t\tif (parseFloat(this.totalPrice) <= 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单金额无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证地址ID\r\n\t\t\t\tif (!this.selectedAddress.id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '收货地址无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证支付方式\r\n\t\t\t\tif (!this.selectedPayment || !this.selectedPayment.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交订单...'\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 创建订单\r\n\t\t\t\tthis.createOrder()\r\n\t\t\t},\r\n\r\n\t\t\t// 创建订单\r\n\t\t\tasync createOrder() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 构建订单数据\r\n\t\t\t\t\tconst orderData = {\r\n\t\t\t\t\t\tgoodsList: this.orderData.goodsList,\r\n\t\t\t\t\t\tdeliveryType: '1', // 1.快递 2.自提\r\n\t\t\t\t\t\tmemberAddressId: this.selectedAddress.id, // 收货地址ID\r\n\t\t\t\t\t\tisCart: false, // 不是购物车下单\r\n\t\t\t\t\t\tflowPrice: parseFloat(this.totalPrice), // 订单总计金额\r\n\t\t\t\t\t\torderType: this.orderData.orderType || 1, // 1.普通订单\r\n\t\t\t\t\t\tmemberRemark: '', // 买家备注\r\n\t\t\t\t\t\tmemberCouponId: this.selectedCoupons.length > 0 ? this.selectedCoupons[0].id :\r\n\t\t\t\t\t\tnull, // 优惠券ID\r\n\t\t\t\t\t\tpromotionId: this.orderData.promotionId || null // 促销活动ID\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 调用创建订单接口\r\n\t\t\t\t\tconst res = await fetchOrderCreate(orderData)\r\n\r\n\t\t\t\t\tconsole.log('createOrder - API response:', res);\r\n\t\t\t\t\tconsole.log('createOrder - res.data:', res.data);\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t// 创建订单成功，开始支付\r\n\t\t\t\t\t\t// 确保orderId存在\r\n\t\t\t\t\t\tif (!res.data) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '订单创建成功但订单ID为空',\r\n\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.processPayment(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '订单创建失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 订单创建失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('创建订单失败:', error)\r\n\t\t\t\t\tuni.hideLoading()\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '网络错误，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 网络错误，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 处理支付\r\n\t\t\tasync processPayment(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 验证订单信息\r\n\t\t\t\t\tif (!orderInfo) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单信息无效',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconsole.log('processPayment - orderInfo:', orderInfo);\r\n\r\n\t\t\t\t\t// 根据支付方式处理\r\n\t\t\t\t\tswitch (this.selectedPayment.name) {\r\n\t\t\t\t\t\tcase '微信支付':\r\n\t\t\t\t\t\t\tawait this.handleWechatPay(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase '对公转账':\r\n\t\t\t\t\t\t\tawait this.handleBankTransfer(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t// 其他支付方式\r\n\t\t\t\t\t\t\tawait this.handleOtherPayment(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('支付处理失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 支付失败，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 微信支付\r\n\t\t\tasync handleWechatPay(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleWechatPay - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleWechatPay - orderId:', orderInfo.orderId);\r\n\r\n\t\t\t\t\t// 调用支付接口\r\n\t\t\t\t\tconst res = await fetchOrderPay({\r\n\t\t\t\t\t\tpaymentMethod: '1', // 1.微信支付\r\n\t\t\t\t\t\torderId: orderInfo\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// 调用微信支付\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: \"wxpay\",\r\n\t\t\t\t\t\t\tappId: res.data.payPackage.appId,\r\n\t\t\t\t\t\t\ttimeStamp: res.data.payPackage.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: res.data.payPackage.nonceStr,\r\n\t\t\t\t\t\t\tpackage: res.data.payPackage.package,\r\n\t\t\t\t\t\t\tsignType: res.data.payPackage.signType,\r\n\t\t\t\t\t\t\tpaySign: res.data.payPackage.paySign,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log('微信支付成功:', res)\r\n\t\t\t\t\t\t\t\tthis.paymentSuccess(orderInfo)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.error('微信支付失败:', err)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 微信支付失败，返回详情页\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '支付失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 微信支付失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('微信支付失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 微信支付异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 对公转账\r\n\t\t\tasync handleBankTransfer(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleBankTransfer - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleBankTransfer - orderId:', orderInfo.orderId);\r\n\r\n\t\t\t\t\t// 调用支付接口 - 使用余额支付\r\n\t\t\t\t\tconst res = await fetchOrderPay({\r\n\t\t\t\t\t\tpaymentMethod: '2', // 2.余额支付\r\n\t\t\t\t\t\torderId: orderInfo.orderId\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 支付成功处理\r\n\t\t\t\t\t\tthis.paymentSuccess(orderInfo)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '支付失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 余额支付失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('余额支付失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 余额支付异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 其他支付方式（园区卡支付等）\r\n\t\t\tasync handleOtherPayment(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleOtherPayment - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleOtherPayment - orderId:', orderInfo);\r\n\r\n\t\t\t\t\t// 调用支付接口 - 使用园区卡支付\r\n\t\t\t\t\tconst res = await fetchOrderPay({\r\n\t\t\t\t\t\tpaymentMethod: '3', // 3.园区卡支付\r\n\t\t\t\t\t\torderId: orderInfo\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 支付成功处理\r\n\t\t\t\t\t\tthis.paymentSuccess(orderInfo)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '支付失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 园区卡支付失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('园区卡支付失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 园区卡支付异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 支付成功处理\r\n\t\t\tpaymentSuccess(orderInfo) {\r\n\t\t\t\tconsole.log('orderInfo', orderInfo);\r\n\t\t\t\t// 设置支付金额并显示支付成功弹窗\r\n\t\t\t\tthis.paymentAmount = orderInfo.totalAmount || this.totalPrice\r\n\t\t\t\tthis.showPaymentSuccess = true\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理遮罩点击\r\n\t\t\thandleOverlayClick() {\r\n\t\t\t\t// 支付成功弹窗不允许点击遮罩关闭，用户必须选择一个选项\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理支付成功弹窗关闭（继续购物）\r\n\t\t\thandlePaymentSuccessClose() {\r\n\t\t\t\tthis.showPaymentSuccess = false\r\n\t\t\t\t// 清除全局数据\r\n\t\t\t\tglobalData.orderData = null\r\n\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t// 返回首页\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t\r\n\t\t\t// 处理支付成功弹窗确认（查看订单）\r\n\t\t\thandlePaymentSuccessConfirm() {\r\n\t\t\t\tthis.showPaymentSuccess = false\r\n\t\t\t\t// 清除全局数据\r\n\t\t\t\tglobalData.orderData = null\r\n\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t// 跳转到订单列表页面\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/subpackages/order/list/list'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取选中的SKU ID（从全局数据中获取）\r\n\t\t\tgetSelectedSkuId() {\r\n\t\t\t\tif (this.orderData && this.orderData.goodsList && this.orderData.goodsList.length > 0) {\r\n\t\t\t\t\treturn this.orderData.goodsList[0].skuId\r\n\t\t\t\t}\r\n\t\t\t\t// 如果没有数据，返回默认值\r\n\t\t\t\treturn 1\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.order-detail-container {\r\n\t\tbackground: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 120rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t/* Skeleton Styles */\r\n\t.skeleton-container {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.skeleton-address {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.skeleton-address-info {\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.skeleton-address-user {\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t\t.skeleton-name {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.skeleton-phone {\r\n\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-address-detail {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-arrow {\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 24rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-product {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-product-card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-product-img {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-product-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.skeleton-product-name {\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-product-desc {\r\n\t\t\t\t\twidth: 60%;\r\n\t\t\t\t\theight: 26rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-product-bottom {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.skeleton-product-price {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.skeleton-product-quantity {\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-price {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-price-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 16rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-price-label {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-price-value {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-payment {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-payment-title {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 32rpx;\r\n\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\tbackground-size: 200% 100%;\r\n\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.skeleton-payment-method {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.skeleton-payment-icon {\r\n\t\t\t\twidth: 48rpx;\r\n\t\t\t\theight: 48rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-payment-name {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-payment-arrow {\r\n\t\t\t\twidth: 20rpx;\r\n\t\t\t\theight: 20rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes skeleton-loading {\r\n\t\t0% {\r\n\t\t\tbackground-position: 200% 0;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tbackground-position: -200% 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 防止弹窗出现时背景滚动 */\r\n\t.order-detail-container.popup-open {\r\n\t\toverflow: hidden;\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/* Header */\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t.header-left,\r\n\t\t.header-right {\r\n\t\t\twidth: 60rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.header-title {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Address Section */\r\n\t.address-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.address-info {\r\n\t\t\tflex: 1;\r\n\r\n\t\t\t.address-user {\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\r\n\t\t\t\t.user-name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.user-phone {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.address-detail {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tline-height: 1.4;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.address-arrow {\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* No Address Section */\r\n\t.no-address-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tborder: 2rpx dashed #e0e0e0;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&:active {\r\n\t\t\tborder-color: #89D600;\r\n\t\t\tbackground: rgba(137, 214, 0, 0.05);\r\n\t\t}\r\n\r\n\t\t.no-address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.no-address-icon {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground: #f5f5f5;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.no-address-info {\r\n\t\t\tflex: 1;\r\n\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t.no-address-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.no-address-desc {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tline-height: 1.4;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.no-address-arrow {\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Product Section */\r\n\t.product-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.product-card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.product-img {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t}\r\n\r\n\t\t\t.product-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.product-name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-desc {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-bottom {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.product-price {\r\n\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-quantity {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Price Section */\r\n\t.price-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.price-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 16rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.price-label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.price-value {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t&.coupon-item {\r\n\t\t\t\t.coupon-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 8rpx;\r\n\r\n\t\t\t\t\t.coupon-text {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #4CAF50;\r\n\r\n\t\t\t\t\t\t&.discount-highlight {\r\n\t\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.total-item {\r\n\t\t\t\t.total-price {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Payment Section */\r\n\t.payment-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.section-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.payment-method {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.payment-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t.payment-icon {\r\n\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.payment-name {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.payment-arrow {\r\n\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Bottom Bar */\r\n\t.bottom-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.total-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 8rpx;\r\n\r\n\t\t\t.total-label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.total-amount {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #e54d42;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.buy-button {\r\n\t\t\tbackground: #89D600;\r\n\t\t\tcolor: #fff;\r\n\t\t\tpadding: 20rpx 40rpx;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Coupon Modal */\r\n\t.coupon-modal {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.modal-header {\r\n\t\t\tpadding: 32rpx 24rpx 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.modal-title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.modal-subtitle {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #666;\r\n\r\n\t\t\t\t.discount-amount {\r\n\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.modal-close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 32rpx;\r\n\t\t\t\tright: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-list {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\toverflow-y: auto;\r\n\r\n\t\t\t.coupon-item {\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t.coupon-content {\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: stretch;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\ttransition: all 0.3s ease;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tborder: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t\t\t.coupon-left {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tpadding: 24rpx 0;\r\n\r\n\t\t\t\t\t\t.coupon-amount {\r\n\t\t\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.coupon-center {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tpadding: 24rpx;\r\n\t\t\t\t\t\tbackground: #fff;\r\n\r\n\t\t\t\t\t\t.coupon-label {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.coupon-date {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.coupon-note {\r\n\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.coupon-right {\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tpadding: 24rpx 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.modal-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.confirm-button {\r\n\t\t\t\tbackground: #89D600;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 24rpx;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Payment Modal */\r\n\t.payment-modal {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.modal-header {\r\n\t\t\tpadding: 32rpx 24rpx 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.modal-title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.modal-close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 32rpx;\r\n\t\t\t\tright: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.payment-list {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t.payment-item {\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t.payment-content {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tpadding: 24rpx;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tborder: 1rpx solid #f0f0f0;\r\n\t\t\t\t\ttransition: all 0.3s ease;\r\n\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tborder-color: #89D600;\r\n\t\t\t\t\t\tbackground: rgba(137, 214, 0, 0.05);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.payment-left {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tgap: 16rpx;\r\n\t\t\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t\t\t.payment-icon {\r\n\t\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.payment-info {\r\n\t\t\t\t\t\t\t.payment-name {\r\n\t\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.payment-desc {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.payment-right {\r\n\t\t\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.modal-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.confirm-button {\r\n\t\t\t\tbackground: #89D600;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 24rpx;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 支付成功弹窗样式 */\r\n\t.payment-success-modal-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 9999;\r\n\t\topacity: 0;\r\n\t\tvisibility: hidden;\r\n\t\ttransition: all 0.3s ease;\r\n\t\t\r\n\t\t&.show {\r\n\t\t\topacity: 1;\r\n\t\t\tvisibility: visible;\r\n\t\t\t\r\n\t\t\t.payment-success-modal {\r\n\t\t\t\ttransform: scale(1) translateY(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.payment-success-modal {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 60rpx 48rpx 48rpx;\r\n\t\tmargin: 0 48rpx;\r\n\t\tmax-width: 600rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\ttransform: scale(0.8) translateY(-40rpx);\r\n\t\ttransition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n\t\tbox-shadow: 0 24rpx 80rpx rgba(0, 0, 0, 0.12);\r\n\t}\r\n\r\n\t/* 成功图标 */\r\n\t.success-icon {\r\n\t\tmargin-bottom: 32rpx;\r\n\t\t\r\n\t\t.success-circle {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tanimation: success-bounce 0.6s ease;\r\n\t\t\t\r\n\t\t\t.success-check {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 40rpx;\r\n\t\t\t\t\r\n\t\t\t\t.check-line {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.check-line1 {\r\n\t\t\t\t\t\twidth: 4rpx;\r\n\t\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\t\tleft: 14rpx;\r\n\t\t\t\t\t\ttop: 20rpx;\r\n\t\t\t\t\t\ttransform: rotate(45deg);\r\n\t\t\t\t\t\tanimation: check-line1 0.4s ease 0.2s both;\r\n\t\t\t\t\t}\r\n\t\t\t\t\t\r\n\t\t\t\t\t&.check-line2 {\r\n\t\t\t\t\t\twidth: 4rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\tleft: 22rpx;\r\n\t\t\t\t\t\ttop: 8rpx;\r\n\t\t\t\t\t\ttransform: rotate(-45deg);\r\n\t\t\t\t\t\tanimation: check-line2 0.4s ease 0.4s both;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 标题 */\r\n\t.modal-title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.3s both;\r\n\t}\r\n\r\n\t/* 金额信息 */\r\n\t.amount-info {\r\n\t\tmargin-bottom: 32rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.4s both;\r\n\t\t\r\n\t\t.amount-label {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.amount-value {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 56rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #89D600;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 感谢信息 */\r\n\t.thank-message {\r\n\t\tmargin-bottom: 48rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.5s both;\r\n\t\t\r\n\t\t.thank-text {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\t\t\r\n\t\t.delivery-text {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 按钮组 */\r\n\t.button-group {\r\n\t\tdisplay: flex;\r\n\t\tgap: 24rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.6s both;\r\n\t\t\r\n\t\t.button {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 88rpx;\r\n\t\t\tborder-radius: 44rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\ttransition: all 0.3s ease;\r\n\t\t\tcursor: pointer;\r\n\t\t\t\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.95);\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.secondary-button {\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tborder: 2rpx solid #e0e0e0;\r\n\t\t\t\t\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\tbackground: #ebebeb;\r\n\t\t\t\t\tborder-color: #d0d0d0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\t&.primary-button {\r\n\t\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(137, 214, 0, 0.3);\r\n\t\t\t\t\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\tbox-shadow: 0 12rpx 32rpx rgba(137, 214, 0, 0.4);\r\n\t\t\t\t\ttransform: translateY(-2rpx);\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t&:active {\r\n\t\t\t\t\ttransform: scale(0.95) translateY(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 动画定义 */\r\n\t@keyframes success-bounce {\r\n\t\t0% {\r\n\t\t\ttransform: scale(0);\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\t\t50% {\r\n\t\t\ttransform: scale(1.1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes check-line1 {\r\n\t\t0% {\r\n\t\t\theight: 0;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\theight: 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes check-line2 {\r\n\t\t0% {\r\n\t\t\theight: 0;\r\n\t\t}\r\n\t\t100% {\r\n\t\t\theight: 32rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes fade-in-up {\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t\ttransform: translateY(40rpx);\r\n\t\t}\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757855126784\n      var cssReload = require(\"C:/Users/zhao/Downloads/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
=======
{"version":3,"sources":["uni-app:///main.js","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?d333","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?0775","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?d05d","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?b317","uni-app:///subpackages/order/detail/detail.vue","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?b724","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/subpackages/order/detail/detail.vue?7f9e"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page","name","components","BaseContainer","IconComVue","data","showCoupon","showPayment","showPaymentSuccess","paymentAmount","orderData","loading","selectedAddress","shippingFee","discountAmount","totalAmount","productInfo","productList","availableCoupons","selectedCoupons","deliveryType","memberRemark","paymentMethods","desc","icon","selected","selectedPayment","remarkInputStyle","backgroundColor","borderRadius","padding","computed","goodsTotalPrice","couponDiscount","totalPrice","couponText","couponTextClass","totalDiscount","selectedDiscount","onLoad","console","onShow","globalData","setTimeout","onUnload","methods","getOrderPreview","requestData","goodsList","orderType","promotionId","uni","title","url","res","updateOrderPreview","image","description","price","quantity","unitPrice","id","phone","consigneePhone","province","city","district","detail","isDefault","amount","label","dateRange","note","originalData","formatSpecs","formatCouponDateRange","year","month","day","selectAddress","addAddress","updateAddress","address","showCouponModal","closeCouponModal","toggleCoupon","updateSelectedCoupons","confirmCouponSelection","showPaymentModal","closePaymentModal","selectPayment","payment","confirmPaymentSelection","confirmOrder","createOrder","memberAddressId","isCart","flowPrice","memberCouponId","errorMessage","processPayment","orderInfo","handleWechatPay","paymentMethod","orderId","provider","appId","timeStamp","nonceStr","package","signType","paySign","success","fail","handleBankTransfer","duration","getApp","handleOtherPayment","paymentSuccess","handleOverlayClick","handlePaymentSuccessClose","handlePaymentSuccessConfirm","getSelectedSkuId","handleBankTransferOrder","jumpToCustomerService","showCustomerServiceFallback","content","showCancel","confirmText"],"mappings":";;;;;;;;;;;;;AAAA;AAGA;AACA;AAHA;AACAA,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,eAAI,CAAC,C;;;;;;;;;;;;;ACLhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+H;AAC/H;AAC0D;AACL;AACsC;;;AAG3F;AAC2K;AAC3K,gBAAgB,qLAAU;AAC1B,EAAE,4EAAM;AACR,EAAE,6FAAM;AACR,EAAE,sGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,iGAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,aAAa,yTAEN;AACP,KAAK;AACL;AACA,aAAa,uSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACxDA;AAAA;AAAA;AAAA;AAA8nB,CAAgB,wpBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACuTlpB;AAEA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAC;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;QACArB;QACAsB;QACAC;QACAC;MACA,GACA;QACAxB;QACAsB;QACAC;QACAC;MACA,EACA;MACAC;QACAzB;QACAsB;QACAC;MACA;MACA;MACAG;QACAC;QACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA;MACA;QACA;UACA;UACA;UACA;QACA;MACA;MACA;MACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MAEA;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;MACA;QACA;QACA;MACA;QACAC;MACA;IACA;EACA;EACAC;IAAA;IACAD;IACAA;;IAEA;IACA;MACA;MACAE;IACA;;IAEA;IACA;MACA;MACAA;;MAEA;MACAC;QACA;MACA;IACA;MACA;MACAA;QACA;MACA;IACA;MACA;MACAH;MACA;IACA;EACA;EACAI;IACA;IACAF;EACA;EACAG;IACA;IACAC;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACAC;kBACAC;kBACAC;kBAAA;kBACAC;gBACA,GAEA;;gBACAV;gBACAA;gBAAA,KACAE;kBAAA;kBAAA;gBAAA;gBACAK;kBACAC;kBACAC;kBACAC;gBACA;gBACAR;gBAAA;gBAAA;cAAA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBACA;gBACAK;kBACAC;kBACAC;kBACAC;gBACA;gBAAA;gBAAA;cAAA;gBAEA;gBACA;gBACAC;kBACAC;kBACA5B;gBACA;gBACAmB;kBACAQ;oBACAE;kBACA;gBACA;gBAAA;cAAA;gBAAA;gBAAA,OAKA;cAAA;gBAAAC;gBAEA;kBACA;kBACA;gBACA;kBACA;kBACA;kBACAH;oBACAC;oBACA5B;kBACA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAgB;gBACA;gBACA;gBACAW;kBACAC;kBACA5B;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA+B;MAAA;MACA;MACA;QACA;QACA;UAAA;YACAC;YACAvD;YACAwD;YACAC;YACAC;YACAC;UACA;QAAA;;QAEA;QACA;QACA;UACAJ;UACAvD;UACAwD;UACAC;UACAC;QACA;MACA;;MAEA;MACA;QACAX;QACAd;QACAe;QACAC;MACA;;MAEA;MACA;QAEA;UACAW;UACA5D;UACA6D,mFACAC;UACAC;UACAC;UACAC;UACAC;UACAC;QACA;;QAEA;QACA;UACA;UACA;YACA;YACA;YACA;UACA;QACA;MACA;;MAEA;MACA;QACA;UAAA;YACAP;YACAQ;YAAA;YACAC;YAAA;YACAC;YAAA;YACAC;YAAA;YACA/C;YACA;YACAgD;UACA;QAAA;MACA;QACA;QACA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;;MAEA;MACA;QACA;QACA;MACA;;MAEA;MACA;IACA;IAGA;IACAC;MACA;QACA;QACA;MACA;QACA;MACA;IACA;IAEA;IACAC;MACA;QACA;QAEA;QACA;;QAEA;QACA;UACAC;UACAC;UACAC;QACA;;QAEA;QACA;UACA;QACA;;QAEA;QACA;QACA;QAEA;UACA;QACA;UACA;QACA;MACA;QACAtC;QACA;MACA;IACA;IAEAuC;MACA;MACA5B;QACAE;MACA;IACA;IAEA2B;MACA;MACA7B;QACAE;MACA;IACA;IAEA;IACA4B;MACAzC;MACA;MACA,qDACA0C;QACApB;MAAA,EACA;MACA;MACA;MACApB;MACA;IACA;IACAyC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;QAAA;MAAA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACA;QACAC;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QACA1C;UACAC;UACA5B;QACA;QACA;MACA;;MAEA;MACA;QACA2B;UACAC;UACA5B;QACA;QACA;MACA;;MAEA;MACA;QACA2B;UACAC;UACA5B;QACA;QACA;MACA;;MAEA;MAAA,2CACA;QAAA;MAAA;QAAA;UAAA;UACA;YACA2B;cACAC;cACA5B;YACA;YACA;UACA;QACA;;QAEA;MAAA;QAAA;MAAA;QAAA;MAAA;MACA;QACA2B;UACAC;UACA5B;QACA;QACA;MACA;;MAEA;MACA;QACA2B;UACAC;UACA5B;QACA;QACA;MACA;;MAEA;MACA;QACA2B;UACAC;UACA5B;QACA;QACA;MACA;MAEA2B;QACAC;MACA;;MAEA;MACA;IACA;IAEA;IACA0C;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA;gBACApF;kBACAsC;kBACA5B;kBAAA;kBACA2E;kBAAA;kBACAC;kBAAA;kBACAC;kBAAA;kBACAhD;kBAAA;kBACA5B;kBAAA;kBACA6E,mFACA;kBAAA;kBACAhD;gBACA,GAEA;;gBACA;kBACAxC;gBACA;;gBAEA;gBAAA;gBAAA,OACA;cAAA;gBAAA4C;gBAEAd;gBACAA;gBAAA,MAEAc;kBAAA;kBAAA;gBAAA;gBACAH;gBACA;gBACA;gBAAA,IACAG;kBAAA;kBAAA;gBAAA;gBACAH;kBACAC;kBACA5B;gBACA;gBAAA;cAAA;gBAIA;gBAAA;gBAAA;cAAA;gBAEA2B;gBACAA;kBACAC;kBACA5B;gBACA;gBACA;gBACAmB;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAGAF;gBACAW;;gBAEA;gBACAgD;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAhD;kBACAC;kBACA5B;gBACA;;gBAEA;gBACAmB;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA0D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA,IAGAC;kBAAA;kBAAA;gBAAA;gBACAlD;kBACAC;kBACA5B;gBACA;gBAAA;cAAA;gBAIAgB;;gBAEA;gBAAA,eACA;gBAAA,kCACA,8BAGA;gBAAA;cAAA;gBAAA;gBAAA,OAFA;cAAA;gBAAA;cAAA;gBAAA;gBAAA,OAGA;cAAA;gBAAA;cAAA;gBAAA;gBAAA,OAIA;cAAA;gBAAA;cAAA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAIAA;;gBAEA;gBACA2D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAhD;kBACAC;kBACA5B;gBACA;;gBAEA;gBACAmB;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA4D;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA9D;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;kBACA+D;kBAAA;kBACAC;gBACA;cAAA;gBAHAlD;gBAIA;kBACA;kBACAH;oBACAsD;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;oBACAC;sBACAxE;sBACA;oBACA;oBACAyE;sBACAzE;sBACAW;wBACAC;wBACA5B;sBACA;sBACA;sBACAmB;wBACAQ;sBACA;;sBAEA;sBACAT;sBACAA;oBACA;kBACA;gBACA;kBACAS;oBACAC;oBACA5B;kBACA;kBACA;kBACAmB;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;;gBAEA;gBACA2D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAhD;kBACAC;kBACA5B;gBACA;;gBAEA;gBACAmB;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACAwE;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACA;kBACA1E;kBACAA;;kBAEA;kBACAW;oBACAC;oBACA5B;oBACA2F;kBACA;;kBAEA;kBACAzE;kBACAA;;kBAEA;kBACA;oBACA0E;kBACA;;kBAEA;kBACAzE;oBACAQ;sBACAE;oBACA;kBACA;gBACA;kBACAb;;kBAEA;kBACA2D;kBACA;oBACAA;kBACA;oBACAA;kBACA;kBAEAhD;oBACAC;oBACA5B;kBACA;;kBAEA;kBACAmB;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IACA;IAEA;IACA2E;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAEA7E;gBACAA;;gBAEA;gBAAA;gBAAA,OACA;kBACA+D;kBAAA;kBACAC;gBACA;cAAA;gBAHAlD;gBAKA;kBACAH;oBACAC;oBACA5B;kBACA;;kBAEA;kBACA;gBACA;kBACA2B;oBACAC;oBACA5B;kBACA;kBACA;kBACAmB;oBACAQ;kBACA;;kBAEA;kBACAT;kBACAA;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAF;;gBAEA;gBACA2D;gBACA;kBACAA;gBACA;kBACAA;gBACA;gBAEAhD;kBACAC;kBACA5B;gBACA;;gBAEA;gBACAmB;kBACAQ;gBACA;;gBAEA;gBACAT;gBACAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IAEA;IACA4E;MACA9E;MACA;MACA;MACA;IACA;IAEA;IACA+E;MACA;IAAA,CACA;IAEA;IACAC;MACA;MACA;MACA9E;MACAA;MACA;MACAS;QACAE;MACA;IACA;IAEA;IACAoE;MACA;MACA;MACA/E;MACAA;MACA;MACAS;QACAE;MACA;IACA;IAEA;IACAqE;MACA;QACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IAEA;IACAC;MACApF;IACA;IAEA;IACAqF;MACA1E;QACAC;QACA0E;QACAC;QACAC;QACAhB;UACA;UACAtE;UACAA;QACA;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/sCA;AAAA;AAAA;AAAA;AAAytC,CAAgB,+rCAAG,EAAC,C;;;;;;;;;;;ACA7uC;AACA,OAAO,KAAU,EAAE,kBAKd","file":"subpackages/order/detail/detail.js","sourcesContent":["import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './subpackages/order/detail/detail.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./detail.vue?vue&type=template&id=08f7b1ce&scoped=true&\"\nvar renderjs\nimport script from \"./detail.vue?vue&type=script&lang=js&\"\nexport * from \"./detail.vue?vue&type=script&lang=js&\"\nimport style0 from \"./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"08f7b1ce\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"subpackages/order/detail/detail.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=template&id=08f7b1ce&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n    uTextarea: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-textarea/u-textarea\" */ \"@/uni_modules/uview-ui/components/u-textarea/u-textarea.vue\"\n      )\n    },\n    uPopup: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-popup/u-popup\" */ \"@/uni_modules/uview-ui/components/u-popup/u-popup.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var g0 = !_vm.loading ? _vm.productList && _vm.productList.length > 0 : null\n  var g1 = !_vm.loading ? _vm.goodsTotalPrice.toFixed(2) : null\n  var g2 = _vm.availableCoupons.length\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        g0: g0,\n        g1: g1,\n        g2: g2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view>\r\n\t\t<view class=\"order-detail-container\" :class=\"{ 'popup-open': showCoupon || showPayment }\">\r\n\t\t\t<!-- Loading Skeleton -->\r\n\t\t\t<view v-if=\"loading\" class=\"skeleton-container\">\r\n\t\t\t\t<!-- Address Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-address\">\r\n\t\t\t\t\t<view class=\"skeleton-address-content\">\r\n\t\t\t\t\t\t<view class=\"skeleton-address-info\">\r\n\t\t\t\t\t\t\t<view class=\"skeleton-address-user\">\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-name\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-phone\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-address-detail\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"skeleton-arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Product Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-product\">\r\n\t\t\t\t\t<view class=\"skeleton-product-card\" v-for=\"i in 2\" :key=\"i\">\r\n\t\t\t\t\t\t<view class=\"skeleton-product-img\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-product-info\">\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-name\"></view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-desc\"></view>\r\n\t\t\t\t\t\t\t<view class=\"skeleton-product-bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-product-price\"></view>\r\n\t\t\t\t\t\t\t\t<view class=\"skeleton-product-quantity\"></view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Price Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-price\">\r\n\t\t\t\t\t<view class=\"skeleton-price-item\" v-for=\"i in 4\" :key=\"i\">\r\n\t\t\t\t\t\t<view class=\"skeleton-price-label\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-price-value\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Payment Skeleton -->\r\n\t\t\t\t<view class=\"skeleton-payment\">\r\n\t\t\t\t\t<view class=\"skeleton-payment-title\"></view>\r\n\t\t\t\t\t<view class=\"skeleton-payment-method\">\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-icon\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-name\"></view>\r\n\t\t\t\t\t\t<view class=\"skeleton-payment-arrow\"></view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Content -->\r\n\t\t\t<view v-else>\r\n\t\t\t\t<!-- Address Section -->\r\n\t\t\t\t<view class=\"address-section\" @click=\"selectAddress\" v-if=\"selectedAddress\">\r\n\t\t\t\t\t<view class=\"address-content\">\r\n\t\t\t\t\t\t<view class=\"address-info\">\r\n\t\t\t\t\t\t\t<view class=\"address-user\">\r\n\t\t\t\t\t\t\t\t<text class=\"user-name\">{{ selectedAddress.name }}</text>\r\n\t\t\t\t\t\t\t\t<text class=\"user-phone\">{{ selectedAddress.phone }}</text>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"address-detail\">\r\n\t\t\t\t\t\t\t\t{{ selectedAddress.province }}{{ selectedAddress.city }}{{ selectedAddress.district }}{{ selectedAddress.detail }}\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"address-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- No Address Section -->\r\n\t\t\t\t<view class=\"no-address-section\" @click=\"addAddress\" v-else>\r\n\t\t\t\t\t<view class=\"no-address-content\">\r\n\t\t\t\t\t\t<view class=\"no-address-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"map\" color=\"#999\" size=\"40\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"no-address-info\">\r\n\t\t\t\t\t\t\t<view class=\"no-address-title\">请添加收货地址</view>\r\n\t\t\t\t\t\t\t<view class=\"no-address-desc\">选择您的收货地址以便配送</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"no-address-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"plus\" color=\"#89D600\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Product Info Section -->\r\n\t\t\t\t<view class=\"product-section\" v-if=\"productList && productList.length > 0\">\r\n\t\t\t\t\t<view class=\"product-card\" v-for=\"(product, index) in productList\" :key=\"index\">\r\n\t\t\t\t\t\t<image class=\"product-img\" :src=\"product.image\" mode=\"aspectFill\"></image>\r\n\t\t\t\t\t\t<view class=\"product-info\">\r\n\t\t\t\t\t\t\t<view class=\"product-name\">{{ product.name }}</view>\r\n\t\t\t\t\t\t\t<view class=\"product-desc\">{{ product.description }}</view>\r\n\t\t\t\t\t\t\t<view class=\"product-bottom\">\r\n\t\t\t\t\t\t\t\t<view class=\"product-price\">¥{{ product.price }}</view>\r\n\t\t\t\t\t\t\t\t<view class=\"product-quantity\">×{{ product.quantity }}</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Member Remark -->\r\n\t\t\t\t<view class=\"remark-section\">\r\n\t\t\t\t\t<view class=\"section-title\">备注</view>\r\n\t\t\t\t\t<view class=\"remark-input\">\r\n\t\t\t\t\t\t<u-textarea v-model=\"memberRemark\" placeholder=\"请输入订单备注（选填）\" :maxlength=\"100\" :height=\"48\"\r\n\t\t\t\t\t\t\t:show-count=\"true\" :border=\"none\" :custom-style=\"remarkInputStyle\">\r\n\t\t\t\t\t\t</u-textarea>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Price Breakdown -->\r\n\t\t\t\t<view class=\"price-section\">\r\n\t\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">运费</text>\r\n\t\t\t\t\t\t<text class=\"price-value\">¥{{ shippingFee }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">商品小计</text>\r\n\t\t\t\t\t\t<text class=\"price-value\">¥{{ goodsTotalPrice.toFixed(2) }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item coupon-item\" @click=\"showCouponModal\">\r\n\t\t\t\t\t\t<text class=\"price-label\">优惠券</text>\r\n\t\t\t\t\t\t<view class=\"coupon-info\">\r\n\t\t\t\t\t\t\t<text class=\"coupon-text\" :class=\"couponTextClass\">{{ couponText }}</text>\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"price-item total-item\">\r\n\t\t\t\t\t\t<text class=\"price-label\">合计</text>\r\n\t\t\t\t\t\t<text class=\"price-value total-price\">¥{{ totalPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Payment Method -->\r\n\t\t\t\t<view class=\"payment-section\" @click=\"showPaymentModal\">\r\n\t\t\t\t\t<view class=\"section-title\">支付方式</view>\r\n\t\t\t\t\t<view class=\"payment-method\">\r\n\t\t\t\t\t\t<view class=\"payment-info\">\r\n\t\t\t\t\t\t\t<u-icon class=\"payment-icon\" :name=\"selectedPayment.icon\" color=\"#07C160\"\r\n\t\t\t\t\t\t\t\tsize=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t<text class=\"payment-name\">{{ selectedPayment.name }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"payment-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Delivery Method -->\r\n\t\t\t\t<view class=\"delivery-section\">\r\n\t\t\t\t\t<view class=\"section-title\">收货方式</view>\r\n\t\t\t\t\t<view class=\"delivery-method\">\r\n\t\t\t\t\t\t<view class=\"delivery-info\">\r\n\t\t\t\t\t\t\t<u-icon class=\"delivery-icon\" name=\"car\" color=\"#89D600\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t<text class=\"delivery-name\">快递</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"delivery-tag\">\r\n\t\t\t\t\t\t\t<text class=\"tag-text\">推荐</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- Bottom Bar -->\r\n\t\t\t\t<view class=\"bottom-bar\">\r\n\t\t\t\t\t<view class=\"total-info\">\r\n\t\t\t\t\t\t<text class=\"total-label\">合计：</text>\r\n\t\t\t\t\t\t<text class=\"total-amount\">¥{{ totalPrice }}</text>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 普通支付按钮 -->\r\n\t\t\t\t\t<view v-if=\"selectedPayment.name !== '对公转账'\" class=\"buy-button\" @click=\"confirmOrder\">\r\n\t\t\t\t\t\t立即购买\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<!-- 对公转账客服按钮 -->\r\n\t\t\t\t\t<view v-else class=\"buy-button bank-transfer-button\" @click=\"handleBankTransferOrder\">\r\n\t\t\t\t\t\t联系客服\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Coupon Selection Modal -->\r\n\r\n\t\t\t<u-popup :show=\"showCoupon\" mode=\"bottom\" :round=\"20\" height=\"70%\" @close=\"closeCouponModal\"\r\n\t\t\t\t:mask-close-able=\"true\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t\t<view class=\"coupon-modal\">\r\n\t\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t\t<view class=\"modal-title\">优惠券</view>\r\n\t\t\t\t\t\t<view class=\"modal-subtitle\">\r\n\t\t\t\t\t\t\t优惠券可叠加使用，一共{{ availableCoupons.length }}张优惠券，可抵扣<span\r\n\t\t\t\t\t\t\t\tclass=\"discount-amount\">¥{{ selectedDiscount }}</span></view>\r\n\t\t\t\t\t\t<view class=\"modal-close\" @click=\"closeCouponModal\">\r\n\t\t\t\t\t\t\t<u-icon name=\"close\" color=\"#999\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"coupon-list\">\r\n\t\t\t\t\t\t<view class=\"coupon-item\" v-for=\"(coupon, index) in availableCoupons\" :key=\"index\">\r\n\t\t\t\t\t\t\t<view class=\"coupon-content\" @click=\"toggleCoupon(index)\">\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-left\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-amount\">\r\n\t\t\t\t\t\t\t\t\t\t¥{{ coupon.originalData ? coupon.originalData.price : coupon.amount }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-center\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-label\">{{ coupon.label }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-date\">{{ coupon.dateRange }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"coupon-note\">{{ coupon.note }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t\t<view class=\"coupon-right\">\r\n\t\t\t\t\t\t\t\t\t<u-icon :name=\"coupon.selected ? 'checkmark-circle-fill' : 'checkmark-circle'\"\r\n\t\t\t\t\t\t\t\t\t\t:color=\"coupon.selected ? '#89D600' : '#ddd'\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\r\n\t\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t\t<view class=\"confirm-button\" @click=\"confirmCouponSelection\">\r\n\t\t\t\t\t\t\t确定\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</u-popup>\r\n\t\t</view>\r\n\r\n\t\t<!-- Payment Method Modal -->\r\n\t\t<u-popup :show=\"showPayment\" mode=\"bottom\" :round=\"20\" height=\"50%\" @close=\"closePaymentModal\"\r\n\t\t\t:mask-close-able=\"true\" :safe-area-inset-bottom=\"true\">\r\n\t\t\t<view class=\"payment-modal\">\r\n\t\t\t\t<view class=\"modal-header\">\r\n\t\t\t\t\t<view class=\"modal-title\">支付方式</view>\r\n\t\t\t\t\t<view class=\"modal-close\" @click=\"closePaymentModal\">\r\n\t\t\t\t\t\t<u-icon name=\"close\" color=\"#999\" size=\"32\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"payment-list\">\r\n\t\t\t\t\t<view class=\"payment-item\" v-for=\"(payment, index) in paymentMethods\" :key=\"index\"\r\n\t\t\t\t\t\t@click=\"selectPayment(index)\">\r\n\t\t\t\t\t\t<view class=\"payment-content\">\r\n\t\t\t\t\t\t\t<view class=\"payment-left\">\r\n\t\t\t\t\t\t\t\t<u-icon class=\"payment-icon\" :name=\"payment.icon\"\r\n\t\t\t\t\t\t\t\t\t:color=\"payment.name === '微信支付' ? '#07C160' : '#1E88E5'\" size=\"24\"></u-icon>\r\n\t\t\t\t\t\t\t\t<view class=\"payment-info\">\r\n\t\t\t\t\t\t\t\t\t<view class=\"payment-name\">{{ payment.name }}</view>\r\n\t\t\t\t\t\t\t\t\t<view class=\"payment-desc\">{{ payment.desc }}</view>\r\n\t\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t\t<view class=\"payment-right\">\r\n\t\t\t\t\t\t\t\t<u-icon :name=\"payment.selected ? 'checkmark' : 'checkmark'\"\r\n\t\t\t\t\t\t\t\t\t:color=\"payment.selected ? '#89D600' : '#ddd'\" size=\"32\"></u-icon>\r\n\t\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<view class=\"modal-footer\">\r\n\t\t\t\t\t<view class=\"confirm-button\" @click=\"confirmPaymentSelection\">\r\n\t\t\t\t\t\t确定\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</u-popup>\r\n\t\t<IconComVue />\r\n\t\t<!-- 支付成功弹窗 -->\r\n\t\t<view class=\"payment-success-modal-overlay\" :class=\"{ 'show': showPaymentSuccess }\" @click=\"handleOverlayClick\"\r\n\t\t\tv-if=\"showPaymentSuccess\">\r\n\t\t\t<view class=\"payment-success-modal\" @click.stop>\r\n\t\t\t\t<!-- 成功图标 -->\r\n\t\t\t\t<view class=\"success-icon\">\r\n\t\t\t\t\t<view class=\"success-circle\">\r\n\t\t\t\t\t\t<view class=\"success-check\">\r\n\t\t\t\t\t\t\t<view class=\"check-line check-line1\"></view>\r\n\t\t\t\t\t\t\t<view class=\"check-line check-line2\"></view>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 标题 -->\r\n\t\t\t\t<view class=\"modal-title\">支付成功</view>\r\n\r\n\t\t\t\t<!-- 金额信息 -->\r\n\t\t\t\t<view class=\"amount-info\">\r\n\t\t\t\t\t<text class=\"amount-label\">支付金额</text>\r\n\t\t\t\t\t<text class=\"amount-value\">¥{{ paymentAmount }}</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 感谢信息 -->\r\n\t\t\t\t<view class=\"thank-message\">\r\n\t\t\t\t\t<text class=\"thank-text\">感谢您的购买！</text>\r\n\t\t\t\t\t<text class=\"delivery-text\">我们将尽快为您发货</text>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 按钮组 -->\r\n\t\t\t\t<view class=\"button-group\">\r\n\t\t\t\t\t<view class=\"button secondary-button\" @click=\"handlePaymentSuccessClose\">\r\n\t\t\t\t\t\t继续购物\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"button primary-button\" @click=\"handlePaymentSuccessConfirm\">\r\n\t\t\t\t\t\t查看订单\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport BaseContainer from '@/components/BaseWrapper.vue'\r\n\timport globalData from '@/utils/globalData.js'\r\n\timport IconComVue from '@/components/IconCom.vue'\r\n\timport {\r\n\t\tfetchOrderCreate,\r\n\t\tfetchOrderPay,\r\n\t\tfetchOrderPreview\r\n\t} from '@/api/orders'\r\n\r\n\texport default {\r\n\t\tname: 'OrderDetail',\r\n\t\tcomponents: {\r\n\t\t\tBaseContainer,\r\n\t\t\tIconComVue\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tshowCoupon: false,\r\n\t\t\t\tshowPayment: false,\r\n\t\t\t\tshowPaymentSuccess: false, // 支付成功弹窗显示状态\r\n\t\t\t\tpaymentAmount: '0.00', // 支付金额\r\n\t\t\t\torderData: null, // 存储订单数据\r\n\t\t\t\tloading: true, // 加载状态\r\n\t\t\t\tselectedAddress: null, // 选中的地址\r\n\t\t\t\tshippingFee: 0, // 运费\r\n\t\t\t\tdiscountAmount: 0, // 折扣金额\r\n\t\t\t\ttotalAmount: 0, // 总金额\r\n\t\t\t\tproductInfo: null, // 单个商品信息（兼容旧版本）\r\n\t\t\t\tproductList: [], // 多商品列表\r\n\t\t\t\tavailableCoupons: [], // 可用优惠券\r\n\t\t\t\tselectedCoupons: [],\r\n\t\t\t\tdeliveryType: '1', // 配送方式：1.快递 2.自提（固定为快递）\r\n\t\t\t\tmemberRemark: '', // 买家备注\r\n\t\t\t\tpaymentMethods: [{\r\n\t\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\t\tdesc: '推荐使用微信支付',\r\n\t\t\t\t\t\ticon: 'weixin-fill',\r\n\t\t\t\t\t\tselected: true\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tname: '对公转账',\r\n\t\t\t\t\t\tdesc: '企业用户推荐',\r\n\t\t\t\t\t\ticon: 'plus-people-fill',\r\n\t\t\t\t\t\tselected: false\r\n\t\t\t\t\t}\r\n\t\t\t\t],\r\n\t\t\t\tselectedPayment: {\r\n\t\t\t\t\tname: '微信支付',\r\n\t\t\t\t\tdesc: '推荐使用微信支付',\r\n\t\t\t\t\ticon: 'weixin-fill'\r\n\t\t\t\t},\r\n\t\t\t\t// 备注输入框样式\r\n\t\t\t\tremarkInputStyle: {\r\n\t\t\t\t\tbackgroundColor: '#f8f8f8',\r\n\t\t\t\t\tborderRadius: '12rpx',\r\n\t\t\t\t\tpadding: '20rpx'\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\t// 计算商品价格合计\r\n\t\t\tgoodsTotalPrice() {\r\n\t\t\t\tif (this.orderData && this.orderData.goodsList && this.orderData.goodsList.length > 0) {\r\n\t\t\t\t\treturn this.orderData.goodsList.reduce((sum, goods) => {\r\n\t\t\t\t\t\tconst price = parseFloat(goods.goodsPrice || 0)\r\n\t\t\t\t\t\tconst quantity = parseInt(goods.goodsNum || 1)\r\n\t\t\t\t\t\treturn sum + (price * quantity)\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t}\r\n\t\t\t\t// 如果没有订单数据，使用产品列表计算\r\n\t\t\t\tif (this.productList && this.productList.length > 0) {\r\n\t\t\t\t\treturn this.productList.reduce((sum, product) => {\r\n\t\t\t\t\t\tconst unitPrice = parseFloat(product.unitPrice || 0)\r\n\t\t\t\t\t\tconst quantity = parseInt(product.quantity || 1)\r\n\t\t\t\t\t\treturn sum + (unitPrice * quantity)\r\n\t\t\t\t\t}, 0)\r\n\t\t\t\t}\r\n\t\t\t\t// 兼容旧版本 - 使用单个商品信息\r\n\t\t\t\tif (this.productInfo) {\r\n\t\t\t\t\treturn parseFloat(this.productInfo.price || 0)\r\n\t\t\t\t}\r\n\t\t\t\treturn 0\r\n\t\t\t},\r\n\t\t\t// 计算优惠券折扣总额\r\n\t\t\tcouponDiscount() {\r\n\t\t\t\treturn this.selectedCoupons.reduce((sum, coupon) => {\r\n\t\t\t\t\t// 兼容新旧数据格式\r\n\t\t\t\t\tconst amount = coupon.originalData ? coupon.originalData.price : parseFloat(coupon.amount)\r\n\t\t\t\t\treturn sum + amount\r\n\t\t\t\t}, 0)\r\n\t\t\t},\r\n\t\t\ttotalPrice() {\r\n\t\t\t\t// 商品价格合计 + 运费 - 优惠券折扣\r\n\t\t\t\tconst goodsTotal = this.goodsTotalPrice\r\n\t\t\t\tconst shippingFee = parseFloat(this.shippingFee || 0)\r\n\t\t\t\tconst couponDiscount = this.couponDiscount\r\n\r\n\t\t\t\treturn (goodsTotal + shippingFee - couponDiscount).toFixed(2)\r\n\t\t\t},\r\n\t\t\tcouponText() {\r\n\t\t\t\tif (this.selectedCoupons.length === 0) {\r\n\t\t\t\t\treturn `${this.availableCoupons.length}张可用`\r\n\t\t\t\t} else {\r\n\t\t\t\t\treturn `- ¥${this.couponDiscount.toFixed(1)}`\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcouponTextClass() {\r\n\t\t\t\treturn this.selectedCoupons.length > 0 ? 'discount-highlight' : ''\r\n\t\t\t},\r\n\t\t\ttotalDiscount() {\r\n\t\t\t\treturn this.availableCoupons.reduce((sum, coupon) => {\r\n\t\t\t\t\t// 兼容新旧数据格式\r\n\t\t\t\t\tconst amount = coupon.originalData ? coupon.originalData.price : parseFloat(coupon.amount)\r\n\t\t\t\t\treturn sum + amount\r\n\t\t\t\t}, 0).toFixed(1)\r\n\t\t\t},\r\n\t\t\tselectedDiscount() {\r\n\t\t\t\treturn this.couponDiscount.toFixed(1)\r\n\t\t\t}\r\n\t\t},\r\n\t\tonLoad(options) {\r\n\t\t\t// 处理从外部传递过来的订单数据\r\n\t\t\tif (options.orderData) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst orderData = JSON.parse(decodeURIComponent(options.orderData))\r\n\t\t\t\t\tthis.orderData = orderData // 存储订单数据\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('解析订单数据失败:', error)\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\tconsole.log('onShow - globalData:', globalData);\r\n\t\t\tconsole.log('onShow - this.orderData:', this.orderData);\r\n\r\n\t\t\t// 检查是否有全局地址数据\r\n\t\t\tif (globalData.selectedAddress) {\r\n\t\t\t\tthis.selectedAddress = globalData.selectedAddress\r\n\t\t\t\tglobalData.selectedAddress = null // 用完即清空\r\n\t\t\t}\r\n\r\n\t\t\t// 检查是否有全局订单数据需要处理\r\n\t\t\tif (globalData.orderData && (!this.orderData || !this.orderData.goodsList)) {\r\n\t\t\t\tthis.orderData = globalData.orderData\r\n\t\t\t\tglobalData.orderData = null // 用完即清空\r\n\r\n\t\t\t\t// 有全局订单数据时，需要获取订单预览来补充完整信息\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getOrderPreview()\r\n\t\t\t\t}, 100)\r\n\t\t\t} else if (!this.orderData || !this.orderData.goodsList) {\r\n\t\t\t\t// 没有任何订单数据时，获取订单预览\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\tthis.getOrderPreview()\r\n\t\t\t\t}, 100)\r\n\t\t\t} else {\r\n\t\t\t\t// 如果已经有完整的订单数据，直接结束loading状态\r\n\t\t\t\tconsole.log('已有完整订单数据，直接结束loading')\r\n\t\t\t\tthis.loading = false\r\n\t\t\t}\r\n\t\t},\r\n\t\tonUnload() {\r\n\t\t\t// 页面卸载时清理全局数据\r\n\t\t\tglobalData.selectedAddress = null\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 获取订单预览数据\r\n\t\t\tasync getOrderPreview() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 构建请求参数\r\n\t\t\t\t\tlet requestData = {\r\n\t\t\t\t\t\tgoodsList: [],\r\n\t\t\t\t\t\torderType: 1, // 默认普通订单\r\n\t\t\t\t\t\tpromotionId: null // 默认无促销活动\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果有全局订单数据，使用它\r\n\t\t\t\t\tconsole.log('getOrderPreview - globalData.orderData:', globalData.orderData);\r\n\t\t\t\t\tconsole.log('getOrderPreview - this.orderData:', this.orderData);\r\n\t\t\t\t\tif (globalData.orderData) {\r\n\t\t\t\t\t\trequestData = {\r\n\t\t\t\t\t\t\tgoodsList: globalData.orderData.goodsList || [],\r\n\t\t\t\t\t\t\torderType: globalData.orderData.orderType || 1,\r\n\t\t\t\t\t\t\tpromotionId: globalData.orderData.promotionId || null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tglobalData.orderData = null // 用完即清空\r\n\t\t\t\t\t} else if (this.orderData && this.orderData.goodsList) {\r\n\t\t\t\t\t\t// 如果有本地订单数据，使用它\r\n\t\t\t\t\t\trequestData = {\r\n\t\t\t\t\t\t\tgoodsList: this.orderData.goodsList || [],\r\n\t\t\t\t\t\t\torderType: this.orderData.orderType || 1,\r\n\t\t\t\t\t\t\tpromotionId: this.orderData.promotionId || null\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 没有订单数据，结束loading并提示跳转\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单数据已失效',\r\n\t\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}, 1000)\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// TODO fetchOrderPreview 会在这里使用\r\n\t\t\t\t\tconst res = await fetchOrderPreview(requestData)\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// 更新页面数据\r\n\t\t\t\t\t\tthis.updateOrderPreview(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\t// 接口失败时也要结束loading\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '获取订单预览失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取订单预览失败:', error)\r\n\t\t\t\t\t// 网络错误时也要结束loading\r\n\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '网络错误，请重试',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 更新订单预览信息\r\n\t\t\tupdateOrderPreview(data) {\r\n\t\t\t\t// 更新商品信息 - 处理多个商品\r\n\t\t\t\tif (data.goodsList && data.goodsList.length > 0) {\r\n\t\t\t\t\t// 构建商品列表\r\n\t\t\t\t\tthis.productList = data.goodsList.map(goods => ({\r\n\t\t\t\t\t\timage: goods.goodsImage || '/static/images/home.png',\r\n\t\t\t\t\t\tname: goods.goodsName || '商品名称',\r\n\t\t\t\t\t\tdescription: `${this.formatSpecs(goods.specs) || '默认规格'} | 单价 ¥${goods.goodsPrice || '0'}`,\r\n\t\t\t\t\t\tprice: (goods.goodsPrice * goods.goodsNum).toFixed(2),\r\n\t\t\t\t\t\tquantity: goods.goodsNum || 1,\r\n\t\t\t\t\t\tunitPrice: goods.goodsPrice || 0\r\n\t\t\t\t\t}))\r\n\r\n\t\t\t\t\t// 兼容旧版本 - 保留第一个商品的信息\r\n\t\t\t\t\tconst firstGoods = data.goodsList[0]\r\n\t\t\t\t\tthis.productInfo = {\r\n\t\t\t\t\t\timage: firstGoods.goodsImage || '/static/images/home.png',\r\n\t\t\t\t\t\tname: firstGoods.goodsName || '雷波青茶',\r\n\t\t\t\t\t\tdescription: `${this.formatSpecs(firstGoods.specs) || '10斤装'} | ${firstGoods.goodsPrice || '199.9'}元`,\r\n\t\t\t\t\t\tprice: (firstGoods.goodsPrice * firstGoods.goodsNum).toString(),\r\n\t\t\t\t\t\tquantity: firstGoods.goodsNum || 1\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 存储完整的商品列表（用于后续创建订单）\r\n\t\t\t\tthis.orderData = {\r\n\t\t\t\t\tgoodsList: data.goodsList,\r\n\t\t\t\t\ttotalPrice: data.totalAmount,\r\n\t\t\t\t\torderType: data.orderType || 1,\r\n\t\t\t\t\tpromotionId: data.promotionId || null\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 只有在没有地址数据时才更新地址，避免覆盖用户已选择的地址\r\n\t\t\t\tif (data.memberAddress && (!this.selectedAddress || !this.selectedAddress.id)) {\r\n\r\n\t\t\t\t\tthis.selectedAddress = {\r\n\t\t\t\t\t\tid: data.memberAddress.id,\r\n\t\t\t\t\t\tname: data.memberAddress.name || data.memberAddress.consigneeName,\r\n\t\t\t\t\t\tphone: data.memberAddress.mobile || data.memberAddress.phone || data.memberAddress\r\n\t\t\t\t\t\t\t.consigneePhone,\r\n\t\t\t\t\t\tprovince: data.memberAddress.province || '',\r\n\t\t\t\t\t\tcity: data.memberAddress.city || '',\r\n\t\t\t\t\t\tdistrict: data.memberAddress.district || '',\r\n\t\t\t\t\t\tdetail: data.memberAddress.detail || data.memberAddress.consigneeAddress || '',\r\n\t\t\t\t\t\tisDefault: data.memberAddress.isDefault || false\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果有地址路径，解析省市区\r\n\t\t\t\t\tif (data.memberAddress.consigneeAddressPath) {\r\n\t\t\t\t\t\tconst addressParts = data.memberAddress.consigneeAddressPath.split(',')\r\n\t\t\t\t\t\tif (addressParts.length >= 3) {\r\n\t\t\t\t\t\t\tthis.selectedAddress.province = addressParts[0]\r\n\t\t\t\t\t\t\tthis.selectedAddress.city = addressParts[1]\r\n\t\t\t\t\t\t\tthis.selectedAddress.district = addressParts[2]\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 更新优惠券列表 - 处理真实的优惠券数据格式\r\n\t\t\t\tif (data.coupons && Array.isArray(data.coupons)) {\r\n\t\t\t\t\tthis.availableCoupons = data.coupons.map(coupon => ({\r\n\t\t\t\t\t\tid: coupon.id,\r\n\t\t\t\t\t\tamount: coupon.price.toString(), // 面额\r\n\t\t\t\t\t\tlabel: coupon.couponName, // 优惠券名称\r\n\t\t\t\t\t\tdateRange: this.formatCouponDateRange(coupon.endTime), // 过期时间\r\n\t\t\t\t\t\tnote: `满${coupon.useAmount}可用`, // 使用条件\r\n\t\t\t\t\t\tselected: false,\r\n\t\t\t\t\t\t// 保存原始数据用于后续处理\r\n\t\t\t\t\t\toriginalData: coupon\r\n\t\t\t\t\t}))\r\n\t\t\t\t} else if (data.availableCoupons) {\r\n\t\t\t\t\t// 兼容旧格式\r\n\t\t\t\t\tthis.availableCoupons = data.availableCoupons\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 更新运费\r\n\t\t\t\tthis.shippingFee = data.shippingFee || 0\r\n\r\n\t\t\t\t// 更新折扣金额\r\n\t\t\t\tthis.discountAmount = data.discountAmount || 0\r\n\r\n\t\t\t\t// 更新总金额\r\n\t\t\t\tthis.totalAmount = data.totalAmount || 0\r\n\r\n\t\t\t\t// 更新已选优惠券\r\n\t\t\t\tif (data.selectedCoupons) {\r\n\t\t\t\t\tthis.selectedCoupons = data.selectedCoupons\r\n\t\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 数据加载完成，隐藏骨架屏\r\n\t\t\t\tthis.loading = false\r\n\t\t\t},\r\n\r\n\r\n\t\t\t// 格式化规格显示\r\n\t\t\tformatSpecs(specs) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst specsArray = JSON.parse(specs)\r\n\t\t\t\t\treturn specsArray.join(' / ')\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\treturn specs\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化优惠券日期范围\r\n\t\t\tformatCouponDateRange(endTime) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tif (!endTime) return '有效期未知'\r\n\r\n\t\t\t\t\tconst endDate = new Date(endTime)\r\n\t\t\t\t\tconst now = new Date()\r\n\r\n\t\t\t\t\t// 格式化结束时间\r\n\t\t\t\t\tconst endDateStr = endDate.toLocaleDateString('zh-CN', {\r\n\t\t\t\t\t\tyear: 'numeric',\r\n\t\t\t\t\t\tmonth: '2-digit',\r\n\t\t\t\t\t\tday: '2-digit'\r\n\t\t\t\t\t}).replace(/\\//g, '.')\r\n\r\n\t\t\t\t\t// 如果已过期，显示过期\r\n\t\t\t\t\tif (endDate < now) {\r\n\t\t\t\t\t\treturn `已过期 (${endDateStr})`\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 计算剩余天数\r\n\t\t\t\t\tconst diffTime = endDate - now\r\n\t\t\t\t\tconst diffDays = Math.ceil(diffTime / (1000 * 60 * 60 * 24))\r\n\r\n\t\t\t\t\tif (diffDays <= 7) {\r\n\t\t\t\t\t\treturn `即将过期 (${endDateStr})`\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn `有效期至 ${endDateStr}`\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('格式化优惠券日期失败:', error)\r\n\t\t\t\t\treturn '有效期未知'\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tselectAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，标记为从订单页面进入\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list?from=order'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\taddAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，用于添加新地址\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list?from=order'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 更新地址信息\r\n\t\t\tupdateAddress(address) {\r\n\t\t\t\tconsole.log('地址更新:', address);\r\n\t\t\t\t// 确保使用 mobile 字段作为电话\r\n\t\t\t\tconst updatedAddress = {\r\n\t\t\t\t\t...address,\r\n\t\t\t\t\tphone: address.mobile || address.phone\r\n\t\t\t\t}\r\n\t\t\t\tthis.selectedAddress = updatedAddress\r\n\t\t\t\t// 将地址数据存储到全局，确保页面切换时数据不丢失\r\n\t\t\t\tglobalData.selectedAddress = updatedAddress\r\n\t\t\t\t// 地址更新后不自动调用预览接口，保持用户修改的地址\r\n\t\t\t},\r\n\t\t\tshowCouponModal() {\r\n\t\t\t\tthis.showCoupon = true\r\n\t\t\t},\r\n\t\t\tcloseCouponModal() {\r\n\t\t\t\tthis.showCoupon = false\r\n\t\t\t},\r\n\t\t\ttoggleCoupon(index) {\r\n\t\t\t\tthis.availableCoupons[index].selected = !this.availableCoupons[index].selected\r\n\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t},\r\n\t\t\tupdateSelectedCoupons() {\r\n\t\t\t\tthis.selectedCoupons = this.availableCoupons.filter(coupon => coupon.selected)\r\n\t\t\t},\r\n\t\t\tconfirmCouponSelection() {\r\n\t\t\t\tthis.updateSelectedCoupons()\r\n\t\t\t\tthis.closeCouponModal()\r\n\t\t\t\t// 优惠券选择后不自动调用预览接口，保持用户选择\r\n\t\t\t},\r\n\t\t\tshowPaymentModal() {\r\n\t\t\t\tthis.showPayment = true\r\n\t\t\t},\r\n\t\t\tclosePaymentModal() {\r\n\t\t\t\tthis.showPayment = false\r\n\t\t\t},\r\n\t\t\tselectPayment(index) {\r\n\t\t\t\t// 重置所有支付方式的选择状态\r\n\t\t\t\tthis.paymentMethods.forEach((payment, i) => {\r\n\t\t\t\t\tpayment.selected = i === index\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tconfirmPaymentSelection() {\r\n\t\t\t\t// 更新选中的支付方式\r\n\t\t\t\tconst selectedPayment = this.paymentMethods.find(payment => payment.selected)\r\n\t\t\t\tif (selectedPayment) {\r\n\t\t\t\t\tthis.selectedPayment = selectedPayment\r\n\t\t\t\t}\r\n\t\t\t\tthis.closePaymentModal()\r\n\t\t\t},\r\n\t\t\tconfirmOrder() {\r\n\t\t\t\t// 验证地址\r\n\t\t\t\tif (!this.selectedAddress || !this.selectedAddress.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择收货地址',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证支付方式\r\n\t\t\t\tif (!this.selectedPayment) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证订单数据\r\n\t\t\t\tif (!this.orderData || !this.orderData.goodsList || this.orderData.goodsList.length === 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单数据无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证商品数据\r\n\t\t\t\tfor (let goods of this.orderData.goodsList) {\r\n\t\t\t\t\tif (!goods.skuId || !goods.goodsNum || goods.goodsNum <= 0) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '商品数据无效',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证总价\r\n\t\t\t\tif (parseFloat(this.totalPrice) <= 0) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单金额无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证地址ID\r\n\t\t\t\tif (!this.selectedAddress.id) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '收货地址无效',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 验证支付方式\r\n\t\t\t\tif (!this.selectedPayment || !this.selectedPayment.name) {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '请选择支付方式',\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\t\t\t\t\treturn\r\n\t\t\t\t}\r\n\r\n\t\t\t\tuni.showLoading({\r\n\t\t\t\t\ttitle: '正在提交订单...'\r\n\t\t\t\t})\r\n\r\n\t\t\t\t// 创建订单\r\n\t\t\t\tthis.createOrder()\r\n\t\t\t},\r\n\r\n\t\t\t// 创建订单\r\n\t\t\tasync createOrder() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 构建订单数据\r\n\t\t\t\t\tconst orderData = {\r\n\t\t\t\t\t\tgoodsList: this.orderData.goodsList,\r\n\t\t\t\t\t\tdeliveryType: this.deliveryType, // 1.快递 2.自提（固定为快递）\r\n\t\t\t\t\t\tmemberAddressId: this.selectedAddress.id, // 收货地址ID\r\n\t\t\t\t\t\tisCart: false, // 不是购物车下单\r\n\t\t\t\t\t\tflowPrice: parseFloat(this.totalPrice), // 订单总计金额\r\n\t\t\t\t\t\torderType: this.orderData.orderType || 1, // 1.普通订单\r\n\t\t\t\t\t\tmemberRemark: this.memberRemark || '', // 买家备注\r\n\t\t\t\t\t\tmemberCouponId: this.selectedCoupons.length > 0 ? this.selectedCoupons[0].id :\r\n\t\t\t\t\t\tnull, // 优惠券ID\r\n\t\t\t\t\t\tpromotionId: this.orderData.promotionId || null // 促销活动ID\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 如果是对公转账，添加支付方式参数\r\n\t\t\t\t\tif (this.selectedPayment.name === '对公转账') {\r\n\t\t\t\t\t\torderData.paymentMethod = '4' // 4.对公转账\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 调用创建订单接口\r\n\t\t\t\t\tconst res = await fetchOrderCreate(orderData)\r\n\r\n\t\t\t\t\tconsole.log('createOrder - API response:', res);\r\n\t\t\t\t\tconsole.log('createOrder - res.data:', res.data);\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\t// 创建订单成功，开始支付\r\n\t\t\t\t\t\t// 确保orderId存在\r\n\t\t\t\t\t\tif (!res.data) {\r\n\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\ttitle: '订单创建成功但订单ID为空',\r\n\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\tthis.processPayment(res.data)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.hideLoading()\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '订单创建失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 订单创建失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('创建订单失败:', error)\r\n\t\t\t\t\tuni.hideLoading()\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '网络错误，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 网络错误，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 处理支付\r\n\t\t\tasync processPayment(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 验证订单信息\r\n\t\t\t\t\tif (!orderInfo) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '订单信息无效',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\treturn\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tconsole.log('processPayment - orderInfo:', orderInfo);\r\n\r\n\t\t\t\t\t// 根据支付方式处理\r\n\t\t\t\t\tswitch (this.selectedPayment.name) {\r\n\t\t\t\t\t\tcase '微信支付':\r\n\t\t\t\t\t\t\tawait this.handleWechatPay(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tcase '对公转账':\r\n\t\t\t\t\t\t\tawait this.handleBankTransfer(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t\tdefault:\r\n\t\t\t\t\t\t\t// 其他支付方式\r\n\t\t\t\t\t\t\tawait this.handleOtherPayment(orderInfo)\r\n\t\t\t\t\t\t\tbreak\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('支付处理失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 支付失败，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 微信支付\r\n\t\t\tasync handleWechatPay(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleWechatPay - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleWechatPay - orderId:', orderInfo.orderId);\r\n\r\n\t\t\t\t\t// 调用支付接口\r\n\t\t\t\t\tconst res = await fetchOrderPay({\r\n\t\t\t\t\t\tpaymentMethod: '1', // 1.微信支付\r\n\t\t\t\t\t\torderId: orderInfo\r\n\t\t\t\t\t})\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\t// 调用微信支付\r\n\t\t\t\t\t\tuni.requestPayment({\r\n\t\t\t\t\t\t\tprovider: \"wxpay\",\r\n\t\t\t\t\t\t\tappId: res.data.payPackage.appId,\r\n\t\t\t\t\t\t\ttimeStamp: res.data.payPackage.timeStamp,\r\n\t\t\t\t\t\t\tnonceStr: res.data.payPackage.nonceStr,\r\n\t\t\t\t\t\t\tpackage: res.data.payPackage.package,\r\n\t\t\t\t\t\t\tsignType: res.data.payPackage.signType,\r\n\t\t\t\t\t\t\tpaySign: res.data.payPackage.paySign,\r\n\t\t\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\t\t\tconsole.log('微信支付成功:', res)\r\n\t\t\t\t\t\t\t\tthis.paymentSuccess(orderInfo)\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t\tfail: (err) => {\r\n\t\t\t\t\t\t\t\tconsole.error('微信支付失败:', err)\r\n\t\t\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\t\t\ttitle: '支付失败',\r\n\t\t\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t// 微信支付失败，返回详情页\r\n\t\t\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '支付失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 微信支付失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('微信支付失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 微信支付异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 对公转账\r\n\t\t\tasync handleBankTransfer(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleBankTransfer - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleBankTransfer - orderId:', orderInfo.orderId);\r\n\r\n\t\t\t\t\t// 对公转账不需要调用支付接口，显示成功提示\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: '订单创建成功，请联系客服完成转账',\r\n\t\t\t\t\t\ticon: 'success',\r\n\t\t\t\t\t\tduration: 2000\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\r\n\t\t\t\t\t// 设置全局idx为0（首页）\r\n\t\t\t\t\tif (getApp().globalData) {\r\n\t\t\t\t\t\tgetApp().globalData.activeTabbarKey = 0\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 延迟返回首页，让用户看到成功提示\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t}, 2000)\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('对公转账处理失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '处理失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 处理异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 其他支付方式（园区卡支付等）\r\n\t\t\tasync handleOtherPayment(orderInfo) {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconsole.log('handleOtherPayment - orderInfo:', orderInfo);\r\n\t\t\t\t\tconsole.log('handleOtherPayment - orderId:', orderInfo);\r\n\r\n\t\t\t\t\t// 调用支付接口 - 使用园区卡支付\r\n\t\t\t\t\tconst res = await fetchOrderPay({\r\n\t\t\t\t\t\tpaymentMethod: '3', // 3.园区卡支付\r\n\t\t\t\t\t\torderId: orderInfo\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\tif (res.code === 200) {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: '支付成功',\r\n\t\t\t\t\t\t\ticon: 'success'\r\n\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t// 支付成功处理\r\n\t\t\t\t\t\tthis.paymentSuccess(orderInfo)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\t\ttitle: res.msg || '支付失败',\r\n\t\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t\t})\r\n\t\t\t\t\t\t// 园区卡支付失败，返回详情页\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('园区卡支付失败:', error)\r\n\r\n\t\t\t\t\t// 根据错误类型显示不同的提示\r\n\t\t\t\t\tlet errorMessage = '支付失败，请重试'\r\n\t\t\t\t\tif (error.message) {\r\n\t\t\t\t\t\terrorMessage = error.message\r\n\t\t\t\t\t} else if (error.errMsg) {\r\n\t\t\t\t\t\terrorMessage = error.errMsg\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: errorMessage,\r\n\t\t\t\t\t\ticon: 'error'\r\n\t\t\t\t\t})\r\n\r\n\t\t\t\t\t// 园区卡支付异常，返回详情页\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tuni.navigateBack()\r\n\t\t\t\t\t}, 2000)\r\n\r\n\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\tglobalData.orderData = null\r\n\t\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 支付成功处理\r\n\t\t\tpaymentSuccess(orderInfo) {\r\n\t\t\t\tconsole.log('orderInfo', orderInfo);\r\n\t\t\t\t// 设置支付金额并显示支付成功弹窗\r\n\t\t\t\tthis.paymentAmount = orderInfo.totalAmount || this.totalPrice\r\n\t\t\t\tthis.showPaymentSuccess = true\r\n\t\t\t},\r\n\r\n\t\t\t// 处理遮罩点击\r\n\t\t\thandleOverlayClick() {\r\n\t\t\t\t// 支付成功弹窗不允许点击遮罩关闭，用户必须选择一个选项\r\n\t\t\t},\r\n\r\n\t\t\t// 处理支付成功弹窗关闭（继续购物）\r\n\t\t\thandlePaymentSuccessClose() {\r\n\t\t\t\tthis.showPaymentSuccess = false\r\n\t\t\t\t// 清除全局数据\r\n\t\t\t\tglobalData.orderData = null\r\n\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t// 返回首页\r\n\t\t\t\tuni.reLaunch({\r\n\t\t\t\t\turl: '/pages/index/index'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 处理支付成功弹窗确认（查看订单）\r\n\t\t\thandlePaymentSuccessConfirm() {\r\n\t\t\t\tthis.showPaymentSuccess = false\r\n\t\t\t\t// 清除全局数据\r\n\t\t\t\tglobalData.orderData = null\r\n\t\t\t\tglobalData.selectedAddress = null\r\n\t\t\t\t// 跳转到订单列表页面\r\n\t\t\t\tuni.redirectTo({\r\n\t\t\t\t\turl: '/subpackages/order/list/list'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\r\n\t\t\t// 获取选中的SKU ID（从全局数据中获取）\r\n\t\t\tgetSelectedSkuId() {\r\n\t\t\t\tif (this.orderData && this.orderData.goodsList && this.orderData.goodsList.length > 0) {\r\n\t\t\t\t\treturn this.orderData.goodsList[0].skuId\r\n\t\t\t\t}\r\n\t\t\t\t// 如果没有数据，返回默认值\r\n\t\t\t\treturn 1\r\n\t\t\t},\r\n\r\n\t\t\t// 处理对公转账订单\r\n\t\t\thandleBankTransferOrder() {\r\n\t\t\t\t// 先验证并创建订单\r\n\t\t\t\tthis.confirmOrder();\r\n\t\t\t},\r\n\r\n\t\t\t// 跳转到客服（备用方法，现已不使用）\r\n\t\t\tjumpToCustomerService() {\r\n\t\t\t\tconsole.log('此方法已弃用，对公转账现在直接返回首页');\r\n\t\t\t},\r\n\r\n\t\t\t// 客服功能备用方案（保留以防万一）\r\n\t\t\tshowCustomerServiceFallback() {\r\n\t\t\t\tuni.showModal({\r\n\t\t\t\t\ttitle: '客服联系方式',\r\n\t\t\t\t\tcontent: '客服电话：400-123-4567\\n客服微信：kf_service\\n工作时间：9:00-18:00\\n\\n对公转账请联系客服获取银行账户信息',\r\n\t\t\t\t\tshowCancel: false,\r\n\t\t\t\t\tconfirmText: '知道了',\r\n\t\t\t\t\tsuccess: () => {\r\n\t\t\t\t\t\t// 清除全局数据\r\n\t\t\t\t\t\tglobalData.orderData = null;\r\n\t\t\t\t\t\tglobalData.selectedAddress = null;\r\n\t\t\t\t\t}\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.order-detail-container {\r\n\t\tbackground: #f5f5f5;\r\n\t\tmin-height: 100vh;\r\n\t\tpadding-bottom: 120rpx;\r\n\t\tposition: relative;\r\n\t}\r\n\r\n\t/* Skeleton Styles */\r\n\t.skeleton-container {\r\n\t\tpadding: 20rpx;\r\n\t}\r\n\r\n\t.skeleton-address {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.skeleton-address-info {\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.skeleton-address-user {\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t\t.skeleton-name {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.skeleton-phone {\r\n\t\t\t\t\t\twidth: 160rpx;\r\n\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-address-detail {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-arrow {\r\n\t\t\t\twidth: 24rpx;\r\n\t\t\t\theight: 24rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-product {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-product-card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-product-img {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-product-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.skeleton-product-name {\r\n\t\t\t\t\twidth: 80%;\r\n\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-product-desc {\r\n\t\t\t\t\twidth: 60%;\r\n\t\t\t\t\theight: 26rpx;\r\n\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.skeleton-product-bottom {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.skeleton-product-price {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\theight: 36rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.skeleton-product-quantity {\r\n\t\t\t\t\t\twidth: 80rpx;\r\n\t\t\t\t\t\theight: 28rpx;\r\n\t\t\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-price {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-price-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 16rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-price-label {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-price-value {\r\n\t\t\t\twidth: 100rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.skeleton-payment {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.skeleton-payment-title {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 32rpx;\r\n\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\tbackground-size: 200% 100%;\r\n\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\tborder-radius: 4rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.skeleton-payment-method {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.skeleton-payment-icon {\r\n\t\t\t\twidth: 48rpx;\r\n\t\t\t\theight: 48rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-payment-name {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 28rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.skeleton-payment-arrow {\r\n\t\t\t\twidth: 20rpx;\r\n\t\t\t\theight: 20rpx;\r\n\t\t\t\tbackground: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n\t\t\t\tbackground-size: 200% 100%;\r\n\t\t\t\tanimation: skeleton-loading 1.5s infinite;\r\n\t\t\t\tborder-radius: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes skeleton-loading {\r\n\t\t0% {\r\n\t\t\tbackground-position: 200% 0;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\tbackground-position: -200% 0;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 防止弹窗出现时背景滚动 */\r\n\t.order-detail-container.popup-open {\r\n\t\toverflow: hidden;\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\theight: 100%;\r\n\t}\r\n\r\n\t/* Header */\r\n\t.header {\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t.header-left,\r\n\t\t.header-right {\r\n\t\t\twidth: 60rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t}\r\n\r\n\t\t.header-title {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Address Section */\r\n\t.address-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.address-info {\r\n\t\t\tflex: 1;\r\n\r\n\t\t\t.address-user {\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\r\n\t\t\t\t.user-name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-right: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.user-phone {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.address-detail {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tline-height: 1.4;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.address-arrow {\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* No Address Section */\r\n\t.no-address-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\t\tborder: 2rpx dashed #e0e0e0;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&:active {\r\n\t\t\tborder-color: #89D600;\r\n\t\t\tbackground: rgba(137, 214, 0, 0.05);\r\n\t\t}\r\n\r\n\t\t.no-address-content {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t}\r\n\r\n\t\t.no-address-icon {\r\n\t\t\twidth: 60rpx;\r\n\t\t\theight: 60rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground: #f5f5f5;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t}\r\n\r\n\t\t.no-address-info {\r\n\t\t\tflex: 1;\r\n\t\t\tmargin-left: 20rpx;\r\n\r\n\t\t\t.no-address-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.no-address-desc {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tline-height: 1.4;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.no-address-arrow {\r\n\t\t\tmargin-left: 16rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Product Section */\r\n\t.product-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.product-card {\r\n\t\t\tdisplay: flex;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tmargin-bottom: 0;\r\n\t\t\t}\r\n\r\n\t\t\t.product-img {\r\n\t\t\t\twidth: 120rpx;\r\n\t\t\t\theight: 120rpx;\r\n\t\t\t\tborder-radius: 12rpx;\r\n\t\t\t\tobject-fit: cover;\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t}\r\n\r\n\t\t\t.product-info {\r\n\t\t\t\tflex: 1;\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t.product-name {\r\n\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-desc {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tmargin-bottom: 16rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.product-bottom {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t\t\t.product-price {\r\n\t\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.product-quantity {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Price Section */\r\n\t.price-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.price-item {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tpadding: 16rpx 0;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t&:last-child {\r\n\t\t\t\tborder-bottom: none;\r\n\t\t\t}\r\n\r\n\t\t\t.price-label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.price-value {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t&.coupon-item {\r\n\t\t\t\t.coupon-info {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tgap: 8rpx;\r\n\r\n\t\t\t\t\t.coupon-text {\r\n\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\tcolor: #4CAF50;\r\n\r\n\t\t\t\t\t\t&.discount-highlight {\r\n\t\t\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.total-item {\r\n\t\t\t\t.total-price {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Payment Section */\r\n\t.payment-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.section-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.payment-method {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.payment-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t.payment-icon {\r\n\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.payment-name {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.payment-arrow {\r\n\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Delivery Section */\r\n\t.delivery-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.section-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.delivery-method {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.delivery-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 16rpx;\r\n\r\n\t\t\t\t.delivery-icon {\r\n\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.delivery-name {\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.delivery-tag {\r\n\t\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\tpadding: 8rpx 16rpx;\r\n\t\t\t\tborder-radius: 20rpx;\r\n\r\n\t\t\t\t.tag-text {\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Remark Section */\r\n\t.remark-section {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 20rpx 24rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 24rpx;\r\n\r\n\t\t.section-title {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 20rpx;\r\n\t\t}\r\n\r\n\t\t.remark-input {\r\n\t\t\tbackground: #f8f8f8;\r\n\t\t\tborder-radius: 12rpx;\r\n\t\t\tmin-height: 120rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t/* Bottom Bar */\r\n\t.bottom-bar {\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbackground: #fff;\r\n\t\tpadding: 20rpx 24rpx;\r\n\t\tborder-top: 1rpx solid #f0f0f0;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: space-between;\r\n\r\n\t\t.total-info {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 8rpx;\r\n\r\n\t\t\t.total-label {\r\n\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.total-amount {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #e54d42;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.buy-button {\r\n\t\t\tbackground: #89D600;\r\n\t\t\tcolor: #fff;\r\n\t\t\tpadding: 20rpx 40rpx;\r\n\t\t\tborder-radius: 32rpx;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tborder: none;\r\n\t\t\toutline: none;\r\n\t\t\ttransition: all 0.3s ease;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tmin-width: 200rpx;\r\n\t\t\theight: auto;\r\n\t\t\tline-height: normal;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.95);\r\n\t\t\t}\r\n\r\n\t\t\t&.bank-transfer-button {\r\n\t\t\t\tbackground: #89D600;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tmargin: 0;\r\n\r\n\t\t\t\t&:active {\r\n\t\t\t\t\tbackground: #7bb600;\r\n\t\t\t\t\ttransform: scale(0.95);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Coupon Modal */\r\n\t.coupon-modal {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.modal-header {\r\n\t\t\tpadding: 32rpx 24rpx 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.modal-title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.modal-subtitle {\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #666;\r\n\r\n\t\t\t\t.discount-amount {\r\n\t\t\t\t\tcolor: #e54d42;\r\n\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.modal-close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 32rpx;\r\n\t\t\t\tright: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.coupon-list {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 24rpx;\r\n\t\t\toverflow-y: auto;\r\n\r\n\t\t\t.coupon-item {\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t.coupon-content {\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tpadding: 0;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: stretch;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tcursor: pointer;\r\n\t\t\t\t\ttransition: all 0.3s ease;\r\n\t\t\t\t\toverflow: hidden;\r\n\t\t\t\t\tborder: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t\t\t.coupon-left {\r\n\t\t\t\t\t\twidth: 120rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tpadding: 24rpx 0;\r\n\r\n\t\t\t\t\t\t.coupon-amount {\r\n\t\t\t\t\t\t\tfont-size: 48rpx;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tcolor: #fff;\r\n\t\t\t\t\t\t\tline-height: 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.coupon-center {\r\n\t\t\t\t\t\tflex: 1;\r\n\t\t\t\t\t\tpadding: 24rpx;\r\n\t\t\t\t\t\tbackground: #fff;\r\n\r\n\t\t\t\t\t\t.coupon-label {\r\n\t\t\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\tmargin-bottom: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.coupon-date {\r\n\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.coupon-note {\r\n\t\t\t\t\t\t\tfont-size: 22rpx;\r\n\t\t\t\t\t\t\tcolor: #999;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.coupon-right {\r\n\t\t\t\t\t\twidth: 60rpx;\r\n\t\t\t\t\t\ttext-align: center;\r\n\t\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\t\tpadding: 24rpx 0;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.modal-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.confirm-button {\r\n\t\t\t\tbackground: #89D600;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 24rpx;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* Payment Modal */\r\n\t.payment-modal {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\tbackground: #fff;\r\n\r\n\t\t.modal-header {\r\n\t\t\tpadding: 32rpx 24rpx 24rpx;\r\n\t\t\tborder-bottom: 1rpx solid #f0f0f0;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t.modal-title {\r\n\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.modal-close {\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\ttop: 32rpx;\r\n\t\t\t\tright: 24rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.payment-list {\r\n\t\t\tflex: 1;\r\n\t\t\tpadding: 24rpx;\r\n\r\n\t\t\t.payment-item {\r\n\t\t\t\tmargin-bottom: 20rpx;\r\n\r\n\t\t\t\t.payment-content {\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: space-between;\r\n\t\t\t\t\tpadding: 24rpx;\r\n\t\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\t\tborder: 1rpx solid #f0f0f0;\r\n\t\t\t\t\ttransition: all 0.3s ease;\r\n\r\n\t\t\t\t\t&:hover {\r\n\t\t\t\t\t\tborder-color: #89D600;\r\n\t\t\t\t\t\tbackground: rgba(137, 214, 0, 0.05);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.payment-left {\r\n\t\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\t\talign-items: center;\r\n\t\t\t\t\t\tgap: 16rpx;\r\n\t\t\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t\t\t.payment-icon {\r\n\t\t\t\t\t\t\twidth: 48rpx;\r\n\t\t\t\t\t\t\theight: 48rpx;\r\n\t\t\t\t\t\t\tborder-radius: 8rpx;\r\n\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t.payment-info {\r\n\t\t\t\t\t\t\t.payment-name {\r\n\t\t\t\t\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\t\t\t\t\tfont-weight: bold;\r\n\t\t\t\t\t\t\t\tcolor: #333;\r\n\t\t\t\t\t\t\t\tmargin-bottom: 4rpx;\r\n\t\t\t\t\t\t\t}\r\n\r\n\t\t\t\t\t\t\t.payment-desc {\r\n\t\t\t\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t.payment-right {\r\n\t\t\t\t\t\tmargin-left: 16rpx;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.modal-footer {\r\n\t\t\tpadding: 24rpx;\r\n\t\t\tborder-top: 1rpx solid #f0f0f0;\r\n\r\n\t\t\t.confirm-button {\r\n\t\t\t\tbackground: #89D600;\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\ttext-align: center;\r\n\t\t\t\tpadding: 24rpx;\r\n\t\t\t\tborder-radius: 16rpx;\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: bold;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 支付成功弹窗样式 */\r\n\t.payment-success-modal-overlay {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tbottom: 0;\r\n\t\tbackground: rgba(0, 0, 0, 0.6);\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tjustify-content: center;\r\n\t\tz-index: 9999;\r\n\t\topacity: 0;\r\n\t\tvisibility: hidden;\r\n\t\ttransition: all 0.3s ease;\r\n\r\n\t\t&.show {\r\n\t\t\topacity: 1;\r\n\t\t\tvisibility: visible;\r\n\r\n\t\t\t.payment-success-modal {\r\n\t\t\t\ttransform: scale(1) translateY(0);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t.payment-success-modal {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 24rpx;\r\n\t\tpadding: 60rpx 48rpx 48rpx;\r\n\t\tmargin: 0 48rpx;\r\n\t\tmax-width: 600rpx;\r\n\t\twidth: 100%;\r\n\t\ttext-align: center;\r\n\t\ttransform: scale(0.8) translateY(-40rpx);\r\n\t\ttransition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);\r\n\t\tbox-shadow: 0 24rpx 80rpx rgba(0, 0, 0, 0.12);\r\n\t}\r\n\r\n\t/* 成功图标 */\r\n\t.success-icon {\r\n\t\tmargin-bottom: 32rpx;\r\n\r\n\t\t.success-circle {\r\n\t\t\twidth: 120rpx;\r\n\t\t\theight: 120rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\tmargin: 0 auto;\r\n\t\t\tposition: relative;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tanimation: success-bounce 0.6s ease;\r\n\r\n\t\t\t.success-check {\r\n\t\t\t\tposition: relative;\r\n\t\t\t\twidth: 40rpx;\r\n\t\t\t\theight: 40rpx;\r\n\r\n\t\t\t\t.check-line {\r\n\t\t\t\t\tposition: absolute;\r\n\t\t\t\t\tbackground: #fff;\r\n\t\t\t\t\tborder-radius: 4rpx;\r\n\r\n\t\t\t\t\t&.check-line1 {\r\n\t\t\t\t\t\twidth: 4rpx;\r\n\t\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\t\tleft: 14rpx;\r\n\t\t\t\t\t\ttop: 20rpx;\r\n\t\t\t\t\t\ttransform: rotate(45deg);\r\n\t\t\t\t\t\tanimation: check-line1 0.4s ease 0.2s both;\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t&.check-line2 {\r\n\t\t\t\t\t\twidth: 4rpx;\r\n\t\t\t\t\t\theight: 32rpx;\r\n\t\t\t\t\t\tleft: 22rpx;\r\n\t\t\t\t\t\ttop: 8rpx;\r\n\t\t\t\t\t\ttransform: rotate(-45deg);\r\n\t\t\t\t\t\tanimation: check-line2 0.4s ease 0.4s both;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 标题 */\r\n\t.modal-title {\r\n\t\tfont-size: 48rpx;\r\n\t\tfont-weight: bold;\r\n\t\tcolor: #333;\r\n\t\tmargin-bottom: 24rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.3s both;\r\n\t}\r\n\r\n\t/* 金额信息 */\r\n\t.amount-info {\r\n\t\tmargin-bottom: 32rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.4s both;\r\n\r\n\t\t.amount-label {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 28rpx;\r\n\t\t\tcolor: #666;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\r\n\t\t.amount-value {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 56rpx;\r\n\t\t\tfont-weight: bold;\r\n\t\t\tcolor: #89D600;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 感谢信息 */\r\n\t.thank-message {\r\n\t\tmargin-bottom: 48rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.5s both;\r\n\r\n\t\t.thank-text {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\r\n\t\t.delivery-text {\r\n\t\t\tdisplay: block;\r\n\t\t\tfont-size: 26rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 按钮组 */\r\n\t.button-group {\r\n\t\tdisplay: flex;\r\n\t\tgap: 24rpx;\r\n\t\tanimation: fade-in-up 0.5s ease 0.6s both;\r\n\r\n\t\t.button {\r\n\t\t\tflex: 1;\r\n\t\t\theight: 88rpx;\r\n\t\t\tborder-radius: 44rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: center;\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 500;\r\n\t\t\ttransition: all 0.3s ease;\r\n\t\t\tcursor: pointer;\r\n\r\n\t\t\t&:active {\r\n\t\t\t\ttransform: scale(0.95);\r\n\t\t\t}\r\n\r\n\t\t\t&.secondary-button {\r\n\t\t\t\tbackground: #f5f5f5;\r\n\t\t\t\tcolor: #666;\r\n\t\t\t\tborder: 2rpx solid #e0e0e0;\r\n\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\tbackground: #ebebeb;\r\n\t\t\t\t\tborder-color: #d0d0d0;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t&.primary-button {\r\n\t\t\t\tbackground: linear-gradient(135deg, #89D600 0%, #9BE600 100%);\r\n\t\t\t\tcolor: #fff;\r\n\t\t\t\tbox-shadow: 0 8rpx 24rpx rgba(137, 214, 0, 0.3);\r\n\r\n\t\t\t\t&:hover {\r\n\t\t\t\t\tbox-shadow: 0 12rpx 32rpx rgba(137, 214, 0, 0.4);\r\n\t\t\t\t\ttransform: translateY(-2rpx);\r\n\t\t\t\t}\r\n\r\n\t\t\t\t&:active {\r\n\t\t\t\t\ttransform: scale(0.95) translateY(0);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 动画定义 */\r\n\t@keyframes success-bounce {\r\n\t\t0% {\r\n\t\t\ttransform: scale(0);\r\n\t\t\topacity: 0;\r\n\t\t}\r\n\r\n\t\t50% {\r\n\t\t\ttransform: scale(1.1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\ttransform: scale(1);\r\n\t\t\topacity: 1;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes check-line1 {\r\n\t\t0% {\r\n\t\t\theight: 0;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\theight: 20rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes check-line2 {\r\n\t\t0% {\r\n\t\t\theight: 0;\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\theight: 32rpx;\r\n\t\t}\r\n\t}\r\n\r\n\t@keyframes fade-in-up {\r\n\t\t0% {\r\n\t\t\topacity: 0;\r\n\t\t\ttransform: translateY(40rpx);\r\n\t\t}\r\n\r\n\t\t100% {\r\n\t\t\topacity: 1;\r\n\t\t\ttransform: translateY(0);\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./detail.vue?vue&type=style&index=0&id=08f7b1ce&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758547635926\n      var cssReload = require(\"D:/HbuilderDevTool/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}
>>>>>>> Stashed changes
