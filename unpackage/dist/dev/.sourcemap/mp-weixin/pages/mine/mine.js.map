<<<<<<< Updated upstream
{"version":3,"sources":["webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?6abe","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?ede6","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?49a8","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?b62f","uni-app:///pages/mine/mine.vue","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?2337","webpack:///D:/xwechat_files/wxid_tff0c4yfudpq22_1be9/msg/file/2025-09/shopping_25_07/pages/mine/mine.vue?2818","uni-app:///main.js"],"names":["name","components","BaseContainer","data","statusBarHeight","capsuleHeight","capsuleTop","isLoggedIn","userInfo","avatar","nickname","phone","memberLevel","signature","userData","coupons","points","balance","computed","headerStyle","contentTopPx","onShow","onHide","console","mounted","methods","initPageLayout","formatPhone","getPhonePrefix","getPhoneSuffix","refreshUserData","setTimeout","refreshUserDataFromLocal","checkLoginStatus","getUserInfo","fetchUserInfoFromAPI","response","mergedUserInfo","memberId","handleLogin","uni","url","editProfile","title","icon","goToMemberCenter","goToCoupons","goToPoints","goToBalance","goToPointsMall","goToOrders","targetStatus","goToService","goToAddress","goToFavorites","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AACwN;AACxN,gBAAgB,8NAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AChDA;AAAA;AAAA;AAAA;AAA61B,CAAgB,m2BAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;AC8Jj3B;AAOA;AAEA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eACA;EACAA;EACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACAC;MACAC;MAEAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EAEAC;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACAC;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MAGA;QACA;QACA;UACA;UACA;QACA;MACA;;MAGA;IAKA;IAEA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MAAA;MACAP;MACA;QACA;QACA;QACA;QACAQ;UACA;UACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACAT;MACA;MACA;QACA;QACA,8DACA,gBACAf;UACA;UACAC,yEACA;UACA;UACAC;UACA;UACAE;UACA;UACAC;QAAA,EACA;QACAU;MACA;IACA;IAEAU;MACA;MACA;;MAEA;MACA;MACAV;;MAEA;MACA;QACA;MACA;IACA;IACAW;MAAA;MACA;MACA;MACA;QACA;QACA,8DACA,gBACA1B;UACA;UACAC,yEACA;UACA;UACAC;UACA;UACAE;UACA;UACAC;QAAA,EACA;QACAU;MACA;;MAEA;MACAQ;QACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAC;gBAEA;kBACA;kBACAC,0DAEA;kBACA,gEACA,kBACAA;oBACA;oBACA5B,uFACA;oBACA;oBACAC,wFACA4B;oBACA;oBACA1B;oBACA;oBACAC;kBAAA,EACA;kBACAU;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAgB;MACAC;QACAC;MACA;IACA;IACAC;MACAF;QACAG;QACAC;MACA;MACAJ;QACAC;MACA;IACA;IACAI;MACAL;QACAG;QACAC;MACA;IACA;IACAE;MACAN;QACAG;QACAC;MACA;IACA;IACAG;MACAP;QACAC;MACA;IACA;IACAO;MACAR;QACAC;MACA;IACA;IACAQ;MACAT;QACAG;QACAC;MACA;IACA;IACAM;MACA;MACA;MAEA;QACA;UACAC;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;QACA;UACAA;UACA;MAAA;MAGA5B;MAEAiB;QACAC;MACA;IACA;IACAW;MACA;QACAZ;UACAC;QACA;MACA;QACAD;UACAG;UACAC;QACA;MACA;IACA;IACAS;MACA;MACAb;QACAC;MACA;IACA;IACAa;MACAd;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC/dA;AAAA;AAAA;AAAA;AAA4mD,CAAgB,8iDAAG,EAAC,C;;;;;;;;;;;ACAhoD;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAc,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C","file":"pages/mine/mine.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&scoped=true&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dcbcfe34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=template&id=dcbcfe34&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = !!_vm.isLoggedIn\n    ? _vm.getPhonePrefix(_vm.userInfo.phone || \"15912345678\")\n    : null\n  var m1 = !!_vm.isLoggedIn\n    ? _vm.getPhoneSuffix(_vm.userInfo.phone || \"15912345678\")\n    : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"mine-page\">\r\n\t\t<!-- 固定顶部标题栏 -->\r\n\t\t<view class=\"mine-header\" :style=\"headerStyle\">\r\n\t\t\t<view class=\"header-content\">\r\n\t\t\t\t<text class=\"header-title\">个人中心</text>\r\n\t\t\t\t<view class=\"header-right\">\r\n\t\t\t\t\t<u-icon name=\"more-dot-fill\" size=\"20\" color=\"#333\"></u-icon>\r\n\t\t\t\t\t<u-icon name=\"scan\" size=\"20\" color=\"#333\" style=\"margin-left: 20rpx;\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 页面主体内容 -->\r\n\t\t<scroll-view scroll-y class=\"mine-body\" :style=\"{ paddingTop: contentTopPx + 'px' }\">\r\n\t\t\t<!-- 用户信息区域 -->\r\n\t\t\t<view class=\"user-section\">\r\n\t\t\t\t<!-- 未登录状态 -->\r\n\t\t\t\t<view class=\"user-info-card\" v-if=\"!isLoggedIn\">\r\n\t\t\t\t\t<view class=\"login-content\" @click=\"handleLogin\">\r\n\t\t\t\t\t\t<view class=\"login-text\">登录/注册</view>\r\n\t\t\t\t\t\t<view class=\"login-desc\">登录后享受更多服务</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 登录状态 -->\r\n\t\t\t\t<view class=\"user-info-card\" v-else>\r\n\t\t\t\t\t<view class=\"avatar-section\" @click=\"editProfile\">\r\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"userInfo.avatar || 'https://img.yzcdn.cn/vant/cat.jpeg'\"\r\n\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t<view class=\"nickname\">{{ userInfo.nickname || 'YEZ' }}</view>\r\n\t\t\t\t\t\t<view class=\"user-id\">\r\n\t\t\t\t\t\t\t<text>{{ getPhonePrefix(userInfo.phone || '15912345678') }}</text>\r\n\t\t\t\t\t\t\t<text class=\"phone-mask\">****</text>\r\n\t\t\t\t\t\t\t<text>{{ getPhoneSuffix(userInfo.phone || '15912345678') }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Order Module -->\r\n\t\t\t<view class=\"order-module\">\r\n\t\t\t\t<view class=\"module-header\">\r\n\t\t\t\t\t<view class=\"module-title\">我的订单</view>\r\n\t\t\t\t\t<view class=\"view-all\" @click=\"goToOrders('all')\">\r\n\t\t\t\t\t\t<text>查看全部</text>\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"16\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"order-items\">\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('pending')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895066.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待付款</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('shipped')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895067.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待发货</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('review')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895068.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待收货</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('completed')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895065.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">已完成</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 数据栏 -->\r\n\t\t\t<!-- <view class=\"data-bar\">\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToBalance\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/ye.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">余额</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.balance || '100.0' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToPoints\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/jf.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">积分</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.points || '5600' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToCoupons\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/yhj.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">优惠券</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.coupons || '12' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<!-- Service Module -->\r\n\t\t\t<view class=\"service-module\">\r\n\t\t\t\t<view class=\"service-list\">\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToFavorites\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"star\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">我的收藏</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToAddress\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"map\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">收货地址</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"account\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<button class=\"u-reset-button service-label\" style=\"text-align: left;\"\r\n\t\t\t\t\t\t\topen-type=\"contact\">我的客服</button>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToService('about')\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"info-circle\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">关于我们</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport BaseContainer from '@/components/BaseWrapper.vue'\r\n\timport {\r\n\t\tisLoggedIn,\r\n\t\tgetUserInfo,\r\n\t\tgetToken,\r\n\t\tmergeUserInfo,\r\n\t\tdebugLoginStatus\r\n\t} from '@/utils/auth.js'\r\n\timport {\r\n\t\tfetchUserInfo\r\n\t} from '@/api/user/index.js'\r\n\texport default {\r\n\t\tname: 'Mine',\r\n\t\tcomponents: {\r\n\t\t\tBaseContainer\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 顶部安全区域\r\n\t\t\t\tstatusBarHeight: 0,\r\n\t\t\t\tcapsuleHeight: 44,\r\n\t\t\t\tcapsuleTop: 0,\r\n\r\n\t\t\t\tisLoggedIn: false, // 控制登录状态\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tavatar: '',\r\n\t\t\t\t\tnickname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tmemberLevel: '普通会员',\r\n\t\t\t\t\tsignature: ''\r\n\t\t\t\t},\r\n\t\t\t\tuserData: {\r\n\t\t\t\t\tcoupons: 0,\r\n\t\t\t\t\tpoints: 0,\r\n\t\t\t\t\tbalance: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t// 顶部标题栏样式\r\n\t\t\theaderStyle() {\r\n\t\t\t\treturn `padding-top:${this.capsuleTop}px;background:#fff;`\r\n\t\t\t},\r\n\r\n\t\t\t// 内容区顶部偏移\r\n\t\t\tcontentTopPx() {\r\n\t\t\t\treturn this.capsuleTop + this.capsuleHeight\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 仅检查登录状态，数据刷新由父组件调用refreshUserData()处理\r\n\t\t\tthis.checkLoginStatus()\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t// 页面隐藏时的处理逻辑\r\n\t\t\tconsole.log('页面隐藏')\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 初始化页面布局\r\n\t\t\tthis.initPageLayout()\r\n\t\t\t// 初始化时检查登录状态\r\n\t\t\tthis.checkLoginStatus()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化页面布局\r\n\t\t\tinitPageLayout() {\r\n\t\t\t\tconst sys = uni.getSystemInfoSync()\r\n\t\t\t\tthis.statusBarHeight = sys.statusBarHeight || 0\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst rect = wx.getMenuButtonBoundingClientRect()\r\n\t\t\t\t\tif (rect && rect.height) {\r\n\t\t\t\t\t\tthis.capsuleHeight = rect.height\r\n\t\t\t\t\t\tthis.capsuleTop = rect.top + 5\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// 其他端给个合理默认\r\n\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\tthis.capsuleHeight = 44\r\n\t\t\t\tthis.capsuleTop = this.statusBarHeight\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化手机号，中间用红色*代替，保留末尾4位\r\n\t\t\tformatPhone(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn phone\r\n\t\t\t\t}\r\n\t\t\t\tconst prefix = phone.substring(0, 3)\r\n\t\t\t\tconst suffix = phone.substring(phone.length - 4)\r\n\t\t\t\treturn `${prefix}****${suffix}`\r\n\t\t\t},\r\n\r\n\t\t\t// 获取手机号前缀\r\n\t\t\tgetPhonePrefix(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn phone\r\n\t\t\t\t}\r\n\t\t\t\treturn phone.substring(0, 3)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取手机号后缀\r\n\t\t\tgetPhoneSuffix(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t\treturn phone.substring(phone.length - 4)\r\n\t\t\t},\r\n\r\n\t\t\t// 外部调用的刷新用户数据方法（暴露给父组件）\r\n\t\t\trefreshUserData() {\r\n\t\t\t\tconsole.log('外部调用refreshUserData方法')\r\n\t\t\t\tif (this.isLoggedIn) {\r\n\t\t\t\t\t// 先从本地存储刷新数据\r\n\t\t\t\t\tthis.refreshUserDataFromLocal()\r\n\t\t\t\t\t// 可选择性地从API刷新数据\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tconst token = getToken()\r\n\t\t\t\t\t\tif (token) {\r\n\t\t\t\t\t\t\tthis.fetchUserInfoFromAPI()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 100)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 从本地存储刷新用户数据（用于从其他页面返回时同步数据）\r\n\t\t\trefreshUserDataFromLocal() {\r\n\t\t\t\tconsole.log('从本地存储刷新用户数据')\r\n\t\t\t\tconst userInfo = getUserInfo()\r\n\t\t\t\tif (userInfo && Object.keys(userInfo).length > 0) {\r\n\t\t\t\t\t// 更新用户信息\r\n\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t...userInfo,\r\n\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\tavatar: userInfo.avatarUrl || userInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\tnickname: userInfo.nickname || this.userInfo.nickname || '用户' + (userInfo.memberId || ''),\r\n\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\tmemberLevel: userInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\tsignature: userInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('mine页面用户信息已从本地存储刷新:', this.userInfo)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tcheckLoginStatus() {\r\n\t\t\t\t// 调试登录状态\r\n\t\t\t\tdebugLoginStatus()\r\n\r\n\t\t\t\t// 使用认证工具函数检查登录状态\r\n\t\t\t\tthis.isLoggedIn = isLoggedIn()\r\n\t\t\t\tconsole.log('当前登录状态:', this.isLoggedIn)\r\n\r\n\t\t\t\t// 如果已登录，获取用户信息（数据刷新由父组件调用refreshUserData()处理）\r\n\t\t\t\tif (this.isLoggedIn) {\r\n\t\t\t\t\tthis.getUserInfo()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\t// 使用认证工具函数获取用户信息\r\n\t\t\t\tconst userInfo = getUserInfo()\r\n\t\t\t\tif (userInfo && Object.keys(userInfo).length > 0) {\r\n\t\t\t\t\t// 合并用户信息，保留默认值\r\n\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t...userInfo,\r\n\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\tavatar: userInfo.avatarUrl || userInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\tnickname: userInfo.nickname || this.userInfo.nickname || '用户' + (userInfo.memberId || ''),\r\n\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\tmemberLevel: userInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\tsignature: userInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~'\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('用户信息已更新:', this.userInfo)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 延迟检查token，确保登录信息已保存\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// 如果有token，调用API获取最新的用户信息\r\n\t\t\t\t\tconst token = getToken()\r\n\t\t\t\t\tif (token) {\r\n\t\t\t\t\t\tthis.fetchUserInfoFromAPI()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 500) // 延迟500ms检查token\r\n\t\t\t},\r\n\r\n\t\t\t// 从API获取用户信息\r\n\t\t\tasync fetchUserInfoFromAPI() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await fetchUserInfo()\r\n\r\n\t\t\t\t\tif (response.code === 200 && response.data) {\r\n\t\t\t\t\t\t// 使用合并函数更新用户信息\r\n\t\t\t\t\t\tconst mergedUserInfo = mergeUserInfo(response.data)\r\n\r\n\t\t\t\t\t\t// 更新页面显示的用户信息\r\n\t\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t\t...mergedUserInfo,\r\n\t\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\t\tavatar: mergedUserInfo.avatarUrl || mergedUserInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\t\tnickname: mergedUserInfo.nickname || this.userInfo.nickname || '用户' + (mergedUserInfo\r\n\t\t\t\t\t\t\t\t.memberId || ''),\r\n\t\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\t\tmemberLevel: mergedUserInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\t\tsignature: mergedUserInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('API用户信息已合并并更新:', this.userInfo)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取用户信息失败:', error)\r\n\t\t\t\t\t// 如果API调用失败，继续使用本地存储的信息\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleLogin() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/subpackages/user/login/login\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\teditProfile() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '编辑资料',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/user/center/center`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToMemberCenter() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '会员中心',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToCoupons() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '我的优惠券',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToPoints() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/user/Points/Points'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToBalance() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/user/Mybalance/Mybalance'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToPointsMall() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '积分商城',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToOrders(status) {\r\n\t\t\t\t// 根据状态跳转到对应的订单列表页面\r\n\t\t\t\tlet targetStatus = 'all'\r\n\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase 'pending':\r\n\t\t\t\t\t\ttargetStatus = '10' // 待付款\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'shipped':\r\n\t\t\t\t\t\ttargetStatus = '20' // 待发货\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'review':\r\n\t\t\t\t\t\ttargetStatus = '30' // 待收货\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'completed':\r\n\t\t\t\t\t\ttargetStatus = '40' // 已完成\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'all':\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttargetStatus = 'all' // 全部订单\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(`跳转到订单列表，状态: ${status} -> ${targetStatus}`)\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/list/list?status=${targetStatus}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToService(type) {\r\n\t\t\t\tif (type === 'about') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/subpackages/help/about/about'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: `跳转${type}服务`,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoToAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，不标记来源\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToFavorites() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/goods/favGoodsList/favGoodsList'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.mine-page {\r\n\t\theight: 100vh;\r\n\t\tbackground: #f5f5f5;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* 固定顶部标题栏 */\r\n\t.mine-header {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\r\n\t}\r\n\r\n\t.header-content {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0 30rpx 16rpx 30rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t/* 增加下边距 */\r\n\t}\r\n\r\n\t.header-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #111;\r\n\t}\r\n\r\n\t.header-right {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t\tbottom: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* 页面主体 */\r\n\t.mine-body {\r\n\t\tflex: 1;\r\n\t\theight: 0;\r\n\t\tpadding-bottom: 40rpx;\r\n\t}\r\n\r\n\t/* 用户信息区域 */\r\n\t.user-section {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t}\r\n\r\n\t.user-info-card {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 24rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\t\tmin-height: 120rpx;\r\n\t}\r\n\r\n\t/* 未登录状态 */\r\n\t.login-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\r\n\t\t.login-text {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.login-desc {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 登录状态 */\r\n\t.avatar-section {\r\n\t\t.avatar {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t}\r\n\r\n\t.user-info {\r\n\t\tflex: 1;\r\n\r\n\t\t.nickname {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\r\n\t\t.user-id {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.phone-mask {\r\n\t\t\t\tcolor: #ff4d4f;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/* 数据栏 */\r\n\t.data-bar {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\theight: 240rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\r\n\t\t.data-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&:not(:last-child)::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: -1rpx;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\twidth: 1rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tbackground: #f0f0f0;\r\n\t\t\t}\r\n\r\n\t\t\t.data-icon {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\theight: 60rpx;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.data-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 8rpx;\r\n\r\n\t\t\t\t.data-number {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\tcolor: #34C759;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.data-label {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 订单模块 */\r\n\t.order-module {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t.module-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t.module-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.view-all {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 8rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-items {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.order-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 12rpx;\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.order-icon {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\timg {\r\n\t\t\t\t\t\tmax-width: 100%;\r\n\t\t\t\t\t\tmax-height: 100%;\r\n\t\t\t\t\t\tobject-fit: contain;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-label {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 服务模块 */\r\n\t.service-module {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t.service-list {\r\n\t\t\t.service-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-icon {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-label {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-arrow {\r\n\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"; export default mod; export * from \"-!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!C:\\\\Users\\\\zhao\\\\Downloads\\\\HBuilderX.3.8.12.20230817\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1757856386910\n      var cssReload = require(\"C:/Users/zhao/Downloads/HBuilderX.3.8.12.20230817/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)"],"sourceRoot":""}
=======
{"version":3,"sources":["webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?a559","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?2568","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?55f9","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?2f77","uni-app:///pages/mine/mine.vue","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?6b50","webpack:///F:/UniApp/products/shopping-projects/shopping_25_07/pages/mine/mine.vue?ee3c","uni-app:///main.js"],"names":["name","components","BaseContainer","IconComVue","data","statusBarHeight","capsuleHeight","capsuleTop","isLoggedIn","userInfo","avatar","nickname","phone","memberLevel","signature","createTime","userData","coupons","points","balance","computed","headerStyle","contentTopPx","onShow","onHide","console","mounted","methods","initPageLayout","formatPhone","getPhonePrefix","getPhoneSuffix","formatCreateTime","date","refreshUserData","setTimeout","refreshUserDataFromLocal","checkLoginStatus","getUserInfo","fetchUserInfoFromAPI","response","mergedUserInfo","memberId","handleLogin","uni","url","editProfile","title","icon","goToMemberCenter","goToCoupons","goToPoints","goToBalance","goToPointsMall","goToOrders","targetStatus","goToService","goToAddress","goToFavorites","wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA6H;AAC7H;AACwD;AACL;AACsC;;;AAGzF;AAC2K;AAC3K,gBAAgB,qLAAU;AAC1B,EAAE,0EAAM;AACR,EAAE,2FAAM;AACR,EAAE,oGAAe;AACjB;AACA;AACA;AACA;AACA;AACA,EAAE,+FAAU;AACZ;AACA;;AAEA;AACe,gF;;;;;;;;;;;;ACvBf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;;ACAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA,aAAa,iSAEN;AACP,KAAK;AACL;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM;AACN;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;ACrDA;AAAA;AAAA;AAAA;AAA4nB,CAAgB,spBAAG,EAAC,C;;;;;;;;;;;;;;;;;;;;;;ACmKhpB;AAOA;AAEA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA;EAAA;IAAA;EAAA;AAAA;AAAA,eAEA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACA;MACA;MACAC;MACAC;MACAC;MAEAC;MAAA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;IACA;EACA;EAEAC;IACA;IACAC;MACA;IACA;IAEA;IACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACA;IACAC;EACA;EACAC;IACA;IACA;IACA;IACA;EACA;EACAC;IACA;IACAC;MACA;MACA;MAGA;QACA;QACA;UACA;UACA;QACA;MACA;;MAGA;IAKA;IAEA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;QACA;MACA;MACA;IACA;IAEA;IACAC;MACA;MAEA;QACA;QACA;QACA;UACA;UACAC;QACA;UACAA;QACA;UACA;QACA;;QAEA;QACA;UACA;QACA;;QAEA;QACA;QACA;QACA;QAEA;MACA;QACAR;QACA;MACA;IACA;IAEA;IACAS;MAAA;MACAT;MACA;QACA;QACA;QACA;QACAU;UACA;UACA;YACA;UACA;QACA;MACA;IACA;IAEA;IACAC;MACAX;MACA;MACA;QACA;QACA,8DACA,gBACAhB;UACA;UACAC,yEACA;UACA;UACAC;UACA;UACAE;UACA;UACAC;UACA;UACAC;QAAA,EACA;QACAU;MACA;IACA;IAEAY;MACA;MACA;;MAEA;MACA;MACAZ;;MAEA;MACA;QACA;MACA;IACA;IACAa;MAAA;MACA;MACA;MACA;QACA;QACA,8DACA,gBACA7B;UACA;UACAC,yEACA;UACA;UACAC;UACA;UACAE;UACA;UACAC;UACA;UACAC;QAAA,EACA;QACAU;MACA;;MAEA;MACAU;QACA;QACA;QACA;UACA;QACA;MACA;IACA;IAEA;IACAI;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAAA;gBAAA;gBAAA,OAEA;cAAA;gBAAAC;gBAEA;kBACA;kBACAC,0DAEA;kBACA,gEACA,kBACAA;oBACA;oBACA/B,uFACA;oBACA;oBACAC,wFACA+B;oBACA;oBACA7B;oBACA;oBACAC;oBACA;oBACAC;kBAAA,EACA;kBACAU;gBACA;gBAAA;gBAAA;cAAA;gBAAA;gBAAA;gBAEAA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACAkB;MACAC;QACAC;MACA;IACA;IACAC;MACAF;QACAG;QACAC;MACA;MACAJ;QACAC;MACA;IACA;IACAI;MACAL;QACAG;QACAC;MACA;IACA;IACAE;MACAN;QACAG;QACAC;MACA;IACA;IACAG;MACAP;QACAC;MACA;IACA;IACAO;MACAR;QACAC;MACA;IACA;IACAQ;MACAT;QACAG;QACAC;MACA;IACA;IACAM;MACA;MACA;MAEA;QACA;UACAC;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;UACAA;UACA;QACA;QACA;UACAA;UACA;MAAA;MAGA9B;MAEAmB;QACAC;MACA;IACA;IACAW;MACA;QACAZ;UACAC;QACA;MACA;QACAD;UACAG;UACAC;QACA;MACA;IACA;IACAS;MACA;MACAb;QACAC;MACA;IACA;IACAa;MACAd;QACAC;MACA;IACA;EACA;AACA;AAAA,2B;;;;;;;;;;;;;AC9gBA;AAAA;AAAA;AAAA;AAAutC,CAAgB,6rCAAG,EAAC,C;;;;;;;;;;;ACA3uC;AACA,OAAO,KAAU,EAAE,kBAKd;;;;;;;;;;;;;;;;ACNL;AAGA;AACA;AAHA;AACAc,EAAE,CAACC,iCAAiC,GAAGC,mBAAmB;AAG1DC,UAAU,CAACC,aAAI,CAAC,C","file":"pages/mine/mine.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./mine.vue?vue&type=template&id=dcbcfe34&scoped=true&\"\nvar renderjs\nimport script from \"./mine.vue?vue&type=script&lang=js&\"\nexport * from \"./mine.vue?vue&type=script&lang=js&\"\nimport style0 from \"./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"dcbcfe34\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/mine/mine.vue\"\nexport default component.exports","export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--17-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=template&id=dcbcfe34&scoped=true&\"","var components\ntry {\n  components = {\n    uIcon: function () {\n      return import(\n        /* webpackChunkName: \"uni_modules/uview-ui/components/u-icon/u-icon\" */ \"@/uni_modules/uview-ui/components/u-icon/u-icon.vue\"\n      )\n    },\n  }\n} catch (e) {\n  if (\n    e.message.indexOf(\"Cannot find module\") !== -1 &&\n    e.message.indexOf(\".vue\") !== -1\n  ) {\n    console.error(e.message)\n    console.error(\"1. 排查组件名称拼写是否正确\")\n    console.error(\n      \"2. 排查组件是否符合 easycom 规范，文档：https://uniapp.dcloud.net.cn/collocation/pages?id=easycom\"\n    )\n    console.error(\n      \"3. 若组件不符合 easycom 规范，需手动引入，并在 components 中注册该组件\"\n    )\n  } else {\n    throw e\n  }\n}\nvar render = function () {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  var m0 = !!_vm.isLoggedIn\n    ? _vm.getPhonePrefix(_vm.userInfo.phone || \"15912345678\")\n    : null\n  var m1 = !!_vm.isLoggedIn\n    ? _vm.getPhoneSuffix(_vm.userInfo.phone || \"15912345678\")\n    : null\n  var m2 =\n    !!_vm.isLoggedIn && _vm.userInfo.createTime\n      ? _vm.formatCreateTime(_vm.userInfo.createTime)\n      : null\n  _vm.$mp.data = Object.assign(\n    {},\n    {\n      $root: {\n        m0: m0,\n        m1: m1,\n        m2: m2,\n      },\n    }\n  )\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--13-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=script&lang=js&\"","<template>\r\n\t<view class=\"mine-page\">\r\n\t\t<!-- 固定顶部标题栏 -->\r\n\t\t<view class=\"mine-header\" :style=\"headerStyle\">\r\n\t\t\t<view class=\"header-content\">\r\n\t\t\t\t<text class=\"header-title\">个人中心</text>\r\n\t\t\t\t<view class=\"header-right\">\r\n\t\t\t\t\t<u-icon name=\"more-dot-fill\" size=\"20\" color=\"#333\"></u-icon>\r\n\t\t\t\t\t<u-icon name=\"scan\" size=\"20\" color=\"#333\" style=\"margin-left: 20rpx;\"></u-icon>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</view>\r\n\r\n\t\t<!-- 页面主体内容 -->\r\n\t\t<scroll-view scroll-y class=\"mine-body\" :style=\"{ paddingTop: contentTopPx + 'px' }\">\r\n\t\t\t<!-- 用户信息区域 -->\r\n\t\t\t<view class=\"user-section\">\r\n\t\t\t\t<!-- 未登录状态 -->\r\n\t\t\t\t<view class=\"user-info-card\" v-if=\"!isLoggedIn\">\r\n\t\t\t\t\t<view class=\"login-content\" @click=\"handleLogin\">\r\n\t\t\t\t\t\t<view class=\"login-text\">登录/注册</view>\r\n\t\t\t\t\t\t<view class=\"login-desc\">登录后享受更多服务</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\r\n\t\t\t\t<!-- 登录状态 -->\r\n\t\t\t\t<view class=\"user-info-card\" v-else>\r\n\t\t\t\t\t<view class=\"avatar-section\" @click=\"editProfile\">\r\n\t\t\t\t\t\t<image class=\"avatar\" :src=\"userInfo.avatar || 'https://img.yzcdn.cn/vant/cat.jpeg'\"\r\n\t\t\t\t\t\t\tmode=\"aspectFill\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"user-info\">\r\n\t\t\t\t\t\t<view class=\"nickname\">{{ userInfo.nickname || 'YEZ' }}</view>\r\n\t\t\t\t\t\t<view class=\"user-id\">\r\n\t\t\t\t\t\t\t<text>{{ getPhonePrefix(userInfo.phone || '15912345678') }}</text>\r\n\t\t\t\t\t\t\t<text class=\"phone-mask\">****</text>\r\n\t\t\t\t\t\t\t<text>{{ getPhoneSuffix(userInfo.phone || '15912345678') }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"create-time\" v-if=\"userInfo.createTime\">\r\n\t\t\t\t\t\t\t<text class=\"create-label\">注册时间：</text>\r\n\t\t\t\t\t\t\t<text class=\"create-date\">{{ formatCreateTime(userInfo.createTime) }}</text>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- Order Module -->\r\n\t\t\t<view class=\"order-module\">\r\n\t\t\t\t<view class=\"module-header\">\r\n\t\t\t\t\t<view class=\"module-title\">我的订单</view>\r\n\t\t\t\t\t<view class=\"view-all\" @click=\"goToOrders('all')\">\r\n\t\t\t\t\t\t<text>查看全部</text>\r\n\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#999\" size=\"16\"></u-icon>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"order-items\">\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('pending')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895066.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待付款</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('shipped')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895067.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待发货</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('review')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895068.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">待收货</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"order-item\" @click=\"goToOrders('completed')\">\r\n\t\t\t\t\t\t<view class=\"order-icon\">\r\n\t\t\t\t\t\t\t<img src=\"https://pic1.imgdb.cn/item/68bee1b058cb8da5c8895065.png\" alt=\"\" />\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"order-label\">已完成</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\r\n\t\t\t<!-- 数据栏 -->\r\n\t\t\t<!-- <view class=\"data-bar\">\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToBalance\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/ye.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">余额</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.balance || '100.0' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToPoints\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/jf.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">积分</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.points || '5600' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t\t<view class=\"data-item\" @click=\"goToCoupons\">\r\n\t\t\t\t\t<view class=\"data-icon\">\r\n\t\t\t\t\t\t<image src=\"/static/images/yhj.png\" mode=\"aspectFit\"></image>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"data-info\">\r\n\t\t\t\t\t\t<view class=\"data-label\">优惠券</view>\r\n\t\t\t\t\t\t<view class=\"data-number\">{{ userData.coupons || '12' }}</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view> -->\r\n\r\n\t\t\t<!-- Service Module -->\r\n\t\t\t<view class=\"service-module\">\r\n\t\t\t\t<view class=\"service-list\">\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToFavorites\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"star\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">我的收藏</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToAddress\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"map\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">收货地址</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"account\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<button class=\"u-reset-button service-label\" style=\"text-align: left;\"\r\n\t\t\t\t\t\t\topen-type=\"contact\">我的客服</button>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t\t<view class=\"service-item\" @click=\"goToService('about')\">\r\n\t\t\t\t\t\t<view class=\"service-icon\">\r\n\t\t\t\t\t\t\t<u-icon name=\"info-circle\" color=\"#666\" size=\"20\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t\t<view class=\"service-label\">关于我们</view>\r\n\t\t\t\t\t\t<view class=\"service-arrow\">\r\n\t\t\t\t\t\t\t<u-icon name=\"arrow-right\" color=\"#ccc\" size=\"16\"></u-icon>\r\n\t\t\t\t\t\t</view>\r\n\t\t\t\t\t</view>\r\n\t\t\t\t</view>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t\t<IconComVue />\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport BaseContainer from '@/components/BaseWrapper.vue'\r\n\timport {\r\n\t\tisLoggedIn,\r\n\t\tgetUserInfo,\r\n\t\tgetToken,\r\n\t\tmergeUserInfo,\r\n\t\tdebugLoginStatus\r\n\t} from '@/utils/auth.js'\r\n\timport {\r\n\t\tfetchUserInfo\r\n\t} from '@/api/user/index.js'\r\n\timport IconComVue from '../../components/IconCom.vue'\r\n\texport default {\r\n\t\tname: 'Mine',\r\n\t\tcomponents: {\r\n\t\t\tBaseContainer,\r\n\t\t\tIconComVue\r\n\t\t},\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\t// 顶部安全区域\r\n\t\t\t\tstatusBarHeight: 0,\r\n\t\t\t\tcapsuleHeight: 44,\r\n\t\t\t\tcapsuleTop: 0,\r\n\r\n\t\t\t\tisLoggedIn: false, // 控制登录状态\r\n\t\t\t\tuserInfo: {\r\n\t\t\t\t\tavatar: '',\r\n\t\t\t\t\tnickname: '',\r\n\t\t\t\t\tphone: '',\r\n\t\t\t\t\tmemberLevel: '普通会员',\r\n\t\t\t\t\tsignature: '',\r\n\t\t\t\t\tcreateTime: ''\r\n\t\t\t\t},\r\n\t\t\t\tuserData: {\r\n\t\t\t\t\tcoupons: 0,\r\n\t\t\t\t\tpoints: 0,\r\n\t\t\t\t\tbalance: 0\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\r\n\t\tcomputed: {\r\n\t\t\t// 顶部标题栏样式\r\n\t\t\theaderStyle() {\r\n\t\t\t\treturn `padding-top:${this.capsuleTop}px;background:#fff;`\r\n\t\t\t},\r\n\r\n\t\t\t// 内容区顶部偏移\r\n\t\t\tcontentTopPx() {\r\n\t\t\t\treturn this.capsuleTop + this.capsuleHeight\r\n\t\t\t}\r\n\t\t},\r\n\t\tonShow() {\r\n\t\t\t// 仅检查登录状态，数据刷新由父组件调用refreshUserData()处理\r\n\t\t\tthis.checkLoginStatus()\r\n\t\t},\r\n\t\tonHide() {\r\n\t\t\t// 页面隐藏时的处理逻辑\r\n\t\t\tconsole.log('页面隐藏')\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t// 初始化页面布局\r\n\t\t\tthis.initPageLayout()\r\n\t\t\t// 初始化时检查登录状态\r\n\t\t\tthis.checkLoginStatus()\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\t// 初始化页面布局\r\n\t\t\tinitPageLayout() {\r\n\t\t\t\tconst sys = uni.getSystemInfoSync()\r\n\t\t\t\tthis.statusBarHeight = sys.statusBarHeight || 0\r\n\r\n\t\t\t\t// #ifdef MP-WEIXIN\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst rect = wx.getMenuButtonBoundingClientRect()\r\n\t\t\t\t\tif (rect && rect.height) {\r\n\t\t\t\t\t\tthis.capsuleHeight = rect.height\r\n\t\t\t\t\t\tthis.capsuleTop = rect.top + 5\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (e) {}\r\n\t\t\t\t// #endif\r\n\r\n\t\t\t\t// 其他端给个合理默认\r\n\t\t\t\t// #ifndef MP-WEIXIN\r\n\t\t\t\tthis.capsuleHeight = 44\r\n\t\t\t\tthis.capsuleTop = this.statusBarHeight\r\n\t\t\t\t// #endif\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化手机号，中间用红色*代替，保留末尾4位\r\n\t\t\tformatPhone(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn phone\r\n\t\t\t\t}\r\n\t\t\t\tconst prefix = phone.substring(0, 3)\r\n\t\t\t\tconst suffix = phone.substring(phone.length - 4)\r\n\t\t\t\treturn `${prefix}****${suffix}`\r\n\t\t\t},\r\n\r\n\t\t\t// 获取手机号前缀\r\n\t\t\tgetPhonePrefix(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn phone\r\n\t\t\t\t}\r\n\t\t\t\treturn phone.substring(0, 3)\r\n\t\t\t},\r\n\r\n\t\t\t// 获取手机号后缀\r\n\t\t\tgetPhoneSuffix(phone) {\r\n\t\t\t\tif (!phone || phone.length < 7) {\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t\treturn phone.substring(phone.length - 4)\r\n\t\t\t},\r\n\r\n\t\t\t// 格式化创建时间\r\n\t\t\tformatCreateTime(createTime) {\r\n\t\t\t\tif (!createTime) return ''\r\n\r\n\t\t\t\ttry {\r\n\t\t\t\t\t// 处理时间戳或时间字符串\r\n\t\t\t\t\tlet date\r\n\t\t\t\t\tif (typeof createTime === 'number') {\r\n\t\t\t\t\t\t// 如果是时间戳，可能需要处理毫秒\r\n\t\t\t\t\t\tdate = createTime.toString().length === 10 ? new Date(createTime * 1000) : new Date(createTime)\r\n\t\t\t\t\t} else if (typeof createTime === 'string') {\r\n\t\t\t\t\t\tdate = new Date(createTime)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 检查日期是否有效\r\n\t\t\t\t\tif (isNaN(date.getTime())) {\r\n\t\t\t\t\t\treturn ''\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\t// 格式化为 YYYY-MM-DD\r\n\t\t\t\t\tconst year = date.getFullYear()\r\n\t\t\t\t\tconst month = String(date.getMonth() + 1).padStart(2, '0')\r\n\t\t\t\t\tconst day = String(date.getDate()).padStart(2, '0')\r\n\r\n\t\t\t\t\treturn `${year}-${month}-${day}`\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('格式化创建时间失败:', error)\r\n\t\t\t\t\treturn ''\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 外部调用的刷新用户数据方法（暴露给父组件）\r\n\t\t\trefreshUserData() {\r\n\t\t\t\tconsole.log('外部调用refreshUserData方法')\r\n\t\t\t\tif (this.isLoggedIn) {\r\n\t\t\t\t\t// 先从本地存储刷新数据\r\n\t\t\t\t\tthis.refreshUserDataFromLocal()\r\n\t\t\t\t\t// 可选择性地从API刷新数据\r\n\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\tconst token = getToken()\r\n\t\t\t\t\t\tif (token) {\r\n\t\t\t\t\t\t\tthis.fetchUserInfoFromAPI()\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}, 100)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\t// 从本地存储刷新用户数据（用于从其他页面返回时同步数据）\r\n\t\t\trefreshUserDataFromLocal() {\r\n\t\t\t\tconsole.log('从本地存储刷新用户数据')\r\n\t\t\t\tconst userInfo = getUserInfo()\r\n\t\t\t\tif (userInfo && Object.keys(userInfo).length > 0) {\r\n\t\t\t\t\t// 更新用户信息\r\n\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t...userInfo,\r\n\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\tavatar: userInfo.avatarUrl || userInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\tnickname: userInfo.nickname || this.userInfo.nickname || '用户' + (userInfo.memberId || ''),\r\n\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\tmemberLevel: userInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\tsignature: userInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~',\r\n\t\t\t\t\t\t// 设置创建时间\r\n\t\t\t\t\t\tcreateTime: userInfo.createTime || this.userInfo.createTime\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('mine页面用户信息已从本地存储刷新:', this.userInfo)\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n\t\t\tcheckLoginStatus() {\r\n\t\t\t\t// 调试登录状态\r\n\t\t\t\tdebugLoginStatus()\r\n\r\n\t\t\t\t// 使用认证工具函数检查登录状态\r\n\t\t\t\tthis.isLoggedIn = isLoggedIn()\r\n\t\t\t\tconsole.log('当前登录状态:', this.isLoggedIn)\r\n\r\n\t\t\t\t// 如果已登录，获取用户信息（数据刷新由父组件调用refreshUserData()处理）\r\n\t\t\t\tif (this.isLoggedIn) {\r\n\t\t\t\t\tthis.getUserInfo()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\t// 使用认证工具函数获取用户信息\r\n\t\t\t\tconst userInfo = getUserInfo()\r\n\t\t\t\tif (userInfo && Object.keys(userInfo).length > 0) {\r\n\t\t\t\t\t// 合并用户信息，保留默认值\r\n\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t...userInfo,\r\n\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\tavatar: userInfo.avatarUrl || userInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\tnickname: userInfo.nickname || this.userInfo.nickname || '用户' + (userInfo.memberId || ''),\r\n\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\tmemberLevel: userInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\tsignature: userInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~',\r\n\t\t\t\t\t\t// 设置创建时间\r\n\t\t\t\t\t\tcreateTime: userInfo.createTime || this.userInfo.createTime\r\n\t\t\t\t\t}\r\n\t\t\t\t\tconsole.log('用户信息已更新:', this.userInfo)\r\n\t\t\t\t}\r\n\r\n\t\t\t\t// 延迟检查token，确保登录信息已保存\r\n\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t// 如果有token，调用API获取最新的用户信息\r\n\t\t\t\t\tconst token = getToken()\r\n\t\t\t\t\tif (token) {\r\n\t\t\t\t\t\tthis.fetchUserInfoFromAPI()\r\n\t\t\t\t\t}\r\n\t\t\t\t}, 500) // 延迟500ms检查token\r\n\t\t\t},\r\n\r\n\t\t\t// 从API获取用户信息\r\n\t\t\tasync fetchUserInfoFromAPI() {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst response = await fetchUserInfo()\r\n\r\n\t\t\t\t\tif (response.code === 200 && response.data) {\r\n\t\t\t\t\t\t// 使用合并函数更新用户信息\r\n\t\t\t\t\t\tconst mergedUserInfo = mergeUserInfo(response.data)\r\n\r\n\t\t\t\t\t\t// 更新页面显示的用户信息\r\n\t\t\t\t\t\tthis.userInfo = {\r\n\t\t\t\t\t\t\t...this.userInfo,\r\n\t\t\t\t\t\t\t...mergedUserInfo,\r\n\t\t\t\t\t\t\t// 如果没有头像，使用默认头像\r\n\t\t\t\t\t\t\tavatar: mergedUserInfo.avatarUrl || mergedUserInfo.avatar || this.userInfo.avatar ||\r\n\t\t\t\t\t\t\t\t'https://img.yzcdn.cn/vant/cat.jpeg',\r\n\t\t\t\t\t\t\t// 如果没有昵称，使用默认昵称\r\n\t\t\t\t\t\t\tnickname: mergedUserInfo.nickname || this.userInfo.nickname || '用户' + (mergedUserInfo\r\n\t\t\t\t\t\t\t\t.memberId || ''),\r\n\t\t\t\t\t\t\t// 设置会员等级\r\n\t\t\t\t\t\t\tmemberLevel: mergedUserInfo.type === 1 ? '超级会员' : '普通会员',\r\n\t\t\t\t\t\t\t// 设置个性签名\r\n\t\t\t\t\t\t\tsignature: mergedUserInfo.signature || this.userInfo.signature || '这个人很懒，什么都没留下~',\r\n\t\t\t\t\t\t\t// 设置创建时间\r\n\t\t\t\t\t\t\tcreateTime: mergedUserInfo.createTime || this.userInfo.createTime\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log('API用户信息已合并并更新:', this.userInfo)\r\n\t\t\t\t\t}\r\n\t\t\t\t} catch (error) {\r\n\t\t\t\t\tconsole.error('获取用户信息失败:', error)\r\n\t\t\t\t\t// 如果API调用失败，继续使用本地存储的信息\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\thandleLogin() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: \"/subpackages/user/login/login\"\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\teditProfile() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '编辑资料',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/user/center/center`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToMemberCenter() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '会员中心',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToCoupons() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '我的优惠券',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToPoints() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/user/Points/Points'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToBalance() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/user/Mybalance/Mybalance'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToPointsMall() {\r\n\t\t\t\tuni.showToast({\r\n\t\t\t\t\ttitle: '积分商城',\r\n\t\t\t\t\ticon: 'none'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToOrders(status) {\r\n\t\t\t\t// 根据状态跳转到对应的订单列表页面\r\n\t\t\t\tlet targetStatus = 'all'\r\n\r\n\t\t\t\tswitch (status) {\r\n\t\t\t\t\tcase 'pending':\r\n\t\t\t\t\t\ttargetStatus = '10' // 待付款\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'shipped':\r\n\t\t\t\t\t\ttargetStatus = '20' // 待发货\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'review':\r\n\t\t\t\t\t\ttargetStatus = '30' // 待收货\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'completed':\r\n\t\t\t\t\t\ttargetStatus = '40' // 已完成\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t\tcase 'all':\r\n\t\t\t\t\tdefault:\r\n\t\t\t\t\t\ttargetStatus = 'all' // 全部订单\r\n\t\t\t\t\t\tbreak\r\n\t\t\t\t}\r\n\r\n\t\t\t\tconsole.log(`跳转到订单列表，状态: ${status} -> ${targetStatus}`)\r\n\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: `/subpackages/order/list/list?status=${targetStatus}`\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToService(type) {\r\n\t\t\t\tif (type === 'about') {\r\n\t\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\t\turl: '/subpackages/help/about/about'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tuni.showToast({\r\n\t\t\t\t\t\ttitle: `跳转${type}服务`,\r\n\t\t\t\t\t\ticon: 'none'\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tgoToAddress() {\r\n\t\t\t\t// 跳转到地址列表页面，不标记来源\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/address/list/list'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgoToFavorites() {\r\n\t\t\t\tuni.navigateTo({\r\n\t\t\t\t\turl: '/subpackages/goods/favGoodsList/favGoodsList'\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.mine-page {\r\n\t\theight: 100vh;\r\n\t\tbackground: #f5f5f5;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t}\r\n\r\n\t/* 固定顶部标题栏 */\r\n\t.mine-header {\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 999;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.04);\r\n\t}\r\n\r\n\t.header-content {\r\n\t\theight: 100%;\r\n\t\tdisplay: flex;\r\n\t\talign-items: flex-end;\r\n\t\tjustify-content: center;\r\n\t\tpadding: 0 30rpx 16rpx 30rpx;\r\n\t\tposition: relative;\r\n\t\tmargin-bottom: 30rpx;\r\n\t\t/* 增加下边距 */\r\n\t}\r\n\r\n\t.header-title {\r\n\t\tfont-size: 32rpx;\r\n\t\tfont-weight: 600;\r\n\t\tcolor: #111;\r\n\t}\r\n\r\n\t.header-right {\r\n\t\tposition: absolute;\r\n\t\tright: 30rpx;\r\n\t\tbottom: 16rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t}\r\n\r\n\t/* 页面主体 */\r\n\t.mine-body {\r\n\t\tflex: 1;\r\n\t\theight: 0;\r\n\t\tpadding-bottom: 40rpx;\r\n\t}\r\n\r\n\t/* 用户信息区域 */\r\n\t.user-section {\r\n\t\tpadding: 20rpx 30rpx;\r\n\t}\r\n\r\n\t.user-info-card {\r\n\t\tbackground: #fff;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\tdisplay: flex;\r\n\t\talign-items: center;\r\n\t\tgap: 24rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\t\tmin-height: 120rpx;\r\n\t}\r\n\r\n\t/* 未登录状态 */\r\n\t.login-content {\r\n\t\tflex: 1;\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: column;\r\n\t\talign-items: center;\r\n\t\tgap: 8rpx;\r\n\r\n\t\t.login-text {\r\n\t\t\tfont-size: 36rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #333;\r\n\t\t}\r\n\r\n\t\t.login-desc {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t}\r\n\t}\r\n\r\n\t/* 登录状态 */\r\n\t.avatar-section {\r\n\t\t.avatar {\r\n\t\t\twidth: 80rpx;\r\n\t\t\theight: 80rpx;\r\n\t\t\tborder-radius: 50%;\r\n\t\t}\r\n\t}\r\n\r\n\t.user-info {\r\n\t\tflex: 1;\r\n\r\n\t\t.nickname {\r\n\t\t\tfont-size: 32rpx;\r\n\t\t\tfont-weight: 600;\r\n\t\t\tcolor: #333;\r\n\t\t\tmargin-bottom: 8rpx;\r\n\t\t}\r\n\r\n\t\t.user-id {\r\n\t\t\tfont-size: 24rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.phone-mask {\r\n\t\t\t\tcolor: #ff4d4f;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.create-time {\r\n\t\t\tfont-size: 22rpx;\r\n\t\t\tcolor: #999;\r\n\t\t\tmargin-top: 6rpx;\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\r\n\t\t\t.create-label {\r\n\t\t\t\tcolor: #666;\r\n\t\t\t}\r\n\r\n\t\t\t.create-date {\r\n\t\t\t\tcolor: #999;\r\n\t\t\t\tmargin-left: 4rpx;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\t/* 数据栏 */\r\n\t.data-bar {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 40rpx 30rpx;\r\n\t\theight: 240rpx;\r\n\t\tdisplay: flex;\r\n\t\tjustify-content: space-between;\r\n\t\talign-items: center;\r\n\t\tbox-shadow: 0 4rpx 16rpx rgba(0, 0, 0, 0.08);\r\n\r\n\t\t.data-item {\r\n\t\t\tflex: 1;\r\n\t\t\tdisplay: flex;\r\n\t\t\tflex-direction: column;\r\n\t\t\talign-items: center;\r\n\t\t\tgap: 20rpx;\r\n\t\t\tposition: relative;\r\n\r\n\t\t\t&:not(:last-child)::after {\r\n\t\t\t\tcontent: '';\r\n\t\t\t\tposition: absolute;\r\n\t\t\t\tright: -1rpx;\r\n\t\t\t\ttop: 50%;\r\n\t\t\t\ttransform: translateY(-50%);\r\n\t\t\t\twidth: 1rpx;\r\n\t\t\t\theight: 60rpx;\r\n\t\t\t\tbackground: #f0f0f0;\r\n\t\t\t}\r\n\r\n\t\t\t.data-icon {\r\n\t\t\t\twidth: 60rpx;\r\n\t\t\t\theight: 60rpx;\r\n\r\n\t\t\t\timage {\r\n\t\t\t\t\twidth: 100%;\r\n\t\t\t\t\theight: 100%;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\r\n\t\t\t.data-info {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 8rpx;\r\n\r\n\t\t\t\t.data-number {\r\n\t\t\t\t\tfont-size: 36rpx;\r\n\t\t\t\t\tfont-weight: 700;\r\n\t\t\t\t\tcolor: #34C759;\r\n\t\t\t\t\tline-height: 1;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.data-label {\r\n\t\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t\tfont-weight: 500;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 订单模块 */\r\n\t.order-module {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tpadding: 30rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t.module-header {\r\n\t\t\tdisplay: flex;\r\n\t\t\talign-items: center;\r\n\t\t\tjustify-content: space-between;\r\n\t\t\tmargin-bottom: 30rpx;\r\n\r\n\t\t\t.module-title {\r\n\t\t\t\tfont-size: 32rpx;\r\n\t\t\t\tfont-weight: 600;\r\n\t\t\t\tcolor: #333;\r\n\t\t\t}\r\n\r\n\t\t\t.view-all {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 8rpx;\r\n\t\t\t\tfont-size: 26rpx;\r\n\t\t\t\tcolor: #999;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.order-items {\r\n\t\t\tdisplay: flex;\r\n\t\t\tjustify-content: space-between;\r\n\r\n\t\t\t.order-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\tflex-direction: column;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tgap: 12rpx;\r\n\t\t\t\tflex: 1;\r\n\r\n\t\t\t\t.order-icon {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\r\n\t\t\t\t\timg {\r\n\t\t\t\t\t\tmax-width: 100%;\r\n\t\t\t\t\t\tmax-height: 100%;\r\n\t\t\t\t\t\tobject-fit: contain;\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.order-label {\r\n\t\t\t\t\tfont-size: 24rpx;\r\n\t\t\t\t\tcolor: #666;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\t/* 服务模块 */\r\n\t.service-module {\r\n\t\tbackground: #fff;\r\n\t\tmargin: 0 30rpx 30rpx;\r\n\t\tborder-radius: 16rpx;\r\n\t\tbox-shadow: 0 2rpx 8rpx rgba(0, 0, 0, 0.06);\r\n\r\n\t\t.service-list {\r\n\t\t\t.service-item {\r\n\t\t\t\tdisplay: flex;\r\n\t\t\t\talign-items: center;\r\n\t\t\t\tpadding: 30rpx;\r\n\t\t\t\tborder-bottom: 1rpx solid #f5f5f5;\r\n\r\n\t\t\t\t&:last-child {\r\n\t\t\t\t\tborder-bottom: none;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-icon {\r\n\t\t\t\t\twidth: 40rpx;\r\n\t\t\t\t\theight: 40rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t\tmargin-right: 24rpx;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-label {\r\n\t\t\t\t\tflex: 1;\r\n\t\t\t\t\tfont-size: 28rpx;\r\n\t\t\t\t\tcolor: #333;\r\n\t\t\t\t}\r\n\r\n\t\t\t\t.service-arrow {\r\n\t\t\t\t\twidth: 20rpx;\r\n\t\t\t\t\theight: 20rpx;\r\n\t\t\t\t\tdisplay: flex;\r\n\t\t\t\t\talign-items: center;\r\n\t\t\t\t\tjustify-content: center;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</style>","import mod from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"; export default mod; export * from \"-!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--8-oneOf-1-0!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-1!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-2!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--8-oneOf-1-3!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\sass-loader\\\\dist\\\\cjs.js??ref--8-oneOf-1-4!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--8-oneOf-1-5!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HbuilderDevTool\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./mine.vue?vue&type=style&index=0&id=dcbcfe34&lang=scss&scoped=true&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1758547635614\n      var cssReload = require(\"D:/HbuilderDevTool/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"/\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  ","import 'uni-pages';\n// @ts-ignore\nwx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/mine/mine.vue'\ncreatePage(Page)"],"sourceRoot":""}
>>>>>>> Stashed changes
